(()=>{"use strict";var e={4981:(e,a,t)=>{var r=t(1957),o=t(1947),n=t(499),i=t(9835),s=t(6970),l=t(6607),c=t.n(l),u=t(1552);const _={class:"text-bold text-h5 q-mt-md q-mb-sm"},d={__name:"App",setup(e){const{get_cid:a}=(0,u.Z)(),t=(0,n.iH)("Update Available"),r=(0,n.iH)("We've made some improvements to the site. Reload the page to get the latest features."),o=(0,n.iH)(!1),l=async()=>{try{const e=await fetch("/version.json",{cache:"no-store"}),{version:a,title:n,message:i}=await e.json();t.value=n||t.value,r.value=i||r.value,a!==window.APP_VERSION&&(o.value=!0)}catch(e){console.error("Error checking app version:",e)}},d=()=>{window.location.reload(!0)};return window.addEventListener("focus",(e=>{l()})),setInterval(l,6e4),(0,i.wF)((()=>{const e=document.cookie.split(/\s*;\s*/).map((e=>e.split("="))),a=e.find((e=>"my-access-token"===e[0]));a||localStorage.removeItem("sb-login-auth-token")})),(0,i.bv)((()=>{setTimeout((()=>{const e=void 0===window.google_tag_manager,t=void 0===window.dataLayer;(e||t)&&c().post("https://us-central1-cp-services-304516.cloudfunctions.net/CP_Webhooks",{event_data:{visitor:{cid:a()},datalayer_not_defined:t,tag_manager_not_defined:e}},{headers:{cp_source:"cp2"}})}),5e3)})),(e,a)=>{const n=(0,i.up)("router-view"),l=(0,i.up)("q-avatar"),c=(0,i.up)("q-card-section"),u=(0,i.up)("q-btn"),p=(0,i.up)("q-card"),m=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n),(0,i.Wm)(m,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"q-pa-lg more-rounded-borders",style:{width:"400px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"text-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{color:"primary","text-color":"white",icon:"autorenew",size:"50px","font-size":"30px"}),(0,i._)("div",_,(0,s.zw)(t.value),1),(0,i._)("div",null,(0,s.zw)(r.value),1)])),_:1}),(0,i.Wm)(c,{class:"text-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{onClick:d,color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("Reload Now")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var p=t(7743),m=t(4458),v=t(3190),h=t(1357),f=t(8879),y=t(9984),g=t.n(y);const b=d,w=b;g()(d,"components",{QDialog:p.Z,QCard:m.Z,QCardSection:v.Z,QAvatar:h.Z,QBtn:f.Z});var k=t(3340),P=t(8339),x=t(5190),q=t(1616),Z=t(6524),E=t(1134),$=t(5227),S=t(9676),C=t(5454),A=t(6827),I=t(2237),M=t(6145),F=t(5798),H=t(1569),O=t(6705),T=t(3483),N=t(7585),j=t(4963);const{call_intercom:D}=(0,j.Z)(),{log_event:z}=(0,u.Z)(),L=()=>{const e=function({customer_name:e,cp_link_id:a}){let t=0;const r=20,o=setInterval((async()=>{if(t++,window.Intercom){const t=window.Intercom("getVisitorId");if(t){clearInterval(o);let r=`https://contact-center.api.comparepower.com/api/intercom/contacts/${t}`;try{let{data:o}=await c().get(r,{headers:{}});if(o?.id){if(!o.name&&e){let a=`https://contact-center.api.comparepower.com/api/intercom/contacts/${o.id}`;await c().patch(a,{name:e},{responseType:"json"})}}else D({command:"update",props:{user_id:t}});if(a){let e=`https://contact-center.api.comparepower.com/api/calls/order_links/${a}/process_click`;await c().patch(e,{user_id:t},{responseType:"json"})}z({name:"order_link_clicked",cp_link_id:a,visitor_id:t})}catch(n){N.Tb(n)}}}else t>=r&&clearInterval(o)}),500)};return{process_contact_center_link:e}},{selected_plan:R,is_Constellation:X}=(0,x.Z)(),{order_id:Y,order:W,order_status:U,mark_order_as_paid:V,deposit_payment_error_codes:J,is_dirty:G}=(0,q.Z)(),{hide_annual_totals:B,get_plan_by_id:K,search_plans:Q,calculate_plan_for_usage:ee,historical_usage_plan_map:ae}=(0,Z.Z)(),{all_valid:te,action:re,selected_start_date:oe}=(0,$.Z)(),{service_location:ne,get_service_location_by_key:ie,property_type:se,owns_property:le,duns_match:ce}=(0,S.Z)(),{available_dates:ue,get_available_dates:_e}=(0,E.Z)(),de=(0,C.Z)(),{filters:pe}=(0,I.Z)(),{zip_code:me,clear_zip_code:ve,get_tdsp_by_id:he,search_tdsps:fe,selected_tdsp:ye}=(0,M.Z)(),{is_live_link_usage:ge,historical_usage:be,usage_type:we,usage_selected:ke,custom_usage_amount:Pe,show_historical_usage:xe,historical_usage_values:qe,clear:Ze,show_live_link_info:Ee}=(0,F.Z)(),{available_terms:$e,selected_terms:Se}=(0,O.Z)(),{process_contact_center_link:Ce}=L(),Ae=["cp_afid","cp_afcid","sscid","cp_afbid","visitorId","utm_campaign","utm_source","utm_medium","utm_content","utm_content"],Ie=e=>Ae.reduce(((a,t)=>(e[t]&&(a[t]=e[t]),a)),{}),Me=async e=>{const a=Ie(e.query);if(!R.value)return{path:"/",query:a}},{log_event:Fe}=(0,u.Z)(),He=async e=>{const{order_id:a,plan_id:t,first_name:r,last_name:o,email:n,phone_number:i,language:s,esiid:l,property_type:c,owns_property:u,action:_,selected_start_date:d,internal_visitor:p,cp_link_id:m,cp_afid:v,cp_afcid:h}=e.query;if(t&&(R.value=await K({plan_id:t})),r&&(de.first_name.value=r),o&&(de.last_name.value=o),n&&(de.email.value=n,de.confirm_email.value=n),i&&(de.phone_number.value=i),s&&(de.spanish.value="spanish"===s?.toLowerCase()),l&&(ne.value=await ie({esiid:l}),me.value=ne.value.zip_code,!ce.value))return{path:"/order/service_location",query:{cp_afcid:h,cp_afid:v}};if(c&&(se.value=c),u&&(le.value="true"===u),_)switch(_.toLowerCase()){case"move":re.value="Move";break;case"switch":re.value="Switch";break;case"asap":re.value="ASAP";break}if(d&&(oe.value=d),m&&!p)if(r||o){const e=[r,o].filter(Boolean).join(" ").trim();Ce({customer_name:e,cp_link_id:m})}else Ce({cp_link_id:m})},{loaded:Oe}=(0,T.Z)(),Te=async function(e){if(e.query.hide_annual_totals&&(B.value="false"!==e.query.hide_annual_totals),e.query.zip_code&&(ve(),Oe.value=!0,me.value=e.query.zip_code.substr(0,5)),e.query.tdsp_duns&&(Oe.value=!0,await he({tdsp_duns:e.query.tdsp_duns})),ye.value?await Q():me.value&&await fe(),e.query.only_green&&(Oe.value=!0,pe.only_100_percent_green.selected="true"===e.query.only_green.toLowerCase()),e.query.only_no_deposit&&(Oe.value=!0,pe.only_no_deposit.selected="true"===e.query.only_no_deposit.toLowerCase()),e.query.only_time_of_use&&(Oe.value=!0,pe.only_time_of_use.selected="true"===e.query.only_time_of_use.toLowerCase()),e.query.brand_ids&&(Array.isArray(e.query.brand_ids)?pe.selected_brands=e.query.brand_ids:pe.selected_brands=[e.query.brand_ids],Oe.value=!0),e.query?.term&&(Array.isArray(e.query.term)?Se.value=e.query.term.map((e=>parseInt(e))):Se.value=[parseInt(e.query.term)],Oe.value=!0),"no_contract"===e.query?.contract_type){const e=$e.value.filter((e=>1===e.value)).map((e=>e.value));e.length&&(Oe.value=!0,Se.value=[e[0]])}else if("contract_only"===e.query?.contract_type){const e=$e.value.filter((e=>1!==e.value)).map((e=>e.value));e.length&&(Oe.value=!0,Se.value=e)}e.query.same_day&&(pe.has_same_day_available.selected="true"===e.query.same_day)},Ne=async function(e){const{clear_usage:a,is_live_link_usage:t}=e.query;if(t&&"true"===t&&(ge.value=!0,Ee.value=!1),a)Ze();else if(e.query.historical_usage)if(Ee.value=!0,we.value="historical",Array.isArray(e.query.historical_usage))for(let r=0;r<e.query.historical_usage.length;r++){const a=parseInt(e.query.historical_usage[r]);isNaN(a)||(be.value[r].usage=parseInt(e.query.historical_usage[r]))}else be.value[0].usage=parseInt(e.query.historical_usage);else e.query.usage&&(Ee.value=!0,ke.value=parseInt(e.query.usage),we.value="kWh",[500,1e3,2e3].includes(ke.value)||(Pe.value=ke.value))},je=()=>{if(G.value)return A.Z.create({message:"We are reloading your order to get the latest update.",color:"warning",textColor:"white",classes:"text-bold rounded-borders-10",actions:[{label:"Dismiss",color:"white"}]}),{path:"/order/processing"}},De=[{path:"/callback",component:()=>t.e(891).then(t.bind(t,8891))},{path:"/",component:()=>Promise.all([t.e(736),t.e(64),t.e(217)]).then(t.bind(t,2498)),children:[{name:"plan_selection",path:"",component:()=>Promise.all([t.e(736),t.e(64),t.e(922)]).then(t.bind(t,309)),beforeEnter:[Te,Ne,He]}],meta:{title:"Plan Selection"}},{name:"order_service_location",path:"/order/service_location",component:()=>Promise.all([t.e(736),t.e(64),t.e(56)]).then(t.bind(t,5154)),beforeEnter:[Ne,He,Me],meta:{title:"Service Location"}},{name:"order_start_date",path:"/order/start_date",component:()=>Promise.all([t.e(736),t.e(64),t.e(444)]).then(t.bind(t,6032)),beforeEnter:[Ne,He,Me,async e=>{const a=Ie(e.query);if(!ne.value||null===le.value||!se.value)return{path:"/order/service_location",query:a};{let e="Non-Standard";if(["AMSR","AMSM"].includes(ne.value.tdsp_ams_indicator)&&(e=ne.value.tdsp_ams_indicator),ue.value=await _e({brand:R.value.product.brand.name,duns_number:R.value.tdsp.duns_number,meter_type:e}),oe.value){let e=ue.value;X.value&&"Move"!==re.value&&(e=ue.value.slice(3));const a=e.find((e=>e.date===oe.value));a||(A.Z.create({message:`Your selected start date of ${oe.value} is no longer available`,caption:"Choose another date",color:"negative",textColor:"white",classes:"text-bold rounded-borders-10",actions:[{label:"Dismiss",color:"white"}]}),oe.value=null)}}}],meta:{title:"Start Date"}},{name:"order_customer_information",path:"/order/customer_information",component:()=>Promise.all([t.e(736),t.e(64),t.e(343)]).then(t.bind(t,2630)),beforeEnter:[Ne,He,Me,async e=>{const a=Ie(e.query);if(!ne.value||null===le.value||!se.value)return{path:"/order/service_location",query:a};if(!te.value)return{path:"/order/start_date",query:a};if(oe.value){let e="Non-Standard";["AMSR","AMSM"].includes(ne.value.tdsp_ams_indicator)&&(e=ne.value.tdsp_ams_indicator),ue.value=await _e({brand:R.value.product.brand.name,duns_number:R.value.tdsp.duns_number,meter_type:e});let t=ue.value;X.value&&"Move"!==re.value&&(t=ue.value.slice(3));const r=t.find((e=>e.date===oe.value));if(!r)return A.Z.create({message:`Your selected start date of ${oe.value} is no longer available`,caption:"Choose another date",color:"negative",textColor:"white",classes:"text-bold rounded-borders-10",actions:[{label:"Dismiss",color:"white"}]}),oe.value=null,{path:"/order/start_date",query:a}}try{const e={plan_id:R.value._id,owns_property:le.value,property_type:se.value};xe.value?e.usages=qe.value:Pe.value&&(e.usages=Pe.value);const{data:a}=await H.orders_api.get("/api/alternative_plans",{params:e});Fe({name:"plan_swap_admin",plan:a}),R.value=ae(a)}catch(t){}}],meta:{title:"Customer Information"}},{name:"order_authorizations",path:"/order/authorizations",component:()=>Promise.all([t.e(736),t.e(64),t.e(11)]).then(t.bind(t,6351)),beforeEnter:[He,Me,async e=>{const a=Ie(e.query);return ne.value?te.value?de.customer_information_valid.value?void 0:{path:"/order/customer_information",query:a}:{path:"/order/start_date",query:a}:{path:"/order/service_location",query:a}}],meta:{title:"Order Authorizations"}},{name:"social_security_number_required",path:"/order/social_security_number_required",component:()=>Promise.all([t.e(736),t.e(64),t.e(737)]).then(t.bind(t,5411)),meta:{title:"Order SSN Required"}},{name:"order_error",path:"/order/error",component:()=>Promise.all([t.e(736),t.e(64),t.e(976)]).then(t.bind(t,8463)),beforeEnter:[je,()=>{if(!W.value)return{path:"/order/processing"}}],meta:{title:"Order Error"}},{name:"order_agreements",path:"/order/agreements",component:()=>Promise.all([t.e(736),t.e(64),t.e(178)]).then(t.bind(t,713)),beforeEnter:[je,()=>{const e=["agreements"].includes(U.value);return!!e||{path:"/order/processing"}}],meta:{title:"Order Agreements"}},{name:"order_deposit_options",path:"/order/deposit_options",component:()=>Promise.all([t.e(736),t.e(64),t.e(58)]).then(t.bind(t,3803)),beforeEnter:[je,()=>!!W?.value?.deposit_options||{path:"/order/processing"}],meta:{title:"Deposit Options"}},{name:"order_review_deposit_option",path:"/order/review_deposit_option",component:()=>Promise.all([t.e(736),t.e(64),t.e(867)]).then(t.bind(t,2859)),beforeEnter:[je,e=>!(!Y.value||!e.query.plan_id)||{path:"/order/processing"}],props:e=>({plan_id:e.query.plan_id}),meta:{title:"Review Deposit Option"}},{name:"order_deposit_payment",path:"/order/deposit_payment",component:()=>Promise.all([t.e(736),t.e(64),t.e(228)]).then(t.bind(t,4578)),beforeEnter:[je,()=>!!J.includes(U.value)||{path:"/order/processing"}],meta:{title:"Deposit Payment"}},{name:"missing_id_information",path:"/order/missing_id_information",component:()=>Promise.all([t.e(736),t.e(64),t.e(14)]).then(t.bind(t,597)),beforeEnter:[je,()=>"missing_id_information"===U.value||{path:"/order/processing"}],meta:{title:"Missing ID Information"}},{name:"order_processing",path:"/order/processing",component:()=>Promise.all([t.e(736),t.e(64),t.e(650)]).then(t.bind(t,256)),props:e=>({order_id:e.query.order_id}),meta:{title:"Order Processing"}},{name:"order_verification",path:"/order/verification",component:()=>Promise.all([t.e(736),t.e(64),t.e(274)]).then(t.bind(t,2644)),beforeEnter:[()=>!!["invalid_sms_code","no_sms_code_submitted","invalid_sms_phone_number"].includes(U.value)||{path:"/order/processing"}],props:e=>({order_id:e.query.order_id}),meta:{title:"Order Verification"}},{name:"order_pending",path:"/order/pending",component:()=>Promise.all([t.e(736),t.e(64),t.e(804)]).then(t.bind(t,6608)),beforeEnter:()=>"pending"===U.value||{path:"/order/processing"},meta:{title:"Order: Pending"}},{name:"order_confirmation_action_required",path:"/order/confirmation_action_required",component:()=>Promise.all([t.e(736),t.e(64),t.e(108)]).then(t.bind(t,318)),beforeEnter:()=>"confirmation_action_required"===U.value||{path:"/order/processing"},meta:{title:"Order: Confirmation Action Required"}},{name:"order_confirmation",path:"/order/confirmation",component:()=>Promise.all([t.e(736),t.e(64),t.e(191)]).then(t.bind(t,5178)),beforeEnter:()=>"complete"===U.value||{path:"/order/processing"},meta:{title:"Order: Confirmation"}},{name:"order_payment_complete",path:"/order/payment_complete",component:Promise.all([t.e(736),t.e(64),t.e(191)]).then(t.bind(t,5178)),beforeEnter:async e=>(Y.value=e.query.order_id,Y.value&&await V({order_id:Y.value,payload:e.query}),{path:"/order/processing"}),meta:{title:"Payment Complete"}},{path:"/tdsp_fees",component:()=>Promise.all([t.e(736),t.e(437)]).then(t.bind(t,3437))},{path:"/test",component:()=>Promise.all([t.e(736),t.e(64),t.e(564)]).then(t.bind(t,724))},{name:"plan_summary",path:"/plan_summary",component:()=>Promise.all([t.e(736),t.e(64),t.e(71)]).then(t.bind(t,4780)),beforeEnter:[Ne,async e=>{const a=e.query.plan_id;if(R.value=await K({plan_id:a}),R.value[`display_pricing_${ke.value}`]||(R.value[`display_pricing_${ke.value}`]=await ee({plan_id:a,usage:ke.value})),xe.value){for(const e of qe.value)R.value[`display_pricing_${e}`]||(R.value[`display_pricing_${e}`]=await ee({plan_id:a,usage:e})),R.value[`display_pricing_${e}`];R.value=ae(R.value)}}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([t.e(736),t.e(134)]).then(t.bind(t,4134))}],ze=De;var Le=t(8779);const{supabase:Re,is_authenticated:Xe}=(0,Le.Z)(),Ye=async(e,a,t)=>{const r=document.cookie.split(/\s*;\s*/).map((e=>e.split("="))),o=r.find((e=>"my-access-token"===e[0])),n=r.find((e=>"my-refresh-token"===e[0])),i=r.find((e=>"logged_out_token"===e[0]));if(Xe.value){if(i&&o&&o[1]&&i[1]&&o[1]===i[1]){localStorage.removeItem("sb-login-auth-token");const e=new Date(0).toUTCString();document.cookie=`logged_out_token=; Domain=comparepower.com; path=/; expires=${e}; SameSite=Lax; secure`,document.cookie=`my-access-token=; Domain=comparepower.com; path=/; expires=${e}; SameSite=Lax; secure`,document.cookie=`my-refresh-token=; Domain=comparepower.com; path=/; expires=${e}; SameSite=Lax; secure`,window.location.reload()}}else o&&n&&(i&&o?o[1]!==i[1]&&await Re.auth.setSession({access_token:o[1],refresh_token:n[1]}):await Re.auth.setSession({access_token:o[1],refresh_token:n[1]}));t()},We=(0,k.BC)((function(){const e=P.PO,a=(0,P.p7)({scrollBehavior:()=>({left:0,top:0}),routes:ze,history:e("/")});return a.beforeEach(Ye),a}));async function Ue(e,a){const t=e(w);t.use(o.Z,a);const r=(0,n.Xl)("function"===typeof We?await We({}):We);return{app:t,router:r}}const Ve={config:{},plugins:{Notify:A.Z}},Je="/";async function Ge({app:e,router:a},t){let r=!1;const o=e=>{try{return a.resolve(e).href}catch(t){}return Object(e)===e?null:e},n=e=>{if(r=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const a=o(e);null!==a&&(window.location.href=a)},i=window.location.href.replace(window.location.origin,"");for(let l=0;!1===r&&l<t.length;l++)try{await t[l]({app:e,router:a,ssrContext:null,redirect:n,urlPath:i,publicPath:Je})}catch(s){return s&&s.url?void n(s.url):void console.error("[Quasar] boot error:",s)}!0!==r&&(e.use(a),e.mount("#q-app"))}Ue(r.ri,Ve).then((e=>{const[a,r]=void 0!==Promise.allSettled?["allSettled",e=>e.map((e=>{if("rejected"!==e.status)return e.value.default;console.error("[Quasar] boot error:",e.reason)}))]:["all",e=>e.map((e=>e.default))];return Promise[a]([Promise.resolve().then(t.bind(t,1569)),Promise.resolve().then(t.bind(t,9189)),Promise.resolve().then(t.bind(t,8023)),Promise.resolve().then(t.bind(t,7782)),Promise.resolve().then(t.bind(t,671)),Promise.resolve().then(t.bind(t,7219)),Promise.resolve().then(t.bind(t,2679)),Promise.resolve().then(t.bind(t,9121)),Promise.resolve().then(t.bind(t,9283)),Promise.resolve().then(t.bind(t,193))]).then((a=>{const t=r(a).filter((e=>"function"===typeof e));Ge(e,t)}))}))},7219:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var r=t(3340),o=t(5806);const n=(0,r.xr)((({app:e})=>{e.use((0,o.B8)({domain:"auth.comparepower.com",client_id:"YNW0IxjiEy0vyqsbJWrtRrqHSL4Apnae",redirect_uri:`${window.location.origin}/callback`,audience:"https://contact-center.api.comparepower.com"}))}))},1569:(e,a,t)=>{t.r(a),t.d(a,{contact_center_api:()=>c,default:()=>u,ercot_api:()=>l,orders_api:()=>s,pricing_api:()=>i});var r=t(3340),o=t(6607),n=t.n(o);const i=n().create({baseURL:"https://pricing.api.comparepower.com"}),s=n().create({baseURL:"https://orders.api.comparepower.com",withCredentials:!0}),l=n().create({baseURL:"https://ercot.api.comparepower.com/api/esiids"}),c=n().create({baseURL:"https://contact-center.api.comparepower.com"}),u=(0,r.xr)((({app:e})=>{e.config.globalProperties.$axios=n(),e.config.globalProperties.$pricing_api=i,e.config.globalProperties.$orders_api=s,e.config.globalProperties.$ercot_api=l,e.config.globalProperties.$contact_center_api=c}))},9121:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var r=t(3340),o=t(3908);const n=(0,r.xr)((({app:e})=>{e.use(o.x5,{loadOptions:{apiKey:"NxXPMrApo0krhSty2IYW",endpoint:"https://comparepower.com/Gx6AkBtQw3xCaLVC/1WAPxyo6vtIdYqJV",scriptUrlPattern:"https://comparepower.com/Gx6AkBtQw3xCaLVC/AoXU1hCW0qHwJ3ZZ?apiKey=<apiKey>&version=<version>&loaderVersion=<loaderVersion>"}})}))},8023:(e,a,t)=>{t.r(a),t.d(a,{FullStory:()=>o,default:()=>s,set_fs_url_cookie:()=>i});var r=t(3340),o=t(5780),n=t(4006);const i=function(){if(o.isInitialized()){const e=o.getCurrentSessionURL();n.Z.set("fs_url",e,{secure:!0,domain:"comparepower.com",sameSite:"None",path:"/"})}},s=(0,r.xr)((({app:e})=>{o.init({orgId:"2ERWC"},(()=>{i()})),e.config.globalProperties.$FullStory=o}))},9189:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var r=t(1552);const o=({router:e})=>{const{log_page:a}=(0,r.Z)();e.afterEach(((e,t)=>{a({name:e.name,path:e.path})}))}},671:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var r=t(3340),o=t(5414);const n=(0,r.xr)((({app:e})=>{e.use(o.Z)}))},2679:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var r=t(4963);const o=({router:e})=>{const{call_intercom:a}=(0,r.Z)();e.afterEach(((e,t)=>{document.title=e.meta.title,a({command:"update"})}))}},193:(e,a,t)=>{t.r(a),t.d(a,{posthog:()=>r.ZP});var r=t(5086);r.ZP.init("phc_gL27pfbQTAuAaPclmrtu9tYK0J745Lg05pxypBja9od",{api_host:"https://app.posthog.com"})},7782:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var r=t(3340),o=t(7123),n=t(9305);const i=(0,r.xr)((({Vue:e})=>{o.S1({dsn:"https://911e552bfac44148b53d9753ee880ce4@o443325.ingest.sentry.io/4504006479183872",release:'"bb3fecad250bd1de02a89c9bcc601cf8b616724f"',environment:"PRD",integrations:[new n.gE],beforeSend(e,a){return e},tracesSampleRate:.2})}))},9283:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var r=t(3340);const o={i8:"1.7.0"},n=(0,r.xr)((({Vue:e})=>{window.APP_VERSION=o.i8}))},1552:(e,a,t)=>{t.d(a,{Z:()=>_});t(2879);var r=t(796),o=t(4006),n=t(3833),i=t(8126),s=t(193);const l=function(){let e=n.Z.getItem("cid");if(!e){const a=(0,r.Z)(),t=Math.round((new Date).getTime()/1e3);e=`${a}.${t}`,n.Z.set("cid",e)}return o.Z.set("cp_cid",e,{secure:!0,domain:"comparepower.com",sameSite:"Lax",path:"/",expires:180}),e},c=function({name:e,keep_name:a,...t}){let r=i.Z.getItem("zip_code"),o=null;if(t){const e={};for(const a of Object.keys(t))e[a]=null;dataLayer.push({event:"clear",...e})}t.cp_cart&&(t.cp_cart.user_details.cp_fpid=n.Z.getItem("cp_fpid"),t.cp_cart.user_details.cp_fpid&&(t.cp_cart.user_details.cp_fpid_only=t.cp_cart.user_details.cp_fpid.split(".")[0],t.cp_cart.user_details.cp_fpid_timestamp=t.cp_cart.user_details.cp_fpid.split(".")[1])),dataLayer.push({event:a?e:`cp_${e}`,service_zip_code:r,is_txu_split_test_on:s.posthog.isFeatureEnabled("enable_txu_brand_test"),txu_shown_experience:o,cid:l(),cp_fpid:n.Z.getItem("cp_fpid"),...t})},u=function({name:e,path:a}){dataLayer.push({event:`cp_pv_${e}`,path:a,cid:l()})},_=()=>({get_cid:l,log_event:c,log_page:u})},1134:(e,a,t)=>{t.d(a,{Z:()=>s});var r=t(499),o=t(1569);const n=(0,r.iH)([]),i=async function({brand:e,duns_number:a,meter_type:t}){try{const{data:r}=await o.orders_api.get("https://orders.api.comparepower.com/api/available_dates",{params:{brand:e,duns_number:a,meter_type:t},responseType:"json"});return r}catch(r){throw r}},s=()=>({available_dates:n,get_available_dates:i})},8539:(e,a,t)=>{t.d(a,{Z:()=>p});var r=t(499),o=t(9835),n=t(3195),i=t(1569);const s=(0,r.iH)(!1),l=(0,r.iH)([]),{storage:c}=(0,n.Xs)("selected_brands",[]),u=function(){c.value=[]},_=async function(){const{data:e}=await i.pricing_api.get("/api/brands");return e},d=(0,o.Fl)((()=>!c.value?.length)),p=()=>({available_brands_loading:s,available_brands:l,selected_brands:c,clear_brand_selection:u,no_brand_selected:d,get_brand_list:_})},7921:(e,a,t)=>{t.d(a,{m:()=>o});var r=t(499);const o=(0,r.iH)({user_details:{},meta_data:{}})},5454:(e,a,t)=>{t.d(a,{Z:()=>k});var r=t(499),o=t(9835);const n=()=>{const e=(0,r.iH)(null),a=(0,r.iH)(null),t=(0,r.iH)(null),n=(0,r.iH)(null),i=(0,r.iH)(null),s=(0,o.Fl)((()=>e.value&&t.value&&n.value&&i.value)),l=function(){e.value=null,a.value=null,t.value=null,n.value=null,i.value=null};return{line_1:e,line_2:a,city:t,state:n,zip_code:i,is_valid:s,clear_address:l}};var i=t(3483);const{mmddyyyy_to_yyyymmdd:s,yyyymmdd_to_mmddyyyy:l}=(0,i.Z)(),c=(0,r.iH)(null),u=(0,r.iH)(null),_=(0,r.iH)(null),d=(0,r.iH)(null),p=(0,r.iH)(null),m=(0,r.iH)(null),v=(0,r.iH)(n()),h=(0,r.iH)(n()),f=(0,r.iH)(!1),y=(0,r.iH)(!1),g=(0,r.iH)(!1),b=function(){c.value=null,u.value=null,_.value=null,d.value=null,m.value=null,f.value=!1,y.value=!1,g.value=!1,v.value.clear_address(),h.value.clear_address()},w=(0,o.Fl)((()=>!!c.value&&!!u.value&&!!d.value&&d.value===p.value&&!!m.value&&10===m.value.length&&!!_.value&&!!h.value?.is_valid)),k=()=>({first_name:c,last_name:u,date_of_birth:_,email:d,confirm_email:p,phone_number:m,current_address:v,billing_address:h,spanish:f,electronic_billing:y,paperless_billing:g,clear_all_customer_information:b,customer_information_valid:w})},7112:(e,a,t)=>{t.d(a,{Z:()=>_});var r=t(3195);const{storage:o}=(0,r.Xs)("only_100_percent_green",{selected:!1,disabled:!1}),{storage:n}=(0,r.Xs)("only_time_of_use",{selected:!1,disabled:!1}),{storage:i}=(0,r.Xs)("only_no_deposit",{selected:!1,disabled:!1}),{storage:s}=(0,r.Xs)("include_auto_pay",{selected:!0,disabled:!1}),{storage:l}=(0,r.Xs)("has_bill_credit",{selected:!1,disabled:!1}),{storage:c}=(0,r.Xs)("has_same_day_available",{selected:!1,disabled:!1}),u=()=>{o.value={selected:!1,disabled:!1},n.value={selected:!1,disabled:!1},i.value={selected:!1,disabled:!1},s.value={selected:!1,disabled:!1},c.value={selected:!1,disabled:!1}},_=()=>({only_100_percent_green:o,only_time_of_use:n,only_no_deposit:i,include_auto_pay:s,has_bill_credit:l,has_same_day_available:c,clear:u})},4963:(e,a,t)=>{t.d(a,{Z:()=>r});const r=()=>({call_intercom:({command:e,event_type:a,props:t})=>{window.Intercom&&(a?window.Intercom(e,a,t):window.Intercom(e,t))}})},1616:(e,a,t)=>{t.d(a,{Z:()=>ge});var r=t(499),o=t(9835),n=t(3195),i=t(5190),s=t(9676),l=t(5227),c=t(5454),u=t(1569),_=t(5798),d=t(6524),p=t(8023),m=t(9832),v=t.n(m),h=t(2237),f=t(2988),y=t(6145),g=t(8779);const b=["identity_payment_required","payment_amount_does_not_match","payment_url_does_not_match","no_payment_submitted","payment_declined"],w=(0,r.iH)("address"),{storage:k}=(0,n.Xs)("order_id",null),P=(0,r.iH)(null),x=(0,r.iH)(!1),q=(0,r.iH)(!1),Z=(0,o.Fl)((()=>{if(P.value){if("complete"===P.value.lock){const e=P.value?.deposit_details?.amount_due>P.value?.deposit_details?.amount_paid;let a=!1;if(P.value?.post_order_actions)for(const t of P.value?.post_order_actions)if(["pev","resolve_fraud_alert","pay_bad_debt"].includes(t)){a=!0;break}return e||a?"confirmation_action_required":"complete"}if(1!==P.value.errors?.length){if(P.value.errors?.length>1){const e=P.value.errors.some((e=>["identity_deposit_required_continue","identity_fraud_alert_continue","identity_frozen_continue_deposit","identity_bad_debt_continue","post_enrollment_verification_needed"].includes(e.error)));return e?"agreements":P.value.errors[0]}return"unknown"}{const e=P.value.errors[0];switch(e.error){case"compare_power_error":case"provider_error":case"provider_unmapped_error":case"unknown_error":return"pending";case"identity_fraud_alert_continue":case"identity_frozen_continue_deposit":case"identity_bad_debt_continue":case"post_enrollment_verification_needed":case"identity_deposit_required_continue":return P.value.deposit_options?"alternative_deposit_options":"agreements";default:return e.error}}}})),E=async function({order_id:e,post_order_actions:a}){try{const t={};a&&(t.confirmation_page_type="post_order_actions");const{data:r}=await u.orders_api.patch(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${e}/mark_complete_page_viewed`,t,{responseType:"json"});return r}catch(t){console.error(t)}},$=async function({plan_id:e,service_location_key:a,selected_start_date:t,customer_information:r,billing_address:o,options:n,meta_data:i}){try{(0,p.set_fs_url_cookie)();const{data:s}=await u.orders_api.post("https://orders.api.comparepower.com/api/orders/texas_retail_electricity",{plan_id:e,service_location_key:a,selected_start_date:t,customer_information:r,billing_address:o,options:n,meta_data:i},{responseType:"json"});return s}catch(s){throw s}},S=async function({order_id:e}){try{const{status:t,data:r}=await u.orders_api.get(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${e}/status`);if(200===t)return P.value=r,r;if(r.customer_check_response?.value?.deposit_amount)try{P.value.customer_check_response.value.deposit_amount=parseFloat(r.customer_check_response.value.deposit_amount)}catch(a){console.error("deposit amount is not a number")}if(r.order_submit_response?.value?.deposit_amount)try{P.value.order_submit_response.value.deposit_amount=parseFloat(r.order_submit_response.value.deposit_amount)}catch(a){console.error("deposit amount is not a number")}return null}catch(a){return null}},{calculate_plan_for_usage:C,historical_usage_plan_map:A}=(0,d.Z)(),{filters:I}=(0,h.Z)(),{selected_plan:M,plan_position:F,featured_plan_position:H}=(0,i.Z)(),{service_location:O,map_service_location:T,owns_property:N,property_type:j}=(0,s.Z)(),{usage_selected:D,historical_usage:z,usage_type:L,show_historical_usage:R,historical_usage_values:X,is_live_link_usage:Y}=(0,_.Z)(),{is_authenticated:W,user:U}=(0,g.Z)(),{first_name:V,last_name:J,email:G,phone_number:B,date_of_birth:K,current_address:Q,billing_address:ee,spanish:ae,clear_all_customer_information:te}=(0,c.Z)(),{selected_start_date:re,action:oe}=(0,l.Z)(),ne=(0,r.qj)({first_name:V,last_name:J,email:G,phone_number:B,date_of_birth:K,current_address:Q,billing_address:ee,spanish:ae,selected_start_date:re,action:oe,service_location:O,owns_property:N,property_type:j});(0,o.YP)(ne,((e,a)=>{q.value=!0}));const ie=async function({social_security_number:e,drivers_license_number:a,drivers_license_state:t}){try{const o={plan_id:M.value._id,service_location_key:O.value.esiid,...re.value&&{selected_start_date:re.value},customer_information:{first_name:V.value,last_name:J.value,email:G.value,phone_number:B.value,date_of_birth:K.value,...e&&{social_security_number:e},...a&&{drivers_license_number:a},...t&&{drivers_license_state:t},...Q.value?.line_1&&Q.value?.city&&Q.value?.state&&Q.value?.zip_code&&{current_address:{line_1:Q.value.line_1,...Q.value.line_2&&{line_2:Q.value.line_2},city:Q.value.city,state:Q.value.state,zip_code:Q.value.zip_code}}},billing_address:{line_1:ee.value.line_1,...ee.value.line_2&&{line_2:ee.value.line_2},city:ee.value.city,state:ee.value.state,zip_code:ee.value.zip_code},options:{spanish:ae.value,move_in:"Move"===oe.value},meta_data:{property_type:j.value,owns_property:N.value,channel:"comparepower.com web portal",plan_position:F.value,featured_plan_position:H.value,filters:I}};if(R.value?o.meta_data.selected_profile=X.value.map((e=>parseInt(e))):o.meta_data.selected_usage=parseInt(D.value),W.value&&(o.meta_data.logged_in=!0,o.meta_data.logged_in_user=U.value),Y.value&&(o.meta_data.live_link=!0),document.cookie)try{o.meta_data.cookies=document.cookie.split("; ").map((e=>e.split("="))).reduce(((e,a)=>(e[a[0]]=a[1],e)),{})}catch(r){console.error(r)}if(k.value)o.selected_start_date||(o.remove_start_date=!0),await se(o),ye({order_id:k.value});else{const{_id:e}=await $(o);k.value=e,ye({order_id:k.value})}return k.value}catch(r){throw r}},se=async function(e){if(k.value){const{data:a}=await u.orders_api.patch(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${k.value}`,e,{responseType:"json"});return a}},le=async function(e){if(k.value){const{data:a}=await u.orders_api.patch(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${k.value}/update_customer_info`,e,{responseType:"json"});return a}},ce=async function(){if(k.value){const{data:e}=await u.orders_api.get(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${k.value}/get_deposit_payment_link`,{responseType:"json"});return e.value.url}},ue=async function(e){if(k.value){const{data:a}=await u.orders_api.patch(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${k.value}/make_payment_request`,e,{responseType:"json"});return a}},_e=async function({order_id:e,payload:a}){if(e){const{data:t}=await u.orders_api.patch(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${e}/mark_deposit_paid`,a,{responseType:"json"});return t}},de=async function(){if(k.value){const{data:e}=await u.orders_api.get(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${k.value}/alternative_deposit_options`,{responseType:"json"});return e}},pe=async function({code:e}){if(k.value){const{data:a}=await u.orders_api.get(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${k.value}/sms/${e}`,{responseType:"json"});return a}},me=async function(){if(k.value){const{data:e}=await u.orders_api.get(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${k.value}/sms`,{responseType:"json"});return e}},ve=async function({plan_id:e}){if(k.value){const{data:a}=await u.orders_api.patch(`https://orders.api.comparepower.com/api/orders/texas_retail_electricity/${k.value}/alternative_deposit_options`,{plan_id:e},{responseType:"json"});return ye({order_id:k.value}),a}},he=(0,r.iH)(!1),fe=async function(){const{zip_code:e,selected_tdsp:a}=(0,y.Z)();try{if(he.value=!0,P.value=await S({order_id:k.value}),P.value){if(P.value.request?.meta_data?.selected_usage?(D.value=P.value.request?.meta_data?.selected_usage,L.value="kWh"):P.value.request?.meta_data?.selected_profile&&(z.value=f.kI.months("long").map(((e,a)=>({month:e,usage:P.value.request?.meta_data?.selected_profile[a]||null,short_month:e.substring(0,3)}))),L.value="historical"),R.value){for(const e of X.value)P.value.selected_plan.value[`display_pricing_${e}`]=await C({plan_id:P.value.selected_plan.value._id,usage:e});P.value.selected_plan.value=A(P.value.selected_plan.value)}else![500,1e3,2e3].includes(D.value)&&P.value.selected_plan?.value&&(P.value.selected_plan.value[`display_pricing_${D.value}`]=await C({plan_id:P.value.selected_plan.value._id,usage:D.value}));["deposit_required","complete","pending"].includes(Z.value)?(O.value=null,M.value=null,re.value=null,oe.value=null,te()):(M.value=P.value.selected_plan.value,a.value=P.value.selected_plan.value.tdsp,P.value?.service_location?.value&&(P.value.service_location.value=T(P.value.service_location.value),O.value=P.value.service_location.value,e.value=P.value.service_location.value.zip_code),re.value=P.value?.request?.selected_start_date||null,oe.value=P.value?.request?.options?.move_in?"Move":re.value?"Switch":"ASAP",V.value=P.value.request.customer_information.first_name,J.value=P.value.request.customer_information.last_name,G.value=P.value.request.customer_information.email,B.value=P.value.request.customer_information.phone_number,j.value=P.value.request?.meta_data?.property_type,N.value=P.value.request?.meta_data?.owns_property)}}catch(t){throw t}finally{he.value=!1}},ye=function({order_id:e}){let a=1;const t=screen.width,r=screen.height,o=t*r;o>5e6&&(a=5e6/o),v()(document.body,{scrollX:0,scrollY:0,scale:a,useCORS:!0,allowTaint:!0}).then((function(a){a.toBlob((async a=>{u.orders_api.post(`/api/orders/texas_retail_electricity/${e}/screenshots/authorizations`,a,{headers:{"content-type":"multipart/form-data"}})}))})).catch((function(e){console.error(e)}))},ge=()=>({is_dirty:q,deposit_payment_error_codes:b,step:w,order_id:k,order:P,submit_order:$,submit_verification_code:pe,request_verification_code:me,get_order_status:S,order_status:Z,order_submit:ie,update_order:se,update_customer_info:le,get_deposit_payment_link:ce,make_payment:ue,mark_order_as_paid:_e,mark_complete_page_viewed:E,get_alternative_deposit_options:de,select_alternative_deposit_option:ve,order_processing:he,process_order:fe,previous_order_alerted:x})},2237:(e,a,t)=>{t.d(a,{Z:()=>A});var r=t(499),o=t(9835),n=t(8539),i=t(6705),s=t(7112),l=t(1552);const{clear_brand_selection:c,selected_brands:u}=(0,n.Z)(),{clear_term_selection:_,available_terms:d,selected_terms:p}=(0,i.Z)(),{only_100_percent_green:m,only_no_deposit:v,only_time_of_use:h,include_auto_pay:f,has_bill_credit:y,has_same_day_available:g}=(0,s.Z)(),b=function(){c(),_(),h.value.selected=!1,m.value.selected=!1,v.value.selected=!1,g.value.selected=!1,f.value.selected=!0},w=(0,r.qj)({selected_brands:u,selected_terms:p,only_100_percent_green:m,only_time_of_use:h,only_no_deposit:v,include_auto_pay:f,has_bill_credit:y,has_same_day_available:g}),k=(0,o.Fl)((()=>({selected_brands_prop:u.value,selected_terms_prop:p.value,only_100_percent_green_prop:m.value,only_time_of_use_prop:h.value,only_no_deposit_prop:v.value,include_auto_pay_prop:f.value,has_bill_credit_prop:y.value,has_same_day_available:g.value}))),P=(0,o.Fl)((()=>!u.value.length&&!p.value.length&&!m.value.selected&&!v.value.selected&&!h.value.selected&&!g)),x=(0,o.Fl)((()=>{const e=d.value.filter((e=>e.value>=12)).map((e=>e.value));return!!w.selected_terms.length&&p.value.every((a=>e.includes(a)))})),q=(0,o.Fl)((()=>!d.value.some((e=>e.value>=12&&!e.disabled)))),Z=function(){b();const e=d.value.filter((e=>e.value>=12)).map((e=>e.value));p.value=e},E=(0,o.Fl)((()=>1===p.value?.length&&1===p.value[0])),$=function(){b(),p.value=[1]},S=(0,o.Fl)((()=>!d.value.some((e=>1===e.value&&!e.disabled)))),{log_event:C}=(0,l.Z)();(0,o.YP)(w,(()=>{C({name:"shop_select_filter",filters:w})})),(0,o.YP)(u,(()=>{C({name:"shop_select_provider",selected_brands:u})})),(0,o.YP)(p,(()=>{C({name:"shop_select_contract_length",selected_terms:p})}));const A=()=>({filters:w,combined_filters:k,has_no_filters:P,has_long_term_filter:x,has_no_contract_filter:E,long_term_disabled:q,no_contract_disabled:S,clear_all_filters:b,filter_no_contract:$,filter_long_term:Z})},6524:(e,a,t)=>{t.d(a,{Z:()=>ie});t(2879),t(9766);var r=t(499),o=t(9835),n=t(193),i=t(6145),s=t(2237),l=t(5798),c=t(4862),u=t(8539),_=t(6705),d=t(3483),p=t(1569),m=t(7),v=t.n(m);const h=["77581","77079","77067","77040","77010","77099","77014","77480","77082","77494","77090","77042","77084","77379","77429","77007","77088","77063","77346","77055","77373","77095","77469","77091","77092","77389","77096","77019","77386","77377","77041","77550","77051","77057","77018","77388","77083","77016","77009","77546","77477","77074","77093","77061","77038","77081","77520","77069","77044","77447","77066","77053","77026","77056","77532","77536","77571","77023","77345","77355","77554","77059","77504","77598","77094","77075","77028","77474","77049","77565","77039","77531","77587","77503","77545","77032","77539","77461","77037","77005","77563","77362","77517","77541","77012","77316","77423","77003","77029","77484","77573","77385","77435","77050","77534","77486","77515","77356","77434","77451","77046","77444","77485","77464","77507","76051","75092","76108","75080","75228","75050","76022","75206","75238","75052","75243","75039","75126","76116","76039","75229","76020","75063","78660","75019","75098","76262","75165","75074","76017","75006","76112","76052","75216","76014","75235","76087","79705","75043","75208","75110","75482","76574","75065","75801","75060","75701","75762","76705","76537","75090","76501","76103","75180","75249","76009","75233","75835","76031","76044","75144","76035","76155","78665","76131","76182","75002","76065","75071","75407","75087","76513","76034","76016","76109","75219","75104","75072","78634","75088","75205","76006","76002","75062","75082","75048","75150","76040","76548","75230","76107","76712","76210","75218","75001","75020","76012","75089","78728","75022","75154","76557","76140","79707","76710","76135","76310","75771","76011","75241","75901","75215","76005","76104","76054","79762","76801","75460","75054","75454","75156","76060","76049","75212","75076","76309","75040","75182","75009","79761","76084","76082","76247","75173","76306","75114","78717","75462","76667","75758","75163","75236","75706","75226","75210","75142","76249","76050","75964","75143","76088","76078","75202","75941","76071","78628","75125","76520","76234","76365","76059","79703","75474","75135","75251","76651","76707","75124","75109","75401","79331","75414","75839","76448","75756","76692","75041","75980","76449","76691","75155","76225","75708","76444","76064","76458","76259","79772","75840","76554","76366","76704","75750","75426","75496","76638","76640","76687","76205","76534","75754","75976","75147","76648","76374","76624","76802","76487","76630","79789","76661","76041","76250","76527","76711","75042","75705","75479","75101","76351","76055","79731","76023","75102","78633","75247","79778","75763","76823","75844","76272","75937","75846","79545","77865","76827","76073","75481","76486","76252","75486","78615","76460","76484","76941","76201","76856","76951","79532","75458","76656","78727","79543","76472","76540","76570","76632","76878","76641","75476","75850","75438","75449","75132","76475","79721","76431","76676","76702","79760","76701","75861","78650","75779","76872","76253","76466","76680","76844","79748","79351","76858","76307","75859","79535","79730","76626","79770","75712","76836","75151","76890","79754","75448","75415","76068","75963","76660","76825","76445","75802","75121","75710","79738","76432","76871","79733","75127","75140","75853","75083","76621","76852","75153","76628","75488","79759","76360","75433","79704","79719","75469","75554","76623","76268"],f=["77449","77036","77077","77071","77080","77354","77065","77017","77521","77479","77060","77021","77004","77006","77450","77072","77054","77493","77070","77407","77064","77471","77441","77047","77035","77043","77551","77489","77530","77502","77339","77015","77086","77586","77048","77013","77020","77562","77510","77577","77547","77584","77578","77406","77375","77008","77396","77025","77022","77498","77506","77338","77089","77583","77027","77523","77024","77045","77566","77030","77087","77401","77031","77002","77380","77078","77505","77068","77098","77518","77478","77058","77488","77076","77511","77336","77062","77420","77085","77535","77011","77365","77417","77568","77418","77382","77445","77468","77430","77476","77204","77481","77422","77448","77433","77459","77033","77073","77034","75149","76180","75061","76401","75204","75214","75227","76010","76179","76123","75115","75237","76132","75013","75010","76001","75203","75209","75232","75159","75223","76426","75152","76028","75248","75023","78664","76137","76502","75220","75703","75093","75038","75231","75056","75116","75234","76542","76522","75904","75224","76543","76015","76013","75028","78626","75134","75034","76110","75189","75253","76655","75141","75211","76571","75078","75751","75160","76244","75702","75409","75459","75287","75069","76053","79763","75137","75035","75240","76119","76063","75254","78681","76036","76133","75025","75252","75032","75007","75181","75024","75070","76021","75051","75075","75217","75081","76120","76549","75225","76126","76106","75201","76117","76118","75119","76643","76248","76708","76134","76092","76033","76541","75244","76114","79765","76148","75146","76067","76008","76308","76115","76706","75044","79706","76018","79764","75709","75428","79714","76504","76354","75949","76111","76450","79701","76559","75707","76105","75791","76102","76058","75117","75961","75473","75172","79756","75766","79720","76367","75166","75442","75760","76240","76657","75033","75789","75418","79758","75803","75207","75757","76301","75021","76208","79549","76086","75094","75785","75831","79512","75103","79556","76305","76567","75704","76639","76664","75925","75860","76302","75446","75965","76226","76539","75752","75423","75167","75402","75432","76177","76462","75148","76579","75164","76164","75421","76642","75667","76681","76207","76267","76519","76446","75443","76678","75851","79739","75138","75770","79755","79782","75424","79749","76544","79713","76859","76887","75161","76481","76577","79742","75784","76437","75437","75790","76085","76503","76804","76454","76066","79527","76524","76862","75441","75780","75943","75773","76273","76564","78608","75411","79511","76530","75157","76380","75782","75495","75550","75497","76048","75711","75058","79766","79709","79788","76442","75969","76228","76270","76877","76470","75849","79526","78653","75091","75654","76379","75461","75068","75855","75422","76578","78621","76679","75431","75470","76654","75778","79743","76511","76670","76686","77855","76685","76848","76429","75246","75452","76227","79777","75067","76932","75832","76233","76635","79565","76490","79712","76650","79710","75439","76631","76569","76864","79776","76673","76703","76264","75764","79783","75420","76837","75684","76311","76435","75169","76556","75492","76682","76666","78680","75447","75477","79741","79745","78674","76693","77871","76209","75261","75833","76561","76633","76518","76645","76424"];var y=t(8779);const g=t(2809),b=(0,r.iH)(!1),{is_authenticated:w}=(0,y.Z)(),{is_live_link_usage:k}=(0,l.Z)(),P=(0,o.Fl)((()=>n.posthog.isFeatureEnabled("ff_enable_shop_custom_usage_exclusive_plans")&&w.value&&k.value&&T.value>=2e4&&["CNP","CPE","ONC"].includes(E.value?.abbreviation))),x=(0,o.Fl)((()=>n.posthog.isFeatureEnabled("ff_enable_shop_custom_usage_exclusive_plans")&&w.value&&k.value&&T.value>=2e4&&["CNP","CPE","ONC"].includes(E.value?.abbreviation)&&D.value.length>=2)),q=function(e){if(e){if(e.product?.early_termination_fee_pro_rated){const a=e.product?.early_termination_fee/e.product?.term;e.product.early_termination_fee_text=`$${a.toFixed(2)} per remaining contract month`}else{const a=e.product?.early_termination_fee;e.product.early_termination_fee_text=`$${a.toFixed(2)}`}e.product.term_string=e.product.term>1?`${e.product.term} Months`:"Month to Month";for(const a of Object.keys(e));}return e},Z=((0,o.Fl)((()=>h.includes($.value))),(0,o.Fl)((()=>f.includes($.value))),function(e){if(e=q(e),O.value){let a,t,r=0,o=0;for(const n of O.value){o+=parseInt(n.usage);const i=e[`display_pricing_${n.usage}`]?.total||0;r+=i,!a||a.total<i?a={total:i,months:[n.short_month]}:a?.total===i&&a.months.push(n.short_month),!t||t.total>i?t={total:i,months:[n.short_month]}:t?.total===i&&t.months.push(n.short_month)}r>0&&(e.total_cost=r,e.total_usage=o,e.high=a,e.low=t,e.average_total=Math.round(e.total_cost/O.value.length*100)/100,e.total_cost=Math.round(100*e.total_cost)/100,e.total_average=Math.round(1e3*e.total_cost/e.total_usage)/10)}return e}),{selected_tdsp:E,zip_code:$}=(0,i.Z)(),{filters:S,combined_filters:C}=(0,s.Z)(),{usage_type:A,usage_selected:I,historical_usage:M,show_historical_usage:F,historical_usage_values:H,valid_historical_usage:O,total_historical_usage:T}=(0,l.Z)(),{sort_option:N}=(0,c.Z)(),j=(0,r.iH)([]),D=(0,r.iH)([]),z=(0,r.iH)([]),L=(0,r.iH)(!1),R=(0,r.iH)(null);const X=async function(){try{if(R.value||(await te(),await Y()),!I.value)return z.value=[],[];if(E.value){L.value=!0,z.value=[];let e=await W({tdsp_duns:E.value.duns_number,...S.selected_brands.length&&{brand_id:S.selected_brands},...S.selected_terms.length&&{term:S.selected_terms},...S.only_100_percent_green.selected&&{percent_green:100},...S.only_no_deposit.selected&&{is_pre_pay:!0},...S.only_time_of_use.selected&&{is_time_of_use:!0},...!S.include_auto_pay.selected&&{requires_auto_pay:!1},...S.has_bill_credit.selected&&{has_bill_credit:!1},...S.has_same_day_available.selected&&{same_day:!0},...!F.value&&I.value&&{display_usage:I.value},...F.value&&{display_usage:H.value},current:!0,ended:!1,disabled:!1});const a=e.map((e=>e.product.term)).filter(B);ae.value.forEach((e=>{a.includes(e.value)?e.disabled=!1:e.disabled=!0}));const t=e.map((e=>e.product.brand._id)).filter(B);Q.value.forEach((e=>{t.includes(e._id)?e.disabled=!1:e.disabled=!0}));const r=e.some((e=>100===e.product.percent_green));S.only_100_percent_green.disabled=!r;const o=e.some((e=>e.product.is_pre_pay));S.only_no_deposit.disabled=!o;const n=e.some((e=>e.product.is_time_of_use));if(S.only_time_of_use.disabled=!n,F.value?P.value?z.value=e.map(Z):z.value=e.map(Z).filter((e=>!e.groups?.includes("excl"))):P.value?z.value=e.map(q):z.value=e.map(q).filter((e=>!e.groups?.includes("excl"))),D.value=[],D.value=e.filter((e=>e.groups.includes("excl")&&"CPR10"===e.product?.promo_code)),D.value.length){D.value[0].is_exclusive_plan=!0;let a=e.find((e=>e.product.name===D.value[0].product.name&&e._id!==D.value[0]._id&&"CPRC"===e.product.promo_code));D.value.unshift(a)}return P.value||(e=e.filter((e=>!e.groups?.includes("excl")))),U(),e}}catch(e){console.error(e)}finally{L.value=!1}},Y=async function(){try{j.value=[];const{data:e}=await p.pricing_api.get("https://pricing.api.comparepower.com/api/featured_plans",{params:{tdsp_duns:E.value.duns_number,...!F.value&&I.value&&{display_usage:I.value},...F.value&&{display_usage:H.value}},paramsSerializer:e=>g.stringify(e)});j.value=e.map(Z)}catch(e){console.error(e)}},W=async function({tdsp_duns:e,brand_id:a,term:t,percent_green:r,is_pre_pay:o,is_time_of_use:n,requires_auto_pay:i,has_bill_credit:s,same_day:l,display_usage:c}){try{let u=await p.pricing_api.get("https://pricing.api.comparepower.com/api/plans/current",{params:{group:"default",tdsp_duns:e,...a&&{brand_id:a},...t&&{term:t},...r&&{percent_green:r},...o&&{is_pre_pay:o},...n&&{is_time_of_use:n},...i&&{requires_auto_pay:i},...c&&{display_usage:c},...!1===s&&{has_bill_credit:s},...!0===l&&{same_day:l}},paramsSerializer:e=>g.stringify(e)});return u=u.data,u}catch(u){console.error(u)}},U=function(){const{type:e,desc:a}=N.value,t=a?-1:1;z.value.sort(((a,r)=>{let o,n;return"price"===e?"historical"===A.value&&a.total_cost&&r.total_cost?(o=a.total_cost,n=r.total_cost):(o=a[`display_pricing_${I.value}`].total,n=r[`display_pricing_${I.value}`].total):(o=a.product.term,n=r.product.term),o>n?-1*t:1*t}))},V=async function({plan_id:e}){try{if(F.value){const{data:a}=await p.pricing_api.get(`https://pricing.api.comparepower.com/api/plans/${e}`,{params:{display_usage:H.value},paramsSerializer:e=>g.stringify(e)});return Z(a)}{const{data:a}=await p.pricing_api.get(`https://pricing.api.comparepower.com/api/plans/${e}`,{params:{display_usage:I.value},paramsSerializer:e=>g.stringify(e)});return q(a)}}catch(a){console.error(a)}},J=async function({plan_id:e,usage:a}){try{const{data:t}=await p.pricing_api.get(`https://pricing.api.comparepower.com/api/plans/${e}/calculate/${a}`);return t}catch(t){console.error(t)}},G=async function({plan_id:e,usage_start:a=0,usage_end:t=3e3,step:r=100}){try{const{data:o}=await p.pricing_api.get(`https://pricing.api.comparepower.com/api/plans/${e}/chart/${a}/${t}/${r}`);return o}catch(o){console.error(o)}},{distinct:B}=(0,d.Z)(),{available_brands_loading:K,available_brands:Q}=(0,u.Z)(),{available_terms_loading:ee,available_terms:ae}=(0,_.Z)(),te=async function(){K.value=!0,ee.value=!0;try{let e=await W({tdsp_duns:E.value.duns_number});e=e.filter((e=>!e.groups?.includes("excl"))),R.value=e.length,e.map((e=>e.product.brand)),Q.value=[...new Map(e.map((e=>e.product.brand)).map((e=>[e["_id"],{...e,selected:!1}]))).values()].sort(((e,a)=>e.name.toLowerCase()<a.name.toLowerCase()?-1:1)),ae.value=e.map((e=>e.product.term)).sort(((e,a)=>e-a)).filter(B).map((e=>({value:e,name:1===e?"Monthly / No-Contract":`${e} months`,selected:!1})))}catch(e){console.error(e)}finally{K.value=!1,ee.value=!1}},re=(0,r.iH)([]),oe=(0,o.Fl)((()=>({filters_prop:C.value,selected_tdsp_prop:E.value,usage_selected_prop:I.value,usage_type_prop:A.value})));(0,o.YP)(oe,(e=>{ne()}),{deep:!0});const ne=v()((async()=>{await Promise.all([X(),Y()]),U(),re.value.includes("tdsp")&&te(),re.value=[]}),300);(0,o.YP)(E,(async()=>{E.value&&re.value.push("tdsp")})),(0,o.YP)(S,(()=>{})),(0,o.YP)(N,(()=>{U()})),(0,o.YP)(I,(async()=>{})),(0,o.YP)(A,(async()=>{}));const ie=()=>({hide_annual_totals:b,total_plans:R,filtered_plans:z,search_plans_loading:L,search_plans:X,featured_plans:j,recommended_plans:D,search_featured_plans:Y,plan_search:W,sort_plans:U,get_plan_by_id:V,calculate_plan_for_usage:J,get_chart_data_for_plan:G,plan_map:q,historical_usage_plan_map:Z,show_recommended_plans:x})},5190:(e,a,t)=>{t.d(a,{Z:()=>y});var r=t(9835),o=t(499),n=t(3195),i=t(1552);const{log_event:s}=(0,i.Z)(),{storage:l}=(0,n.Xs)("selected_plan",null),c=(0,r.Fl)((()=>"Rhythm Energy"===l.value?.product?.brand?.name)),u=(0,r.Fl)((()=>["Just Energy","Amigo Energy","Tara Energy"].includes(l.value?.product?.brand?.name))),_=(0,r.Fl)((()=>["APGE"].includes(l.value?.product?.brand?.name))),d=(0,r.Fl)((()=>["TXU Energy"].includes(l.value?.product?.brand?.name))),p=(0,r.Fl)((()=>["Gexa Energy","Frontier Utilities"].includes(l.value?.product?.brand?.name))),m=(0,r.Fl)((()=>["Constellation"].includes(l.value?.product?.brand?.name))),v=(0,r.Fl)((()=>!!l.value)),h=(0,o.iH)(null),f=(0,o.iH)(null);(0,r.YP)(l,(async()=>{}));const y=()=>({selected_plan:l,is_apge:_,is_rhythm:c,is_just_energy:u,is_txu_energy:d,is_nextera:p,is_Constellation:m,is_plan_valid:v,featured_plan_position:f,plan_position:h})},9676:(e,a,t)=>{t.d(a,{Z:()=>P});var r=t(499),o=t(9835),n=t(5190),i=t(3195),s=t(1569);const{selected_plan:l}=(0,n.Z)(),{storage:c}=(0,i.Xs)("property_type",null),{storage:u}=(0,i.Xs)("owns_property",null),_=(0,r.iH)(!1),{storage:d}=(0,i.Xs)("service_location",null),p=(0,r.iH)(!1),m=async function({address:e,zip_code:a}){try{p.value=!0;const{data:t}=await s.ercot_api.get("https://ercot.api.comparepower.com/api/esiids",{params:{address:e,zip_code:a},responseType:"json"});return t.map(w)}catch(t){console.log(t)}finally{p.value=!1}},v=(0,o.Fl)((()=>!l.value||!d.value||l.value.tdsp.duns_number===d.value.duns)),h=(0,o.Fl)((()=>!d.value||"Residential"===d.value?.premise_type)),f=(0,o.Fl)((()=>{if(d.value&&l.value){const{is_time_of_use:e,is_pre_pay:a}=l.value.product;if(e&&!["AMSR","AMSM"].includes(d.value.tdsp_ams_indicator))return!1;if(a&&!["AMSR"].includes(d.value.tdsp_ams_indicator))return!1}return!0})),y=(0,o.Fl)((()=>!(!d.value||"Y"!==d.value.switch_hold_indicator))),g=(0,o.Fl)((()=>!!d.value&&(!!v.value&&(!!h.value&&(!!f.value&&!y.value))))),b=async function({esiid:e}){try{let{data:a}=await s.ercot_api.get(`https://ercot.api.comparepower.com/api/esiids/${e}`);return w(a)}catch(a){console.log(a)}},w=function(e){return{...e,label:`${e.address}, ${e.city} ${e.state} ${e.zip_code}`}},k=function(){c.value=null,u.value=!0},P=()=>({is_loading:p,search_service_locations:m,get_service_location_by_key:b,map_service_location:w,property_type:c,owns_property:u,service_location_loading:_,service_location:d,duns_match:v,is_residential:h,meter_requirement_match:f,has_switch_hold:y,service_location_valid:g,clear:k})},5227:(e,a,t)=>{t.d(a,{Z:()=>h});var r=t(9835),o=t(3195),n=t(5190);const{is_rhythm:i,is_just_energy:s,is_txu_energy:l,is_apge:c}=(0,n.Z)(),{storage:u}=(0,o.Xs)("action",null),{storage:_}=(0,o.Xs)("selected_start_date",null),d=(0,r.Fl)((()=>_.value&&/^\d{4}-\d{2}-\d{2}$/.test(_.value))),p=(0,r.Fl)((()=>["Move","Switch","ASAP"].includes(u.value))),m=(0,r.Fl)((()=>i.value?["Move","Switch"].includes(u.value)&&d.value:p.value&&("ASAP"===u.value||d.value)));(0,r.YP)(u,(()=>{"ASAP"!==u.value||s.value&&l.value&&c.value||(_.value=null)}));const v=()=>{_.value=null,u.value=null},h=()=>({action:u,is_action_valid:p,selected_start_date:_,is_selected_start_date_valid:d,all_valid:m,clear:v})},4862:(e,a,t)=>{t.d(a,{Z:()=>u});var r=t(3195),o=t(9835),n=t(1552);const{log_event:i}=(0,n.Z)(),s=[{type:"price",desc:!0,label:"Price (low to high)"},{type:"price",desc:!1,label:"Price (high to low)"},{type:"term",desc:!0,label:"Term / Contract Length (shorter to longer)"},{type:"term",desc:!1,label:"Term / Contract Length (longer to shorter)"}],{storage:l}=(0,r.Xs)("sort_option",s[0]);(0,o.YP)(l,(()=>{i({name:"shop_select_sort",sort_option:l.value})}));const c=()=>{l.value=s[0]},u=()=>({sort_option:l,sort_options:s,clear:c})},8779:(e,a,t)=>{t.d(a,{Z:()=>y});var r=t(499),o=t(9835),n=t(2896),i=t(1552),s=t(3833),l=t(7921);const c="https://login.comparepower.com",u="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpydHB6cmZxaXlhaGt5ZWprdHpwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDMwODc3NzEsImV4cCI6MjAxODY2Mzc3MX0.h1l11DETsF1LKN46ym7fpjMqOQJbM6hgd8G74zwwkf4",_=(0,n.eI)(c,u),d=31536e5,p=new Date(0).toUTCString(),{log_event:m}=(0,i.Z)();_.auth.onAuthStateChange(((e,a)=>{switch(e){case"SIGNED_IN":const e={};if(h.value){const{id:a,user_metadata:t,last_sign_in_at:r}=h.value,{email:o,HMAC:n}=t||{};e.user_id=a,e.logged_in_at=Math.round(new Date(r).getTime()/1e3),e.email=o,e.cp_fpid=s.Z.getItem("cp_fpid"),e.cp_fpid&&(e.cp_fpid_only=e.cp_fpid.split(".")[0],e.cp_fpid_timestamp=e.cp_fpid.split(".")[1]),n&&(e.intercom_hmac_hash=n),l.m.value.user_details={...l.m.value.user_details,...e}}m({name:"auth_event",user_information:e,mem_event_details:{auth_event_type:"load_authenticated"},cp_cart:l.m.value});case"TOKEN_REFRESHED":document.cookie=`my-access-token=${a.access_token}; Domain=comparepower.com; path=/; max-age=${d}; SameSite=Lax; secure`,document.cookie=`my-refresh-token=${a.refresh_token}; Domain=comparepower.com; path=/; max-age=${d}; SameSite=Lax; secure`,v.value=!0,h.value=a.user;break;case"USER_UPDATED":h.value=a.user;break;case"SIGNED_OUT":const t=document.cookie.split(/\s*;\s*/).map((e=>e.split("="))),r=t.find((e=>"my-access-token"===e[0]));document.cookie=`logged_out_token=${r[1]}; Domain=comparepower.com; path=/; max-age=${d}; SameSite=Lax; secure`,document.cookie=`my-access-token=; Domain=comparepower.com; path=/; expires=${p};`,document.cookie=`my-refresh-token=; Domain=comparepower.com; path=/; expires=${p};`,v.value=!1,h.value=null,m({name:"auth_event",mem_event_details:{auth_event_type:"successful_sign_out"}});break}}));const v=(0,r.iH)(!1),h=(0,r.iH)(null),f=(0,o.Fl)((()=>h.value?h.value.user_metadata?.first_name&&h.value.user_metadata?.last_name?`https://ui-avatars.com/api/?background=03a9f4&color=fff&name=${h.value.user_metadata.first_name}+${h.value.user_metadata.last_name}`:h.value.email?`https://ui-avatars.com/api/?background=03a9f4&color=fff&name=${h.value.email}`:h.value.phone?`https://ui-avatars.com/api/?background=03a9f4&color=fff&name=${h.value.phone}`:`https://ui-avatars.com/api/?name=${h.value.id}`:null)),y=()=>({supabase:_,is_authenticated:v,user:h,picture:f})},6145:(e,a,t)=>{t.d(a,{Z:()=>k});var r=t(499),o=t(9835),n=t(1552),i=t(3195),s=t(1569);const{log_event:l}=(0,n.Z)(),{storage:c}=(0,i.Xs)("zip_code",null),u=(0,r.iH)([]),{storage:_}=(0,i.Xs)("selected_tdsp",null),d=(0,r.iH)(!1),p=(0,r.iH)(!1),m=async function(){try{const{data:e}=await s.pricing_api.get("https://pricing.api.comparepower.com/api/tdsps",{responseType:"json"});return e}catch(e){console.error(e)}},v=async function({duns_number:e}={}){try{if(l({name:"shop_tdsp_search",zip_code:c.value}),d.value=!0,_.value=null,u.value=[],c.value){const{data:a}=await s.pricing_api.get("https://pricing.api.comparepower.com/api/tdsps",{params:{zip_code:c.value,duns_number:e},responseType:"json"});u.value=a,1===u.value?.length&&(_.value=u.value[0]),p.value=0===u.value?.length}}catch(a){console.log(a)}finally{d.value=!1}},h=function(){_.value=null,u.value=[]},f=async function({tdsp_duns:e}){try{_.value=null,u.value=[];const{data:a}=await s.pricing_api.get(`https://pricing.api.comparepower.com/api/tdsps/${e}`,{responseType:"json"});return a&&(_.value=a),a}catch(a){console.log(a)}},y=function(e){switch(e){case"007924772":return"AEP Central";case"007923311":return"AEP North";case"957877905":return"Centerpoint";case"1039940674000":return"Oncor";case"007929441":return"TNMP";case"0582138934100":return"LP & L"}},g=(0,o.Fl)((()=>"0582138934100"===_.value?.duns_number)),b=["1039940674000","957877905"],w=(0,o.Fl)((()=>{const{duns_number:e}=_.value||{};return b.includes(e)})),k=()=>({show_zip_code_error:p,zip_code:c,available_tdsps:u,selected_tdsp:_,loading_tdsps:d,search_tdsps:v,get_tdsps:m,get_tdsp_by_id:f,get_tdsp_name_by_duns:y,clear_zip_code:h,is_lubbock:g,live_link_eligible:w})},6705:(e,a,t)=>{t.d(a,{Z:()=>_});var r=t(499),o=t(9835),n=t(3195);const i=(0,r.iH)(!1),s=(0,r.iH)([]),{storage:l}=(0,n.Xs)("selected_terms",[]),c=function(){l.value=[]},u=(0,o.Fl)((()=>!l.value.length)),_=()=>({available_terms_loading:i,available_terms:s,selected_terms:l,clear_term_selection:c,no_term_selected:u})},5798:(e,a,t)=>{t.d(a,{Z:()=>Z});var r=t(499),o=t(9835),n=t(3483),i=t(2988),s=t(3195),l=t(1552);const{log_event:c}=(0,l.Z)(),{distinct:u}=(0,n.Z)(),_=(0,r.iH)(!1),d=(0,r.iH)(!1),p=(0,r.iH)(!0),{storage:m}=(0,s.Xs)("usage_type","kWh"),{storage:v}=(0,s.Xs)("usage_selected",1e3),{storage:h}=(0,s.Xs)("custom_usage_amount",null),{storage:f}=(0,s.Xs)("historical_usage",i.kI.months("long").map((e=>({month:e,usage:null,short_month:e.substring(0,3)})))),y=(0,o.Fl)((()=>f.value&&f.value.filter((e=>e.usage)))),g=(0,o.Fl)((()=>y.value.length)),b=(0,o.Fl)((()=>"historical"===m.value&&g.value>0)),w=(0,o.Fl)((()=>{if(b.value)return y.value.map((e=>e.usage)).filter(u)})),k=(0,o.Fl)((()=>f.value?.reduce(((e,a)=>e+a.usage),0))),P=[1.05,.93,.93,.71,.81,1.1,1.32,1.38,1.27,.96,.74,.8],x=(0,o.Fl)((()=>P.map((e=>Math.round(e*v.value)))));(0,o.YP)(v,(()=>{c({name:"shop_usage_selected",cp_shop:{usage:parseInt(v.value)}})}));const q=()=>{m.value="kWh",f.value=i.kI.months("long").map((e=>({month:e,usage:null,short_month:e.substring(0,3)}))),v.value=1e3,h.value=null},Z=()=>({show_live_link_info:p,is_live_link_usage:d,usage_type:m,usage_selected:v,usage_profile:x,custom_usage_amount:h,historical_usage:f,historical_usage_changed:_,show_historical_usage:b,valid_historical_usage:y,historical_usage_count:g,historical_usage_values:w,total_historical_usage:k,clear:q})},3483:(e,a,t)=>{t.d(a,{Z:()=>X});t(2879);var r=t(7717),o=t.n(r),n=t(2988),i=t(499);const s=(e,a,t)=>t.indexOf(e)===a,l=async function(e,a,t,r=6e4){const o=Number(new Date)+r;let n=await e();while(a(n)){if(!(Number(new Date)<o)){n={is_timeout:!0};break}await c(t),n=await e()}return n},c=function(e=500){return new Promise((a=>{setTimeout(a,e)}))},u=function(e){if(e){const a=e.split("/");return`${a[2]}-${a[0]}-${a[1]}`}return e},_=function(e){if(e){const a=e.split("-");return`${a[1]}-${a[2]}-${a[0]}`}return e},d=function(e){switch(e){case 500:return"Apartment";case 1e3:return"Small Home";case 1500:return"Medium Home";case 2e3:return"Large Home";default:return"Your Home"}},p=function(e){return e?.product?.display_name||e?.product?.name||"this plan"},m=function(e){return e?.product?.brand?.name||"Provider"},v=function(e){return m(e)?.replace(/ /gm,"_").toLowerCase()},h=function(e){return e?.product?.brand?.legal_name||e?.product?.brand?.name||"Provider"},f=function(e){return e?.product?.brand?.contact_info?.support?.address},y=function(e){return e?.product?.brand?.contact_info?.support?.email},g=function(e){return e?.product?.brand?.contact_info?.support?.url},b=function(e){return e?.product?.brand?.configuration?.has_credit_check_method},w=function(e){return e?.product?.brand?.puct_number},k=function(e){return e.product.phone_number?e.product.phone_number:e.product.brand.contact_info?.sales?.phone_number},P=function(e){return e?.product?.brand?.contact_info?.brand?.phone_number?e?.product?.brand?.contact_info?.brand?.phone_number:e.product.phone_number?e.product.phone_number:e.product.brand.contact_info?.sales?.phone_number},x=function(e){return e?.product?.brand?.contact_info?.support?.phone_number},q=function(e){return e?.product?.brand?.configuration?.allow_drivers_license||!e?.product?.brand?.configuration?.social_security_number_required},Z=function(e){return e?.product?.brand?.configuration?.allow_current_address},E=function(e,a){return e?.document_links?.find((e=>e.type===a))?.link},$=function(e){const a=e.order_submit_response?.value?.payment_requirements?.url;return"Payless Power"===e.brand?`${a}&redirect=${location.origin}/order/payment_complete?order_id=${e._id}`:a},S=function(e){switch(e){case"monday":return"Mon";case"tuesday":return"Tue";case"wednesday":return"Wed";case"thursday":return"Thu";case"friday":return"Fri";case"saturday":return"Sat";case"sunday":return"Sun"}},C=function(e){return e?`:${e}`:""},A=function(e,a){if(0===e)return`12${C(a)} am`;if(12===e)return`12${C(a)} pm`;{const t=e%12,r=e<12?"am":"pm";return`${t}${C(a)} ${r}`}},I=function(e){if(e?.product?.brand?.operation_hours){const a=[];for(const[t,r]of Object.entries(e.product.brand.operation_hours)){const e=a.find((e=>o()(e.hours,r)));e?e.days.push(t):a.push({hours:r,days:[t]})}return a}},M=function(e){const a=I(e);if(a){const e=a.map((e=>{let a=S(e.days[0]);return e.days.length>1&&(a+=`-${S(e.days[e.days.length-1])}`),`${a} ${A(e.hours.start,e.hours.start_min)} to ${A(e.hours.end,e.hours.end_min)} CST`})).join(", ");return`(${e})`}return"(24 Hours, 7 days a week)"},F={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},H=Object.entries(F).map((([e,a])=>({value:e,label:a}))),O=function(e){return isNaN(e)?e:e>=0?e.toFixed(2):`(${(-1*e).toFixed(2)})`},T=(e,a)=>{try{if(e){const t=n.ou.fromISO(e,{zone:"America/Chicago"});return a?t.toFormat("EEEE MMM dd',' yyyy",{}):t.toFormat("EEEE MMM dd',' yyyy',' h:mm:ss a ZZZZ")}}catch(t){return e}},N=(e,a)=>"ASAP"===e?"Standard Switch (1-7 Days)":`${e} on ${T(a,!0)}`,j=function(e){switch(e){case"4Change Energy":case"TXU Energy":case"TriEagle Energy":case"Veteran Energy":case"Express Energy":case"Ambit Energy":return"Vistra";case"Just Energy":case"Amigo Energy":case"Tara Energy":return"Fulcrum";case"Constellation":return"Constellation Energy";case"Gexa Energy":case"Frontier Utilities":return"NextEra";case"Pulse Power":case"New Power Texas":return"Shell";case"Payless Power":return"Young Energy";case"Reliant":case"Green Mountain":case"Cirro Energy":case"Discount Power":case"Direct Energy":return"NRG";case"Flagship Power":case"JUICE":return"Flagship";case"Atlantex Power":return"Atlantex Power";default:return"Unknown"}},D=function({plan:e,sort_index:a,list_id:t}){return{item_id:e?.product._id,item_name:e?.product.name,affiliation:j(e?.product?.brand?.name),index:a,item_brand:e?.product.brand?.name,item_category:"Electricity",item_category2:"Residential",item_category3:"Texas",item_category4:e?.tdsp?.short_name,...t&&{item_list_id:t},...t&&{item_list_name:t},item_variant:`${e?.product?.term} months`,quantity:1,plan_id:e?._id,price_500:e?.display_pricing_500?.avg,price_1000:e?.display_pricing_1000?.avg,price_2000:e?.display_pricing_2000?.avg}},z=function(e){return e&&"[object Function]"==={}.toString.call(e)},L=function(e,a){var t,r;return function(){r=z(a)?a:function(){return a};var o=this,n=arguments,i=function(){t=null,e.apply(o,n)};clearTimeout(t),t=setTimeout(i,r())}},R=(0,i.iH)(!1),X=()=>({loaded:R,debounce:L,mmddyyyy_to_yyyymmdd:u,yyyymmdd_to_mmddyyyy:_,distinct:s,home_type:d,plan_name:p,plan_brand:m,plan_brand_image_name:v,plan_doc_link:E,plan_brand_puct:w,plan_brand_legal_name:h,plan_brand_address:f,plan_brand_support_email:y,plan_brand_website:g,plan_brand_phone_number:P,plan_phone_number:k,plan_support_phone_number:x,plan_hours_string:M,plan_credit_check:b,plan_allow_drivers_license:q,plan_allow_current_address:Z,plan_to_ecommerce:D,brand_to_provider:j,states:F,state_list:H,poll_api_call:l,get_deposit_payment_link:$,format_dollar_amount:O,delay:c,format_date:T,get_start_date_string:N})}},a={};function t(r){var o=a[r];if(void 0!==o)return o.exports;var n=a[r]={id:r,loaded:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,(()=>{var e=[];t.O=(a,r,o,n)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,o,n]=e[u],s=!0,l=0;l<r.length;l++)(!1&n||i>=n)&&Object.keys(t.O).every((e=>t.O[e](r[l])))?r.splice(l--,1):(s=!1,n<i&&(i=n));if(s){e.splice(u--,1);var c=o();void 0!==c&&(a=c)}}return a}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,o,n]}})(),(()=>{t.n=e=>{var a=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(a,{a}),a}})(),(()=>{var e,a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var n=Object.create(null);t.r(n);var i={};e=e||[null,a({}),a([]),a(a)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=a(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i["default"]=()=>r,t.d(n,i),n}})(),(()=>{t.d=(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((a,r)=>(t.f[r](e,a),a)),[]))})(),(()=>{t.u=e=>"js/"+(64===e?"chunk-common":e)+"."+{11:"707a63a3",14:"f907243e",56:"45a62b28",58:"27aac6b3",64:"67b65b86",71:"55775921",108:"9a29c4f0",134:"e481a958",178:"80b1c9fe",191:"bc0f437f",217:"5c72c27f",228:"5226b9ec",274:"46177b9c",343:"813b823d",437:"49611bbf",444:"45fbe9de",564:"c091227f",650:"a42feb98",737:"97c74a4d",804:"f1cb49b5",867:"d79c2c79",891:"a4a4f31d",922:"9294cecd",976:"187da0f1"}[e]+".js"})(),(()=>{t.miniCssF=e=>"css/"+e+"."+{11:"d1c12092",14:"d1c12092",56:"99fe1fea",58:"9c782146",71:"63176be3",108:"0d7a49e6",178:"5f328264",191:"80956814",217:"3948d17c",228:"393a87e0",274:"d1c12092",343:"6e6f4ed5",444:"23a37308",564:"25fd0fec",650:"18d8c76f",737:"d1c12092",804:"8a069777",867:"d1c12092",922:"35d5f6cc",976:"691cf9f5"}[e]+".css"})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{var e={},a="orders.comparepower.com:";t.l=(r,o,n,i)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var _=c[u];if(_.getAttribute("src")==r||_.getAttribute("data-webpack")==a+n){s=_;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",a+n),s.src=r),e[r]=[o];var d=(a,t)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(t))),a)return a(t)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,a,t,r,o)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var i=t=>{if(n.onerror=n.onload=null,"load"===t.type)r();else{var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.href||a,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=s,n.parentNode.removeChild(n),o(l)}};return n.onerror=n.onload=i,n.href=a,t?t.parentNode.insertBefore(n,t.nextSibling):document.head.appendChild(n),n},a=(e,a)=>{for(var t=document.getElementsByTagName("link"),r=0;r<t.length;r++){var o=t[r],n=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===e||n===a))return o}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){o=i[r],n=o.getAttribute("data-href");if(n===e||n===a)return o}},r=r=>new Promise(((o,n)=>{var i=t.miniCssF(r),s=t.p+i;if(a(i,s))return o();e(r,s,null,o,n)})),o={143:0};t.f.miniCss=(e,a)=>{var t={11:1,14:1,56:1,58:1,71:1,108:1,178:1,191:1,217:1,228:1,274:1,343:1,444:1,564:1,650:1,737:1,804:1,867:1,922:1,976:1};o[e]?a.push(o[e]):0!==o[e]&&t[e]&&a.push(o[e]=r(e).then((()=>{o[e]=0}),(a=>{throw delete o[e],a})))}}})(),(()=>{var e={143:0};t.f.j=(a,r)=>{var o=t.o(e,a)?e[a]:void 0;if(0!==o)if(o)r.push(o[2]);else if(444!=a){var n=new Promise(((t,r)=>o=e[a]=[t,r]));r.push(o[2]=n);var i=t.p+t.u(a),s=new Error,l=r=>{if(t.o(e,a)&&(o=e[a],0!==o&&(e[a]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+a+" failed.\n("+n+": "+i+")",s.name="ChunkLoadError",s.type=n,s.request=i,o[1](s)}};t.l(i,l,"chunk-"+a,a)}else e[a]=0},t.O.j=a=>0===e[a];var a=(a,r)=>{var o,n,[i,s,l]=r,c=0;if(i.some((a=>0!==e[a]))){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(l)var u=l(t)}for(a&&a(r);c<i.length;c++)n=i[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(u)},r=globalThis["webpackChunkorders_comparepower_com"]=globalThis["webpackChunkorders_comparepower_com"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})();var r=t.O(void 0,[736],(()=>t(4981)));r=t.O(r)})();
//# sourceMappingURL=app.ef716ddd.js.map