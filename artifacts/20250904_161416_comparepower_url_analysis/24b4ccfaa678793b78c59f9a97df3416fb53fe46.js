(globalThis.webpackChunkintercom_js=globalThis.webpackChunkintercom_js||[]).push([[3326,3524],{16645:(e,t,i)=>{"use strict";i.d(t,{Q:()=>b,r:()=>f});var n=i(7350),r=i.n(n),o=i(96540),s=i(86923);const a=(0,s.Ay)("div",{target:"e1hi37s22"})({name:"2izk9q",styles:"scroll-margin-top:10px;width:0px;height:0px"}),l=(0,s.Ay)("div",{target:"e1hi37s21"})("display:flex;flex-direction:column;flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;outline-offset:-5px;overscroll-behavior:contain;scrollbar-color:",(0,s.w4)("alphaBlack20")," transparent;scrollbar-width:thin;&::-webkit-scrollbar{appearance:none;width:5px;}&::-webkit-scrollbar-thumb{background-color:",(0,s.w4)("alphaBlack20"),";border-radius:5px;}&::-webkit-scrollbar-track{background-color:transparent;}"),c=(0,s.Ay)("div",{target:"e1hi37s20"})({name:"z5atxi",styles:"display:flex;flex-direction:column;flex-grow:1"}),d=(e,t)=>{const[i,n]=(0,o.useState)(0),r=(0,o.useRef)(i);return r.current=i,(0,o.useEffect)((()=>{const i=e.current;if(!i)return;const o=new ResizeObserver((e=>{for(const o of e){var i;const e=null==(i=o.contentBoxSize[0])?void 0:i.blockSize;r.current!==e&&(n(e),r.current=e,t(e))}}));return o.observe(i),()=>{o.disconnect()}}),[e,t]),i};var p=i(83034),u=i(38221),h=i.n(u),m=i(74848);const g=["children","onWheel"];const x=(0,o.createContext)({anchorRef:(0,o.createRef)(),anchor:null,setAnchor:()=>{},canScroll:!1,setCanScroll:()=>{}}),f=()=>(0,o.useContext)(x),v=e=>null===e?"unknown":"bottom"===e.type?"bottom":`item-${e.id}`,y=()=>{const{anchor:e,anchorRef:t}=f();return(0,o.useEffect)((()=>{const i=t.current;if(e&&i){const{type:t,scrollImmediately:n=!0,initialBehavior:r="smooth"}=e;if(n){const e={behavior:r,block:"bottom"===t?"end":"start"};i.scrollIntoView(e)}}}),[e,t]),null===e?null:(0,m.jsx)(a,{ref:t,id:"anchor","data-testid":`anchor-${v(e)}`})},b={Root:({children:e})=>{const[t,i]=(0,o.useState)(null),[n,r]=(0,o.useState)(!1),s=(0,o.useRef)(null);return(0,m.jsx)(x.Provider,{value:{anchorRef:s,anchor:t,setAnchor:i,canScroll:n,setCanScroll:r},children:e})},Content:(0,o.forwardRef)(((e,t)=>{let{children:i,onWheel:n}=e,s=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,g);const{anchor:a,setAnchor:u,anchorRef:x,setCanScroll:v}=f(),b=(0,o.useRef)(null),w=(0,o.useRef)(null),j=(0,o.useMemo)((()=>r()((()=>{const e=b.current;e&&((e,t=40)=>e.scrollHeight-e.scrollTop-e.clientHeight<=t)(e)?u({type:"bottom",scrollImmediately:!1}):u(null)}),300,{leading:!0,trailing:!0})),[u]),k=(0,o.useMemo)((()=>h()((()=>{const e=x.current,t=b.current;a&&e&&t&&("bottom"===a.type?t.scrollTo({top:t.scrollHeight,behavior:"smooth"}):e.scrollIntoView({behavior:"smooth",block:"start"}));const i=b.current&&b.current.clientHeight<b.current.scrollHeight;v(!!i)}),100)),[a,x,v]);return d(w,k),d(b,k),(0,m.jsx)(l,Object.assign({},s,{onWheel:e=>{j(),n&&n(e)},onTouchMove:j,ref:(0,p.A)(t,b),children:(0,m.jsxs)(c,{ref:w,children:[i,a&&"bottom"===a.type&&(0,m.jsx)(y,{})]})}))})),Item:({id:e,children:t})=>{const{anchor:i}=f();return(0,m.jsxs)(m.Fragment,{children:[i&&"item"===i.type&&i.id===e&&(0,m.jsx)(y,{}),t]})}}},91067:(e,t,i)=>{"use strict";i.d(t,{X:()=>r,y:()=>s});var n=i(96540);const r=(0,n.createContext)(null);r.displayName="ComposerShouldFocusContext";const o={composerShouldFocus:!0,setComposerShouldFocus:()=>{}},s=()=>{const e=(0,n.useContext)(r);return e||o}},47505:(e,t,i)=>{"use strict";i.d(t,{K:()=>Yi,n:()=>sn});var n=i(86923),r=i(96540);const o=(0,r.createContext)(void 0);o.displayName="ComposerContext";const s=()=>{const e=(0,r.useContext)(o);if(!e)throw new Error("This component needs to be wrapped in a Composer Context");return e},a=(0,r.createContext)(void 0);a.displayName="ComposerPopoverContext";const l=()=>{const e=(0,r.useContext)(a);if(!e)throw new Error("Component needs to be wrapped in Composer PopoverContext");return e};var c=i(86073),d=i(83140),p=i(49651),u=i(72977),h=i(73669);function m(e,t){const i=""!==e.trim(),n=t.length>0;if(!i&&!n)return{blocks:[]};const r=[];if(n){const e=t[0];r.push(...(0,h.Fp)(e.src,e.width,e.height))}return i&&r.push(...(0,h.$B)(e)),{blocks:r,file:n?t[0].file:null}}var g=i(74848);const x=["forceStandardView"];const f=(0,n.Ay)("div",{target:"e5mgu3j5"})({name:"abjfi6",styles:"align-items:flex-end;display:flex;inset:0 0 0 auto;padding:0 8px 0 7px;position:absolute"}),v=(0,n.Ay)("div",{target:"e5mgu3j4"})("align-items:center;display:flex;gap:16px;padding-bottom:8px;min-height:32px;",u.DL,";"),y=(0,n.Ay)("div",{target:"e5mgu3j3"})({name:"1nmkmzf",styles:"display:flex;align-items:center;gap:16px;width:100%;min-height:32px;height:32px;padding-left:12px;padding-right:8px"}),b=(0,n.Ay)("div",{target:"e5mgu3j2"})("display:flex;align-items:center;gap:16px;width:100%;min-height:32px;height:32px;padding-left:12px;padding-right:8px;",u.DL,";"),w=(0,n.Ay)("button",{target:"e5mgu3j1"})("color:",(0,n.w4)("iconMuted"),";cursor:pointer;display:inline-block;position:relative;opacity:0.8;transition:opacity 200ms ease;width:16px;&:hover{opacity:1;}&[data-state='open']{",(({theme:e})=>(0,n.AH)("color:",e.primaryColor,";opacity:1;")),";}"),j=(0,n.Ay)(d.A,{target:"e5mgu3j0"})("&:disabled{background-color:",(0,n.w4)("alphaBlack10"),";color:",(0,n.w4)("iconDisabled"),";}border:1px solid ",(({theme:e})=>e.isPrimaryColorAsTheme?e.borderEmphasisNeutral:"none"),";align-items:center;border-radius:32px;display:flex;justify-content:center;height:32px;width:32px;"),k=e=>{let{forceStandardView:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,x);const{useExpandedComposer:n}=s();return n&&!t?(0,g.jsx)(y,{children:(0,g.jsx)(b,Object.assign({},i))}):(0,g.jsx)(f,{children:(0,g.jsx)(v,Object.assign({},i))})},A=e=>{let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const{disabled:i,onSubmit:n,textField:{value:r},imageDrafts:o}=s(),a=""!==r.trim()||o.images.length>0,l=i||!a;return(0,g.jsx)(j,Object.assign({variant:"primary",className:"intercom-composer-send-button",onClick:()=>(()=>{const{blocks:e,file:t}=m(r,o.images);0!==e.length&&n(e,t)})(),disabled:l,"aria-disabled":l,"aria-label":(0,p.Tl)("send_a_message")},t,{children:(0,g.jsx)(c._x,{type:"UpIcon"})}))};var C=i(83505),S=i(34743),T=i(8375),_=i(96117);const E=(0,n.Ay)("div",{target:"e1ft9lpm1"})("background-color:",(0,n.w4)("containerBaseNeutral"),";border:solid 1px ",(0,n.w4)("borderNeutral"),";border-radius:12px;box-shadow:",(0,n.w4)("shadowSmall"),";width:330px;z-index:",(0,u.fE)(3),";"),N=(0,n.Ay)("span",{target:"e1ft9lpm0"})("bottom:-12px;left:0;position:absolute;color:",(0,n.w4)("containerBaseNeutral"),";path{filter:drop-shadow(0px 1px 1px ",(0,n.w4)("alphaBlack10"),");}"),B=({children:e,type:t})=>{const{popover:{isTypeOpen:i,closePopover:n}}=s(),{refs:o,floatingStyles:l}=(0,C.we)({strategy:"fixed",placement:"top-end",middleware:[(0,S.cY)(28),(0,S.BN)({padding:20})]});return(0,_.A)([o.floating,o.reference],(0,r.useCallback)((()=>n()),[n]),!i(t)||i("typeaheadEmoji")),(0,g.jsx)(a.Provider,{value:{type:t,refs:o,floatingStyles:l},children:e})},I=e=>{const{popover:{isTypeOpen:t,openPopover:i,closePopover:n}}=s(),{type:r,refs:o}=l();return(0,g.jsx)(w,Object.assign({},e,{onClick:()=>{t(r)?n():i(r)},ref:o.setReference,"data-state":t(r)?"open":"closed"}))},R=({children:e,showArrow:t=!0})=>{const{popover:{isTypeOpen:i,closePopover:n}}=s(),{refs:r,floatingStyles:o,type:a}=l();if(!i(a))return null;return(0,g.jsxs)(E,{"data-testid":"popover-container",ref:r.setFloating,style:o,onKeyDown:e=>(e=>{(0,T.nx)(e)&&(e.stopPropagation(),n())})(e),children:[e,t&&r.reference.current&&(0,g.jsx)(N,{style:(c=r.reference.current,(0,p.Vf)((0,p.JK)())?{right:c.getBoundingClientRect().left-20}:{left:c.getBoundingClientRect().left-20}),children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",width:16,children:(0,g.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})})]});var c},P=()=>{const{popover:{isTypeOpen:e}}=s(),{type:t}=l();return e(t)?(0,g.jsx)(c.uD,{type:"GifFilledIcon"}):(0,g.jsx)(c.uD,{type:"GifOutlineIcon"})},z=()=>{const{popover:{isTypeOpen:e}}=s(),{type:t}=l();return e(t)?(0,g.jsx)(c.uD,{type:"EmojiFilledIcon"}):(0,g.jsx)(c.uD,{type:"EmojiOutlineIcon"})};var M=i(75959),O=i.n(M);const H=(0,n.Ay)("div",{target:"efnb6w2"})({name:"1u2ek4o",styles:"margin:10px -5px;padding-left:3px"}),D=(0,n.Ay)("h3",{target:"efnb6w1"})("color:",(0,n.w4)("textMuted"),";font-weight:600;font-size:11px;margin:5px;text-transform:uppercase;line-height:1.27;"),L=(0,n.Ay)("div",{target:"efnb6w0"})({name:"1kix44w",styles:"width:330px;height:260px"}),V=(0,n.Ay)("div",{target:"ek4y4bd5"})("position:absolute;height:100%;width:100%;display:block;text-align:center;background-color:",(0,n.w4)("baseAlpha"),";z-index:1;"),F=(0,n.Ay)("div",{target:"ek4y4bd4"})("height:50px;width:290px;padding-top:2px;padding-bottom:2px;display:inline-block;position:relative;background-color:",(0,n.w4)("containerBaseNeutral"),";box-shadow:",(0,n.w4)("shadowSmall"),";border-radius:6px;z-index:2;box-sizing:border-box;",(({emojiYOffset:e})=>(0,n.AH)("top:",e-17,"px;")),";"),q=(0,n.Ay)("span",{target:"ek4y4bd3"})("padding:3px;width:36px;line-height:1.28;display:inline-block;height:36px;text-align:center;cursor:pointer;vertical-align:middle;font-size:28px;margin:4px 5px 0 6px;box-sizing:border-box;font-family:'Apple Color Emoji','Segoe UI Emoji','NotoColorEmoji','Segoe UI Symbol','Android Emoji','EmojiSymbols',sans-serif;&:hover{background-color:",(0,n.w4)("containerEmphasisNeutral"),";border-radius:3px;}"),G=(0,n.Ay)("span",{target:"ek4y4bd2"})("border-right:1px solid ",(0,n.w4)("borderEmphasisNeutral"),";height:36px;width:1px;"),U=({theme:e,emojiXOffset:t})=>(0,n.AH)("position:absolute;bottom:-8px;right:0;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid ",e.borderNeutral,";left:",t-7,"px;"),$=(0,n.Ay)("div",{target:"ek4y4bd1"})(U,";"),W=(0,n.Ay)("div",{target:"ek4y4bd0"})(U," bottom:-9px;border-top:none;"),K=(0,r.memo)((({emoji:e,onEmojiClick:t,onClose:i,emojiXOffset:n,emojiYOffset:o})=>{const s=(0,r.useMemo)((()=>O().getAllModifiedForBaseEmoji(e)),[e]),a=(0,r.useCallback)((i=>{const n=O().unicodeFromIdentifier(i.target.title);t(e,n)}),[e,t]),l=(0,r.useCallback)((()=>{i()}),[i]);return s.length<=1?null:(0,g.jsx)(V,{onClick:l,children:(0,g.jsxs)(F,{emojiYOffset:o,children:[s.map(((e,t)=>{const i=`${e}-${O().identifierFromUnicode(e)}`;return(0,g.jsxs)("span",{children:[(0,g.jsx)(q,{title:O().identifierFromUnicode(e),onClick:a,children:e}),0===t&&(0,g.jsx)(G,{})]},i)})),(0,g.jsx)(W,{emojiXOffset:n}),(0,g.jsx)($,{emojiXOffset:n})]})})}));K.displayName="EmojiSkintonePicker";const Y=K;var X={name:"13ufj22",styles:"transition-delay:0ms;transform:scale(1.2)"};const J=(0,n.Ay)("span",{target:"evh3sr10"})("padding:6px;width:30px;line-height:1.07;display:inline-table;text-align:justify;cursor:pointer;vertical-align:middle;font-size:28px;transition:transform 60ms ease-out;transition-delay:60ms;font-family:'Apple Color Emoji','Segoe UI Emoji','NotoColorEmoji','Segoe UI Symbol','Android Emoji','EmojiSymbols',sans-serif;",(({isActive:e})=>e&&X),";"),Z=(0,r.forwardRef)((({emoji:e,title:t,onMouseUp:i,onKeyDown:n,onMouseDown:o,isActive:s,tabIndex:a=0},l)=>{const[c,d]=(0,r.useState)(!1),p=t.replace(/(_|-)/gi," ");return(0,g.jsx)(J,{ref:l,title:t,role:"button","aria-label":p,tabIndex:a,onMouseUp:i,onMouseDown:o,onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},onKeyDown:e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),i()):n(e)},isActive:c||s,children:e})})),Q=(0,r.createContext)(null),ee=()=>{const e=(0,r.useContext)(Q);if(!e)throw new Error("useEmojiPickerContext must be used within a EmojiPickerContext");return e};var te=i(1439),ie=i(88055),ne=i.n(ie),re=i(77520),oe=i(56213);const se="intercom.recentEmoji",ae="1.0",le=[{baseEmoji:"👍",skintoneEmoji:"👍"},{baseEmoji:"👎",skintoneEmoji:"👎"},{baseEmoji:"😭",skintoneEmoji:"😭"},{baseEmoji:"😕",skintoneEmoji:"😕"},{baseEmoji:"😐",skintoneEmoji:"😐"},{baseEmoji:"😊",skintoneEmoji:"😊"},{baseEmoji:"😍",skintoneEmoji:"😍"}];let ce;const de=()=>(void 0===ce&&(ce=(0,oe.G5)()),ce);function pe(){if(!de())return[];const e=re.L.get(se),t=e?JSON.parse(e):{};return t.version&&t.version===ae?t.emoji.slice(0,8)||[]:(re.L.remove(se),ne()(le))}function ue(e){if(!de())return null;const t=re.L.get(se),i=t?JSON.parse(t):null;if(!i||!i.emoji)return e;let n=e;return i.emoji.forEach((t=>{t.baseEmoji!==e||(n=t.skintoneEmoji)})),n}const he=(e,t=ue(e))=>{de()&&(t&&function(e,t){const i=re.L.get(se),n=i?JSON.parse(i):null;if(!n||!n.emoji)return;let r=!1,o=n.emoji;o.forEach((i=>{if(i.baseEmoji===e)return i.skintoneEmoji=t,void(r=!0)})),r||(o=ne()(o).concat({baseEmoji:e,skintoneEmoji:t})),re.L.set(se,JSON.stringify({version:ae,emoji:o}))}(e,t),function(e,t=e){const i=le.find((t=>t.baseEmoji===e));let n=pe();const r=n.findIndex((t=>t.baseEmoji===e));r>-1&&n.splice(r,1),n.unshift({baseEmoji:e,skintoneEmoji:t}),n.length<8&&!i&&(n=n.concat(le)),re.L.set(se,JSON.stringify({version:ae,emoji:n}))}(e,t||e))},me=e=>{try{return(0,p.Tl)(O().getGroupRepresentatives()[e][1].toLowerCase())}catch(e){return}},ge=e=>{const t=(0,r.useMemo)((()=>{const e=pe(),t=O().prettyEmoticonsUnicodeGroups().map(((e,t)=>({title:me(t),emojis:e.filter(O().isEmojiBaseUnicode)})));return e&&t.unshift({title:(0,p.Tl)("frequently_used"),emojis:e.map((e=>e.skintoneEmoji||e.baseEmoji))}),t}),[]);return(0,r.useMemo)((()=>e?(e=>{const t=(0,te.Fu)().filter((e=>{const t=e.toLowerCase();return e=>e.title.indexOf(t)>-1})(e)).map((e=>e.emoji));return 0===t.length?[]:[{title:void 0,emojis:t}]})(e):t),[e,t])},xe=e=>window.getComputedStyle&&window.getComputedStyle(e)?window.getComputedStyle(e):e.style;var fe=i(13555);const ve=({count:e,query:t})=>(0,g.jsx)("span",{"aria-live":"assertive",children:t?(0,g.jsx)(fe.D,{role:"alert",children:e?(0,g.jsxs)("span",{children:[e," ",(0,p.Tl)("article_search_search_results_for_query",{query:t})]}):(0,p.Tl)("article_search_no_results_for_query",{query:t})}):null});var ye=i(64234);const be=i.p+"images/search.4a61fc7e3b85fab94b7f.png",we=i.p+"images/search@2x.1fc443fdc28d62c7dce7.png",je=({popoverType:e,shouldHideUploads:t,isBorderless:i,theme:r})=>{const o=(({popoverType:e,shouldHideUploads:t,isBorderless:i,theme:n})=>{let r="gif"===e?81:41;return t&&(r-=34),i&&(r+=19),n.isRtlLocale&&i&&(r+=23),r})({popoverType:e,shouldHideUploads:t,isBorderless:i,theme:r});return(0,n.AH)("right:",o,"px;")},ke=((0,u.fE)(3),(0,n.w4)("alphaBlack10"),(0,n.w4)("containerBaseNeutral"),(0,n.w4)("borderNeutral"),(0,n.Ay)("div",{target:"e1v6ck13"})("position:absolute;left:0;top:50%;width:100%;margin-top:-7px;font-size:14px;font-weight:bold;text-align:center;color:",(0,n.w4)("textDefault"),";")),Ae=(0,n.Ay)("div",{target:"e1v6ck12"})("position:absolute;top:0;left:20px;right:20px;height:40px;border-bottom:1px ",(0,n.w4)("borderEmphasisNeutral")," solid;",u.TD,";"),Ce=(0,n.Ay)("input",{target:"e1v6ck11"})((0,u.op)(be,we,"16px","16px")," background-position:0 12px;font-weight:normal;font-size:14px;color:",(0,n.w4)("textDefault"),";padding:10px 0 10px 25px;height:40px;width:100%;box-sizing:border-box;&::placeholder{color:",(0,n.w4)("textMuted"),";}"),Se=(0,n.Ay)("div",{target:"e1v6ck10"})("position:absolute;top:40px;left:0;right:0;bottom:5px;padding:0 20px;overflow-y:scroll;overscroll-behavior:contain;scrollbar-color:",(0,n.w4)("alphaBlack40")," transparent;scrollbar-width:thin;&::-webkit-scrollbar{appearance:none;width:5px;}&::-webkit-scrollbar-thumb{background-color:",(0,n.w4)("alphaBlack40"),";border-radius:16px;}&::-webkit-scrollbar-track{background-color:transparent;}",u.TD,";"),Te=(e,t,i)=>0===e&&0===t?[e,t]:0===t?[e-1,i(e-1)-1]:[e,t-1],_e=(e,t,i,n)=>{const r=t===n(e)-1;return e===i-1&&r?[e,t]:r?[e+1,0]:[e,t+1]},Ee=(e,t,i,n=1,o=!1)=>{const s=(0,r.useRef)({}),[a,l]=(0,r.useState)([0,0]),c=(e,t)=>{var i,n;null!=(i=s.current[e])&&i[t]&&(null==(n=s.current[e][t])||n.focus())},d=i=>{const{key:r,shiftKey:s}=i;switch(r){case"Tab":o&&(i.preventDefault(),l((([t,i])=>{const n=s?((e,t)=>t>0?[e,0]:e>0?[e-1,0]:[e,t])(t,i):((e,t,i)=>e<i-1?[e+1,0]:[e,t])(t,i,e);return c(n[0],n[1]),n})));break;case"ArrowUp":i.preventDefault(),l((([e,i])=>{const r=((e,t,i,n,r=1)=>{if(t<r&&e>0)return[e-1,n(e-1)-1];let o=e,s=t;for(let e=0;e<r;e++){const[e,t]=Te(o,s,n);if(e===o&&t===s)break;if(e!==o)return[e,n(e)-1];o=e,s=t}return[o,s]})(e,i,0,t,n);return c(r[0],r[1]),r}));break;case"ArrowLeft":i.preventDefault(),l((([e,i])=>{const n=Te(e,i,t);return c(n[0],n[1]),n}));break;case"ArrowDown":i.preventDefault(),l((([i,r])=>{const o=((e,t,i,n,r=1)=>{if(t>n(e)-r&&e<i-1)return[e+1,0];let o=e,s=t;for(let e=0;e<r;e++){const[e,t]=_e(o,s,i,n);if(e===o&&t===s)break;if(e!==o)return[e,0];o=e,s=t}return[o,s]})(i,r,e,t,n);return c(o[0],o[1]),o}));break;case"ArrowRight":i.preventDefault(),l((([i,n])=>{const r=_e(i,n,e,t);return c(r[0],r[1]),r}))}};return(0,r.useEffect)((()=>{l([0,0])}),i),(e,t)=>({ref:i=>{i&&(s.current[e]||={},s.current[e][t]=i)},tabIndex:e===a[0]&&t===a[1]?0:-1,onKeyDown:d,onClick:()=>{l([e,t])}})},Ne=(0,r.forwardRef)((({emoji:e,tabIndex:t,onKeyDown:i,onClick:n},o)=>{const{skintoneEmojiToShow:s,setSkintoneEmojiToShow:a,setEmojiXOffset:l,setEmojiYOffset:c,handleEmojiClick:d}=ee(),{onMouseDown:p,onMouseUp:u}=(({onStart:e,onFinish:t,onEnd:i,timeout:n=500})=>{const o=(0,r.useRef)(null);return{onMouseDown:i=>{e(i),o.current&&clearTimeout(o.current),o.current=setTimeout((()=>{t()}),n)},onMouseUp:()=>{o.current&&clearTimeout(o.current),i()}}})({onStart(e){const t=e.currentTarget.offsetLeft,i=e.currentTarget.offsetTop-((e,t,i)=>{let n=xe(t);const r="absolute"===n.position,o=i?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return e.document.body;for(let e=t;e=e.parentElement;)if(n=xe(e),(!r||"static"!==n.position)&&o.test(n.overflow+n.overflowY+n.overflowX))return e;return e.document.body})(window,e.currentTarget).scrollTop;l(t),c(i)},onFinish(){a(e)},onEnd(){s||d(e),a(null),n()}});if(!O().isSupportedUnicode(e))return null;const h=O().identifierFromUnicode(e),m=s===e,x=ue(e)||e;return(0,g.jsx)(Z,{ref:o,emoji:x,title:h,onKeyDown:i,onMouseUp:u,onMouseDown:p,isActive:m,tabIndex:t})})),Be=({emojiGroups:e})=>{const{searchValue:t}=ee(),i=Ee(e.length,(t=>e[t].emojis.length),[t],6,true);return 0===e.length?(0,g.jsx)(H,{children:(0,g.jsx)(ke,{children:(0,p.Tl)("no_emoji_found")})}):(0,g.jsx)(g.Fragment,{children:e.map((({title:e,emojis:t},n)=>(0,g.jsxs)(H,{children:[e?(0,g.jsx)(D,{children:e}):null,t.map(((e,t)=>(0,g.jsx)(Ne,Object.assign({emoji:e},i(n,t)),t)))]},n)))})},Ie=({onEmojiClick:e})=>{var t;const[i,n]=(0,r.useState)(""),[o,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(0),[c,d]=(0,r.useState)(0),u=(t,i)=>{void 0!==t&&(he(t,i),e(i||t))},h=""!==i,m=ge(i);return(0,g.jsx)(Q.Provider,{value:{skintoneEmojiToShow:o,setSkintoneEmojiToShow:s,searchValue:i,setSearchValue:n,emojiXOffset:a,setEmojiXOffset:l,emojiYOffset:c,setEmojiYOffset:d,handleEmojiClick:u},children:(0,g.jsxs)(L,{onClick:e=>e.stopPropagation(),tabIndex:-1,children:[o?(0,g.jsx)(Y,{emoji:o,emojiYOffset:c,emojiXOffset:a,onClose:()=>s(null),onEmojiClick:u}):null,(0,g.jsx)(Ae,{children:(0,g.jsx)(Ce,{name:"emoji",autoFocus:!0,placeholder:(0,p.Tl)("search_for_emoji"),value:i,onChange:e=>n(e.target.value),onBlur:ye.BW,"aria-label":(0,p.Tl)("search_for_emoji")})}),h&&(0,g.jsx)(ve,{query:i,count:(null==(t=m[0])||null==(t=t.emojis)?void 0:t.length)||0}),(0,g.jsx)(Se,{onWheel:T.b$,"aria-live":"polite",children:(0,g.jsx)(Be,{emojiGroups:m})})]})})},Re=({insertOnly:e=!1})=>{const{onSubmit:t,textField:{value:i,setValue:n,cursorPosition:r},popover:{isTypeOpen:o,closePopover:a},disabled:l}=s(),c=l||o("typeaheadEmoji");return(0,g.jsxs)(B,{type:"emoji",children:[(0,g.jsx)(I,{title:(0,p.Tl)("emoji_picker"),"aria-label":(0,p.Tl)("emoji_picker"),disabled:c,children:(0,g.jsx)(z,{})}),(0,g.jsx)(R,{children:(0,g.jsx)(Ie,{onEmojiClick:o=>{if(""===i.trim()&&!e)return t((0,h.$B)(o)),void a();n((0,T.f$)(i,o,r)),a(r+o.length)}})})]})};var Pe=i(79986);const ze=(0,n.Ay)("div",{target:"e10ie76x3"})({name:"1kix44w",styles:"width:330px;height:260px"}),Me=(0,n.Ay)("div",{target:"e10ie76x2"})({name:"nty499",styles:"float:left;width:50%;height:150px;padding:5px;box-sizing:border-box"}),Oe=(0,n.Ay)("div",{target:"e10ie76x1"})("width:100%;height:100%;cursor:pointer;border-radius:2px;&:hover{box-shadow:",(0,n.w4)("shadowSmall"),";}"),He=(0,n.Ay)("div",{target:"e10ie76x0"})({name:"t6no7m",styles:"margin:5px -5px;overflow:hidden"});var De=i(84864),Le=i(71844),Ve=i(69830);function Fe({event:e,eventIdentifier:t,onClick:i}){!e||function(e){return function(){const e=-1!==navigator.userAgent.indexOf("Ghost Inspector"),t=window._DATADOG_SYNTHETICS_BROWSER,i=!1;return e||t||i}()||!1!==e.isTrusted}(e)?i(e):t&&(0,Ve.sq)("click_denied",{target:t},!0)}var qe=i(80607);function Ge(e,t=""){return(i,n)=>{i(function(e){return{type:qe.rGk,searchTerm:e}}(t));const{session:r}=n();return e.searchGifs(r,t).then((e=>{i(function(e,t){return{type:qe.ZiH,gifs:t.results,searchTerm:e}}(t,e))})).catch((()=>{i(function(e){return{type:qe.cdh,searchTerm:e}}(t))}))}}var Ue=i(42910),$e=i(6534),We=i(38424);const Ke=(e,t)=>i=>{Fe({event:i,eventIdentifier:"select_gif",onClick:i=>{e(t),i.preventDefault()}})},Ye=e=>e.gifs,Xe=({query:e,onGifClick:t})=>{const{isFetching:i,gifs:n,fetchingFailed:r}=(0,Pe.GV)(Ye),o=(0,We.z)(n.length,[e],0,2);if(i)return(0,g.jsx)(Le.A,{});const s=(0,p.Tl)("send");return(0,g.jsxs)(He,{children:[r?(0,g.jsx)(ke,{children:(0,p.Tl)("gifs_load_error")}):null,r||0!==n.length?null:(0,g.jsx)(ke,{children:(0,p.Tl)("no_gifs_found")}),n.map(((e,i)=>(0,g.jsx)(Me,{children:(0,g.jsx)(Oe,Object.assign({},o(i),{style:{background:`url(${e.url}) center center / cover`},onClick:Ke(t,e),"aria-label":e.title?`${s} ${e.title} gif`:`${s} gif`}))},e.url)))]})},Je=({query:e,handlSearchInputChange:t,onGifClick:i})=>(0,g.jsxs)(ze,{onClick:e=>{e.stopPropagation()},tabIndex:-1,children:[(0,g.jsxs)(Ae,{children:[(0,g.jsx)(Ce,{name:"gif",autoFocus:!0,placeholder:(0,p.Tl)("search_gif"),onChange:t,onBlur:ye.BW,"aria-label":(0,p.Tl)("search_gif")}),(0,g.jsx)(ve,{count:$e.A.length,query:e})]}),(0,g.jsx)(Se,{onWheel:T.b$,"aria-live":"polite",children:(0,g.jsx)(Xe,{query:e,onGifClick:i})})]}),Ze=({onGifClick:e})=>{const t=(0,Pe.jL)(),[i,n]=(0,r.useState)(void 0);(0,r.useEffect)((()=>{t(Ge(Ue.Ay,i))}),[i,t]);const o=(0,r.useMemo)((()=>(0,De.O)((e=>{n(e.target.value)}),200)),[]);return(0,g.jsx)(Je,{query:i,handlSearchInputChange:o,onGifClick:e})};var Qe=i(183);var et={name:"42d21o",styles:"right:0;left:45px"},tt={name:"42d21o",styles:"right:0;left:45px"};const it=(0,n.Ay)("div",{target:"edc69mm0"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 150ms;}&.fade-exit{opacity:1;position:absolute;right:45px;",(({theme:e})=>e.isRtlLocale&&tt),";}&.fade-exit-active{position:absolute;right:45px;opacity:0;transition:opacity 150ms;",(({theme:e})=>e.isRtlLocale&&et),";}"),nt=()=>{const{textField:{value:e},popover:{closePopover:t},onSubmit:i,disabled:n}=s(),o=(0,r.useRef)(null),a=""===e.trim();return(0,g.jsx)(Qe.B1,{in:a,timeout:150,classNames:"fade",nodeRef:o,unmountOnExit:!0,children:(0,g.jsx)(it,{ref:o,children:(0,g.jsxs)(B,{type:"gif",children:[(0,g.jsx)(I,{title:(0,p.Tl)("gif_picker"),"aria-label":(0,p.Tl)("gif_picker"),disabled:n,children:(0,g.jsx)(P,{})}),(0,g.jsx)(R,{children:(0,g.jsx)(Ze,{onGifClick:e=>{const{url:n,width:r,height:o,attribution:s,title:a}=e;i((0,h.Fp)(n,r,o,s,a)),t()}})})]})})})};var rt=i(93134);const ot=(0,n.Ay)("div",{target:"e1ag4raa3"})({name:"6qobz8",styles:"display:flex;flex-wrap:wrap;gap:4px;padding:12px 14px 1px 14px;overflow:visible"}),st=(0,n.Ay)("div",{target:"e1ag4raa2"})({name:"xfoafr",styles:"display:flex;width:60px;height:60px;justify-content:flex-end;align-items:center;position:relative;overflow:visible"}),at=(0,n.Ay)(rt.E9,{target:"e1ag4raa1"})("width:60px;height:60px;object-fit:cover;display:block;border-radius:12px;opacity:1;border:1px solid ",(0,n.w4)("alphaBlack10"),";"),lt=(0,n.Ay)(d.A,{target:"e1ag4raa0"})("position:absolute;top:-7px;left:47px;width:20px;height:20px;border-radius:50%;padding:0;min-height:unset;box-sizing:border-box;&&{background:",(0,n.w4)("containerBaseNeutral"),";border:none;box-shadow:inset 0 0 0 20px ",(0,n.w4)("alphaBlack100"),";}&:hover{box-shadow:inset 0 0 0 20px ",(0,n.w4)("alphaBlack80"),";}&:focus{outline:2px solid ",(0,n.w4)("primaryColor"),";outline-offset:2px;}&:focus:not(:focus-visible){outline:none;}");var ct=i(5351);const dt=({images:e,onRemoveImage:t})=>{const i="dark"===(0,ct.A)().themeMode?"iconOnInverse":"textWhite";return 0===e.length?null:(0,g.jsx)(ot,{role:"region","aria-label":"Image previews",children:e.map(((n,r)=>(0,g.jsxs)(st,{children:[(0,g.jsx)(at,{src:n.src,alt:`Image preview ${r+1} of ${e.length}`,loading:"lazy",loaded:!0,zoomable:!1}),(0,g.jsx)(lt,{onClick:()=>t(n.id),"aria-label":`Remove image ${r+1}`,title:`Remove image ${r+1}`,variant:"subtle",children:(0,g.jsx)(c.Ay,{type:"CloseM5",size:18,color:i})})]},n.id)))})};var pt=i(36215),ut=i(29853),ht=i(70951),mt=i(54196);const gt=["onChange","onSubmit","validate","initialValue","draftKey","disabled","useUpdatedConversationPadding"];const xt=e=>{let{onChange:t,onSubmit:i,validate:n,initialValue:s="",draftKey:a=pt.A.NEW_CONVERSATION_DRAFT_ID,disabled:l=!1,useUpdatedConversationPadding:c=!1}=e,d=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,gt);const[p,u]=(0,r.useState)(),[h,m]=(0,r.useState)((()=>s||pt.A.loadDraft(a)||"")),x=(0,Pe.jL)(),f=!(0,oe.rr)(),[v,y]=(0,r.useState)(),b=(0,r.useRef)(null),w=(0,r.useCallback)((e=>{pt.A.saveDraft(a,e),m(e),t&&t(e)}),[a,t]),j=(0,r.useCallback)((e=>{setTimeout((()=>{(0,T.a8)(b.current,e||v)}),0),u(void 0)}),[v]),k=(0,ht.t)(),A=(0,r.useRef)(null),C=(0,Pe.GV)((e=>e.composerDrafts.images));return(0,g.jsx)(o.Provider,{value:{disabled:l,onSubmit:(...e)=>{var r;n&&!n(h)||(i(...e),x((0,mt.X0)()),pt.A.removeDraft(a),m(""),t&&t(""),null==(r=b.current)||r.focus())},popover:{isTypeOpen:e=>p===e,closePopover:j,openPopover:e=>{var t;y(null==(t=b.current)?void 0:t.selectionEnd),u(e)}},textField:{value:h,setValue:w,ref:b,cursorPosition:v||h.length,setCursorPosition:y},imageDrafts:{images:C,addImage:e=>x((0,mt.sr)(e)),removeImage:e=>x((0,mt.Px)(e))},useExpandedComposer:f},children:(0,g.jsx)(ut.A,{ref:A,useUpdatedConversationPadding:c,children:(0,g.jsx)(ut.c,Object.assign({transition:k},d))})})};var ft=i(7350),vt=i.n(ft),yt=i(32836),bt=i(42706);function wt(...e){return(...t)=>{for(const i of e)"function"==typeof i&&i(...t)}}function jt(e,t){const i=e.window.getComputedStyle(t);return/(auto|scroll)/.test(i.overflow+i.overflowX+i.overflowY)}let kt,At=0;function Ct(e){const{isDisabled:t,appWindow:i,mobileSaferiOnly:n}=e;(0,r.useLayoutEffect)((()=>{if(!t){if(At++,1===At){const e={window:i,document:i.document};kt=(0,oe.un)()?function(e){let t,i=null;const n=n=>{t=function(e,t){let i=t;for(;i&&!jt(e,i);)i=i.parentElement;return i||e.document.scrollingElement||e.document.documentElement}(e,n.target),t===e.document.documentElement&&t===e.document.body||t instanceof HTMLElement&&"auto"===e.window.getComputedStyle(t).overscrollBehavior&&(i=St(t,"overscrollBehavior","contain"))},r=i=>{t&&t!==e.document.documentElement&&t!==e.document.body?t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&i.preventDefault():i.preventDefault()},o=()=>{i&&i()},s=wt(Tt(e.document,"touchstart",n,{passive:!1,capture:!0}),Tt(e.document,"touchmove",r,{passive:!1,capture:!0}),Tt(e.document,"touchend",o,{passive:!1,capture:!0}),Tt(e.document,"focus",yt.K,!0));return()=>{null==i||i(),s()}}(e):n?null:function(e){return wt(St(e.document.documentElement,"paddingRight",e.window.innerWidth-e.document.documentElement.clientWidth+"px"),St(e.document.documentElement,"overflow","hidden"))}(e)}return()=>{At--,kt&&0===At&&kt()}}}),[t,i,n])}function St(e,t,i){const n=e.style[t];return e.style[t]=i,()=>{e.style[t]=n}}function Tt(e,t,i,n){return e.addEventListener(t,i,n),()=>{e.removeEventListener(t,i,n)}}const _t=["children"];function Et(e){let{children:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,_t);const n=(0,r.useContext)(bt.t);return Ct(Object.assign({},i,{appWindow:n||window})),(0,g.jsx)(g.Fragment,{children:t})}var Nt=i(25229),Bt=i(44644),It=i(7186),Rt=i(71857);const Pt=["placeholder","onChange","onTyping","autoFocus","maxHeight"];const zt=(0,n.Ay)("div",{target:"e1j0ryx3"})("background-color:",(0,n.w4)("inputAlt"),";min-height:",(e=>e.useExpandedComposer?"0px":"48px"),";position:relative;",u.TD,";"),Mt=(0,n.Ay)("pre",{target:"e1j0ryx2"})("box-sizing:border-box;font-family:",(0,n.w4)("fontSansSerif"),";font-size:14px;font-weight:normal;line-height:20px;max-height:",(0,n.xk)("maxHeight"),"px;overflow:hidden;overflow-wrap:break-word;padding:",(e=>e.useExpandedComposer?"12px 8px 2px 14px":"14px 72px 14px 16px"),";visibility:hidden;width:100%;white-space:pre-wrap;");var Ot={name:"11g4mt0",styles:"font-size:16px"};const Ht=(0,n.Ay)("textarea",{target:"e1j0ryx1"})("appearance:none;box-sizing:border-box;resize:none;font-family:",(0,n.w4)("fontSansSerif"),";font-size:14px;font-weight:normal;inset:0;line-height:20px;max-height:",(0,n.xk)("maxHeight"),"px;outline:none;overflow-wrap:break-word;padding:14px 72px 14px 16px;position:absolute;white-space:pre-wrap;width:100%;background-color:",(0,n.w4)("inputAlt"),";&::placeholder{color:",(0,n.w4)("textMuted"),";}",(({theme:e})=>e.isMobileBrowser&&Ot),";");var Dt={name:"11g4mt0",styles:"font-size:16px"};const Lt=(0,n.Ay)("textarea",{target:"e1j0ryx0"})("appearance:none;box-sizing:border-box;resize:none;font-family:",(0,n.w4)("fontSansSerif"),";font-size:14px;font-weight:normal;inset:0;line-height:20px;max-height:",(0,n.xk)("maxHeight"),"px;outline:none;overflow:auto;overflow-wrap:break-word;padding:12px 8px 2px 14px;position:absolute;white-space:pre-wrap;width:100%;background-color:",(0,n.w4)("inputAlt"),";&::placeholder{color:",(0,n.w4)("textMuted"),";}",(({theme:e})=>e.isMobileBrowser&&Dt),";"),Vt=e=>{let{placeholder:t,onChange:i,onTyping:n,autoFocus:o=!0,maxHeight:a=200}=e,l=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,Pt);const{onSubmit:c,textField:{value:d,setValue:p,ref:u,setCursorPosition:h},popover:{isTypeOpen:x},disabled:f,useExpandedComposer:v,imageDrafts:y}=s(),{footerRef:b}=(0,r.useContext)(Rt.S),w=(0,Pe.jL)(),j=(0,r.useMemo)((()=>{if(n)return vt()((()=>n()),1e3)}),[n]),[k,A]=(0,r.useState)(!1),C=(0,Pe.GV)((e=>e.app.isMessengerOpen)),S=(0,r.useRef)(!1);(0,r.useEffect)((()=>{o&&u.current&&!1===S.current&&C&&((0,T.a8)(u.current,d.length),S.current=!0)}),[o,u,d,C]);const _=()=>{(0,oe.rr)()&&u.current&&setTimeout((()=>{var e;b.current?b.current.scrollIntoView({behavior:"smooth",block:"start"}):null==(e=u.current)||e.scrollIntoView({behavior:"smooth",block:"start"})}),200)},E=e=>{p(e.target.value),h(e.target.selectionEnd),i&&i(e)},N=e=>{try{const t=(0,Nt.J)(e).filter((e=>e.type.startsWith("image/")));if(t.length>0){const e=t[0],i=Math.random().toString(36).substring(2,11),n=URL.createObjectURL(e);(0,It.kn)(e).then((t=>{const r={id:i,file:e,src:n,width:t?t.width:0,height:t?t.height:0};w((0,mt.sr)(r))})).catch((()=>{(0,Bt.jP)("Error getting image preview for pasted file")}))}}catch(e){(0,Bt.jP)(`Error handling pasted files: ${e}`)}},B=e=>{if(!("Enter"!==e.key||e.altKey||e.shiftKey||k||x("typeaheadEmoji")||(0,oe.rr)())){const t=""!==d.trim(),i=y.images.length>0;if(!t&&!i)return;if(e.preventDefault(),f)return;const{blocks:n,file:r}=m(d,y.images);if(0===n.length)return;r?c(n,r):c(n)}j&&j()},I=(0,oe.un)()?{onTouchEnd:yt.K,onTouchStart:yt.K}:{},R=Object.assign({},I,l);return(0,g.jsxs)(zt,{useExpandedComposer:v,children:[(0,g.jsxs)(Mt,{maxHeight:a,useExpandedComposer:v,children:[d,(0,g.jsx)("br",{})]}),(0,g.jsx)(Et,{mobileSaferiOnly:!0,children:v?(0,g.jsx)(Lt,Object.assign({rows:1,ref:u,onCompositionStart:()=>A(!0),onCompositionEnd:()=>A(!1),onKeyDown:B,onPaste:N,value:d,placeholder:t,"aria-label":t,onChange:E,maxHeight:a,onFocus:_},R)):(0,g.jsx)(Ht,Object.assign({rows:1,ref:u,onCompositionStart:()=>A(!0),onCompositionEnd:()=>A(!1),onKeyDown:B,onPaste:N,value:d,placeholder:t,"aria-label":t,onChange:E,maxHeight:a,onFocus:_},R))})]})};var Ft=i(22973);var qt={name:"vhahf5",styles:"right:0;left:8px"},Gt={name:"vhahf5",styles:"right:0;left:8px"};const Ut=(0,n.Ay)("div",{target:"e166ta0"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 150ms;}&.fade-exit{opacity:1;position:absolute;right:8px;",(({theme:e})=>e.isRtlLocale&&Gt),";}&.fade-exit-active{position:absolute;right:8px;opacity:0;transition:opacity 150ms;",(({theme:e})=>e.isRtlLocale&&qt),";}"),$t=e=>{const t=(0,r.useRef)(null),{onSubmit:i,disabled:n,imageDrafts:o}=s(),a=(0,r.useRef)(null),l=0===o.images.length;return(0,g.jsx)(Qe.B1,{in:l,timeout:150,classNames:"fade",nodeRef:a,unmountOnExit:!0,children:(0,g.jsxs)(Ut,{ref:a,children:[(0,g.jsx)("input",{ref:t,type:"file",multiple:e.allowMultipleUploads,disabled:n,onChange:e=>{const t=e.target.files;t&&(t.length>5?(0,Ve.oS)("attachment_limit_exceeded",{file_count:t.length,place:"composer"}):Array.from(t).forEach((e=>{return t=e,void(0,It.kn)(t).then((e=>{if(e){const{width:i,height:n,src:r}=e,s=(0,Ft.U$)(e.src,t.name,t.type);s&&o.addImage({id:Math.random().toString(36).substring(2,11),file:s,src:r,width:i,height:n})}else{const{name:e,type:n,size:r}=t;i((0,h.VJ)(e,n,r),t)}}));var t})))},hidden:!0,accept:e.allowedAttachmentExtensions,"data-testid":"composer-upload-input"}),(0,g.jsx)(w,{disabled:n,title:(0,p.Tl)("upload_attachment"),"aria-label":(0,p.Tl)("upload_attachment"),onClick:()=>{var e;(0,oe.rr)()?setTimeout((()=>{var e;null==(e=t.current)||e.click()}),100):null==(e=t.current)||e.click()},"data-type":"upload",children:(0,g.jsx)(c._x,{type:"AttachmentIcon"})})]})})};var Wt=i(62193),Kt=i.n(Wt),Yt=i(7309),Xt=i.n(Yt),Jt=i(60680),Zt=i.n(Jt);const Qt=":";function ei(e,t,i,n){const r=t-i.length-1,o=e.substring(0,Math.max(0,r))+e.substring(t),s=(0,T.f$)(o,n,r);return Object.assign({text:s,cursorPosition:r+n.length},{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}})}const ti=(e,t)=>{const i=(0,te.Fu)({useFallback:!0}),n=new RegExp(`${Qt}(?<identifier>[^\\s${Qt}]{2,})(?<terminator>[${Qt}])?`,"gi");let r=null,o=null,s=null;for(;null!=(r=n.exec(e));){const{index:e,groups:i}=r;if(e>t)break;const{identifier:n,terminator:a}=i||{};if(a&&(s=a),t===e+1+n.length+(s?s.length:0)){o=n;break}}if(!o)return{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}};if(s){var a;const n=null==(a=Xt()(i,(e=>o===e.title)))?void 0:a.emoji;return n?ei(e,t,`${o}${s}`,n):{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}}}const l=new RegExp(`^${Zt()(o)}`,"i"),c=i.filter((e=>l.test(e.title)));return{emojiTypeaheadState:{isActive:!Kt()(c),suggestions:c,currentTypeaheadTerm:o}}};const ii=(0,n.Ay)("div",{target:"e1wapn193"})("box-sizing:border-box;position:relative;overflow-x:hidden;width:330px;height:260px;padding:",10,"px 0px;display:flex;flex-direction:column;flex-grow:0;align-items:stretch;font-size:",14,"px;"),ni=(0,n.Ay)("span",{target:"e1wapn192"})("padding:",10,"px 20px;&,*{cursor:pointer;}&:hover{background:",(0,n.w4)("backgroundHover"),";}"),ri=(0,n.Ay)("span",{target:"e1wapn191"})("padding:",10,"px 20px;background-color:",(0,n.w4)("backgroundHover"),";"),oi=(0,n.Ay)("span",{target:"e1wapn190"})({name:"nkt64x",styles:"margin-right:10px"}),si=["Down","ArrowDown","Up","ArrowUp","Enter","Tab","Esc","Escape"],ai=({typeaheadSuggestions:e,frameWindow:t,onSelect:i})=>{const n=(0,r.useRef)(null),[o,s]=(0,r.useState)(0),a=(0,r.useRef)(o),l=(0,r.useCallback)((e=>{a.current=e,s(e)}),[]),c=(0,r.useCallback)((e=>{const t=10+34*e;n.current&&n.current.scrollTo&&n.current.scrollTo(0,t)}),[n]),d=(0,r.useCallback)((t=>{let n,r;switch(t.key){case"Down":case"ArrowDown":n=Math.min(a.current+1,e.length-1),l(n),c(n);break;case"Up":case"ArrowUp":n=Math.max(a.current-1,0),l(n),c(n);break;case"Enter":case"Tab":r=e[a.current],i(r.emoji)}}),[a,i,c,l,e]);return(0,r.useEffect)((()=>((0,T.q2)(t,"keydown",d),()=>{(0,T.f)(t,"keydown",d)})),[t,d]),(0,g.jsx)(ii,{ref:n,tabIndex:-1,"data-testid":"emoji-typeahead-suggestions",children:e.map(((e,t)=>{const n=t===a.current,r=n?ri:ni;return(0,g.jsxs)(r,{"data-testid":"emoji-typeahead-suggestion","aria-selected":n,onClick:()=>i(e.emoji),children:[(0,g.jsx)(oi,{children:e.emoji}),e.title]},`emoji-${e.title}`)}))})};const li=(0,n.Ay)("div",{target:"e1vqfiac1"})({name:"16hjiy4",styles:"position:relative;display:flex;flex-direction:column"}),ci=(0,n.Ay)("div",{target:"e1vqfiac0"})({name:"13afnc",styles:"position:absolute;top:20px"}),di=({children:e})=>{const t=(0,bt.x)(),{textField:{value:i,cursorPosition:n,setValue:o},popover:{isTypeOpen:a,openPopover:l,closePopover:c}}=s(),[d,p]=(0,r.useState)(!1),u=(0,r.useMemo)((()=>((e,t)=>{try{return ti(e,t)}catch(e){return{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}}}})(i,n)),[i,n]),{emojiTypeaheadState:h,text:m,cursorPosition:x}=u;(0,r.useEffect)((()=>{m&&x&&(o(m),c(x))}),[m,x,o,c]);const f=a("typeaheadEmoji");(0,r.useEffect)((()=>{h.isActive&&!d?l("typeaheadEmoji"):f&&c(x)}),[h,l,c,f,d,x]);return(0,g.jsxs)(li,{onKeyDown:e=>{h.isActive&&-1!==si.indexOf(e.key)?(e.preventDefault(),-1!==["Escape","End"].indexOf(e.key)&&(e.stopPropagation(),p(!0),c())):p(!1)},children:[e,(0,g.jsx)(ci,{tabIndex:-1,children:(0,g.jsxs)(B,{type:"typeaheadEmoji",children:[(0,g.jsx)(I,{title:"Type an :emoji",tabIndex:-1}),(0,g.jsx)(R,{showArrow:!1,children:(0,g.jsx)(ai,{frameWindow:t,typeaheadSuggestions:h.suggestions,onSelect:e=>{const{text:t,cursorPosition:r}=ei(i,n,h.currentTypeaheadTerm||"",e);o(t),c(r+e.length)}})})]})})]})};var pi={name:"vhahf5",styles:"right:0;left:8px"},ui={name:"vhahf5",styles:"right:0;left:8px"};const hi=(0,n.Ay)("div",{target:"esf8er38"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 150ms;}&.fade-exit{opacity:1;right:8px;",(({theme:e})=>e.isRtlLocale&&ui),";}&.fade-exit-active{opacity:0;position:absolute;right:8px;transition:opacity 150ms;",(({theme:e})=>e.isRtlLocale&&pi),";}");var mi={name:"1k13dmf",styles:"right:0;left:77px;transform:translateX(-20px)"},gi={name:"3m0i3z",styles:"right:0;left:77px"};const xi=(0,n.Ay)("div",{target:"esf8er37"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:all 150ms;}&.fade-exit{opacity:1;position:absolute;right:77px;",(({theme:e})=>e.isRtlLocale&&gi),";}&.fade-exit-active{opacity:0;position:absolute;right:77px;transform:translateX(20px);transition:all 150ms;",(({theme:e})=>e.isRtlLocale&&mi),";}");var fi={name:"bl89wh",styles:"right:0;left:55px;transform:translateX(20px)"},vi={name:"mxrjkq",styles:"right:0;left:55px"};const yi=(0,n.Ay)("div",{target:"esf8er36"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:all 150ms;}&.fade-exit{opacity:1;position:absolute;right:55px;",(({theme:e})=>e.isRtlLocale&&vi),";}&.fade-exit-active{opacity:0;position:absolute;right:55px;transform:translateX(-20px);transition:all 150ms;",(({theme:e})=>e.isRtlLocale&&fi),";}"),bi=(0,n.Ay)("div",{target:"esf8er35"})("padding-bottom:8px;background-color:",(0,n.w4)("inputAlt"),";");var wi={name:"vhahf5",styles:"right:0;left:8px"},ji={name:"vhahf5",styles:"right:0;left:8px"};const ki=(0,n.Ay)("div",{target:"esf8er34"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 150ms;}&.fade-exit{opacity:1;position:absolute;right:8px;",(({theme:e})=>e.isRtlLocale&&ji),";}&.fade-exit-active{opacity:0;position:absolute;right:8px;transition:opacity 150ms;",(({theme:e})=>e.isRtlLocale&&wi),";}display:flex;align-items:center;justify-content:flex-end;height:32px;");var Ai={name:"1k13dmf",styles:"right:0;left:77px;transform:translateX(-20px)"},Ci={name:"3m0i3z",styles:"right:0;left:77px"};const Si=(0,n.Ay)("div",{target:"esf8er33"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:all 150ms;}&.fade-exit{opacity:1;position:absolute;right:77px;",(({theme:e})=>e.isRtlLocale&&Ci),";}&.fade-exit-active{opacity:0;right:77px;transform:translateX(20px);transition:all 150ms;",(({theme:e})=>e.isRtlLocale&&Ai),";}display:flex;align-items:center;height:32px;"),Ti=(0,n.Ay)("div",{target:"esf8er32"})({name:"26zxeu",styles:"display:flex;align-items:center;gap:16px;min-height:32px;height:32px;padding-left:14px;padding-right:8px"}),_i=(0,n.Ay)("div",{target:"esf8er31"})({name:"1qa2s5e",styles:"display:flex;align-items:center;height:32px;position:relative;&.fade-enter{opacity:0;transform:translateX(-20px);}&.fade-enter-active{opacity:1;transform:translateX(0);transition:opacity 150ms,transform 150ms;}&.fade-exit{opacity:1;transform:translateX(0);}&.fade-exit-active{opacity:0;transform:translateX(-20px);transition:opacity 150ms,transform 150ms;}"}),Ei=(0,n.Ay)("div",{target:"esf8er30"})("display:flex;align-items:center;padding:0 8px;gap:10px;background-color:",(0,n.w4)("inputAlt"),";");var Ni=i(73273),Bi=i(48365);const Ii={name:"1p0xc46",styles:".voice-visualizer{width:100%;.voice-visualizer__canvas-container{margin:0;width:100%!important;canvas{cursor:pointer;border-radius:4px;}}.voice-visualizer__audio-info-container,.voice-visualizer__buttons-container{display:none;}}"},Ri=(0,n.Ay)("div",{target:"e2w7n533"})("display:flex;flex:1 1 0%;overflow:hidden;height:36px;margin:5px 0;align-items:center;",Ii,";");var Pi={name:"1wd0p8c",styles:"gap:4px"};const zi=(0,n.Ay)("div",{target:"e2w7n532"})("display:flex;align-items:center;justify-content:center;gap:8px;width:100%;",(({error:e})=>e&&Pi),";"),Mi=(0,n.Ay)(Bi.y,{target:"e2w7n531"})({name:"mmdt3g",styles:"font-size:14px"}),Oi=(0,n.Ay)(j,{target:"e2w7n530"})("background-color:",(0,n.w4)("alphaBlack10"),"!important;&:hover{background-color:",(0,n.w4)("alphaBlack20"),"!important;}border:none;padding:0;"),Hi={MOBILE:{height:150,speed:1,barWidth:2,gap:1,rounded:1},DESKTOP:{height:150,speed:2,barWidth:1.5,gap:2,rounded:5}},Di=(0,r.forwardRef)((({voiceControls:e,onClear:t,onStopRecording:i,showStopButton:n,isTranscribing:o,onCancelTranscription:s},a)=>{const l=(0,ct.A)(),d=(0,ye.IS)()?Hi.MOBILE:Hi.DESKTOP,{isRecordingInProgress:p,isProcessingRecordedAudio:u=!1,recordedBlob:h,error:m}=e,x=u&&!h,f=(0,r.useCallback)((()=>{null==t||t(),(0,Ve.A5)("cleared","voice_note_cleared","messenger","",{source:"voice_note_recorder"})}),[t]);return(0,r.useImperativeHandle)(a,(()=>({clearCanvas:f})),[f]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Oi,{variant:"secondary",onClick:o?s:f,"aria-label":o?"Cancel transcription":"Clear recording",children:(0,g.jsx)(c.Ay,{type:"CloseM5"})}),(0,g.jsxs)(Ri,{children:[p&&!m&&(0,g.jsx)(Ni.B,{controls:e,height:d.height,width:"100%",backgroundColor:"transparent",mainBarColor:l.alphaBlack100,secondaryBarColor:l.alphaBlack100,speed:d.speed,barWidth:d.barWidth,gap:d.gap,rounded:d.rounded,isDefaultUIShown:!1,isDownloadAudioButtonShown:!1,isControlPanelShown:!1,isAudioProcessingTextShown:!1,isProgressIndicatorTimeShown:!1,animateCurrentPick:!0,onlyRecording:!1,isProgressIndicatorShown:!1,isProgressIndicatorOnHoverShown:!1,isProgressIndicatorTimeOnHoverShown:!1,fullscreen:!0}),(o||m)&&(0,g.jsx)(zi,{error:!!m,children:m?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.Ay,{type:"Alert",color:"textError",inline:!0}),(0,g.jsx)(Mi,{color:l.textError,children:null==m?void 0:m.message})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Le.A,{color:"defaultColor",size:"tiny",inline:!0}),(0,g.jsx)(Mi,{color:l.textMuted,children:"Transcribing..."})]})})]}),x&&(0,g.jsx)(j,{variant:"primary","aria-label":"Processing recording",disabled:!0,children:(0,g.jsx)(Le.A,{color:"defaultColor",size:"tiny"})}),n&&i&&(0,g.jsx)(j,{variant:"primary",onClick:i,"aria-label":"Stop recording",children:(0,g.jsx)(c.Ay,{type:"Stop",color:l.isPrimaryColorAsTheme?"iconDefault":"iconOnInverse"})}),o&&(0,g.jsx)(j,{variant:"primary","aria-label":"Transcribing",disabled:!0,children:(0,g.jsx)(c._x,{type:"UpIcon"})})]})}));var Li=i(40961),Vi=i(49106),Fi=i(18166);var qi=i(92090);const Gi=({isSupported:e,isRecording:t,startRecording:i,stopRecording:n})=>{const{element:o}=(0,Fi.P)(),[s,a]=(0,r.useState)(!1),l=(0,r.useCallback)((async()=>{if(t)n();else try{if(!await(async()=>{try{const e=await navigator.permissions.query({name:"microphone"});return"prompt"!==e.state?"granted"===e.state:((await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks().forEach((e=>e.stop())),!0)}catch(e){return!1}})()||!e)return a(!0),void(0,Ve.A5)("denied","voice_recording_permission","messenger","",{source:"voice_recording_button"});i()}catch(e){a(!0),(0,Ve.A5)("denied","voice_recording_permission_error","messenger","",{source:"voice_recording_button",message:(null==e?void 0:e.message)||"Unknown error"})}}),[t,e,i,n]),d=(0,r.forwardRef)(((e,t)=>(0,g.jsx)(Ut,{children:(0,g.jsx)(w,Object.assign({},e,{ref:t,onClick:l,"aria-label":"Start recording",children:(0,g.jsx)(c.Ay,{type:"Microphone",color:"iconMuted"})}))})));return e&&!s?(0,g.jsx)(d,{}):(0,g.jsxs)(Vi.bL,{children:[(0,g.jsx)(Vi.l9,{asChild:!0,children:(0,g.jsx)(d,{})}),o&&(0,Li.createPortal)((0,g.jsx)(Vi.UC,{children:(0,g.jsx)(qi.YA,{explanation:"Enable microphone access in your browser settings to use Voice Notes."})}),o)]})};var Ui=i(81323);const $i=["duration","recordingTime","error","stopRecording","recordedBlob","isRecordingInProgress","isProcessingRecordedAudio","clearCanvas"];const Wi=e=>{const{maxDuration:t=120,session:i,onTranscriptionComplete:n,onTranscriptionError:o}=e,[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),d=(0,r.useRef)(null),p=(0,r.useRef)(null),[u,h]=(0,r.useState)(null),m=(0,Pe.GV)(Ui.WP),g=(0,Ni.k)({onStartRecording:()=>{(0,Ve.A5)("started","voice_note_recording","messenger","",{source:"voice_note_recording"})},onStopRecording:()=>{(0,Ve.A5)("stopped","voice_note_recording","messenger","",{source:"voice_note_recording",duration:x})},onClearCanvas:()=>{},shouldHandleBeforeUnload:!1}),{duration:x,recordingTime:f,error:v,stopRecording:y,recordedBlob:b,isRecordingInProgress:w,isProcessingRecordedAudio:j,clearCanvas:k}=g,A=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(g,$i),C=(0,r.useCallback)((()=>{k(),p.current=null,d.current&&(d.current.abort(),d.current=null),c(!1),h(null)}),[k]),S=(0,r.useCallback)((async e=>{if(!i||!n)return;if(e.size>10485760){if((0,Ve.A5)("exceeded","voice_note_file_size","messenger","",{file_size_kb:Math.round(e.size/1024)}),o){const e=new Error("File too large to transcribe");h(e),o(e)}C()}else{c(!0),d.current=new AbortController,(0,Ve.A5)("started","voice_transcription","messenger","",{blob_size:e.size,mime_type:e.type});try{const t=await(0,Ue.Ks)(i,e,d.current.signal);(0,Ve.A5)("success","voice_transcription","messenger","",{blob_size:e.size,mime_type:e.type}),n(t.text),C(),c(!1)}catch(e){if(e instanceof Error&&"AbortError"!==e.name&&((0,Ve.A5)("error","voice_transcription_error","messenger","",{message:e.message}),o)){const e=new Error("Transcription failed");h(e),o(e)}}finally{d.current&&(d.current=null)}}}),[i,n,o,C]),T=(0,r.useCallback)((()=>{d.current&&(d.current.abort(),(0,Ve.A5)("cancelled","voice_transcription_cancelled_by_user","messenger","",{source:"voice_transcription_cancelled_by_user"})),c(!1),C()}),[C]);return(0,r.useEffect)((()=>{const e=b!==p.current;!w&&b&&!v&&!l&&e&&i&&n&&(p.current=b,S(b))}),[w,b,v,l,i]),(0,r.useEffect)((()=>{f/1e3>=t&&(y(),(0,Ve.A5)("exceeded","voice_note_max_duration","messenger","",{max_duration_seconds:t}))}),[t,f]),(0,r.useEffect)((()=>{var e;!(!window.MediaRecorder||null==(e=navigator.mediaDevices)||!e.getUserMedia)&&m?(async()=>{if(navigator.permissions)try{return"denied"===(await navigator.permissions.query({name:"microphone"})).state}catch(e){return!1}return!1})().then((e=>{a(!e)})):a(!1)}),[m]),Object.assign({duration:x,isSupported:s,recordingDuration:x,recordingTime:f,stopRecording:y,error:u||v,recordedBlob:b,isRecordingInProgress:w,isProcessingRecordedAudio:j,clearCanvas:C,isTranscribing:l,cancelTranscription:T},A)},Ki=({composerContent:e,placeholder:t,autoFocus:i,allowedActions:n,forceShowSubmitButton:o,onTyping:a})=>{var l,c;const d=(0,r.useRef)(null),p=(0,r.useRef)(null),u=(0,r.useRef)(null),h=(0,r.useRef)(null),m=(0,r.useRef)(null),x=(0,r.useRef)(null),{useExpandedComposer:f,textField:v,imageDrafts:y}=s(),b=(0,r.useRef)(null),w=(0,Pe.GV)((e=>e.session)),j=Wi({maxDuration:120,session:w,onTranscriptionComplete:(0,r.useCallback)((e=>{if(v.setValue(e),v.ref.current){const t=e.length;v.setCursorPosition(t),v.ref.current.setSelectionRange(t,t)}}),[v]),onTranscriptionError:(0,r.useCallback)((e=>{Ve.Ay.buildAndAddHcMetric("voice_transcription_error",{error:e.message})}),[])}),{isSupported:C,isRecordingInProgress:S,isProcessingRecordedAudio:T,startRecording:_,stopRecording:E,clearCanvas:N,isTranscribing:B,cancelTranscription:I}=j,R=""!==(null==e?void 0:e.trim())||y.images.length>0||(0,oe.rr)()||o,P=S||T||B,z=y.images.length>0;return P?(0,g.jsx)(Ei,{children:(0,g.jsx)(Di,{ref:b,voiceControls:j,onClear:N,onStopRecording:E,showStopButton:S,isTranscribing:B,onCancelTranscription:I})}):f?(0,g.jsxs)(bi,{children:[(0,g.jsx)(dt,{images:y.images,onRemoveImage:y.removeImage}),(0,g.jsx)("div",{children:n.emojis&&!z?(0,g.jsx)(di,{children:(0,g.jsx)(Vt,{placeholder:t,onTyping:a,autoFocus:i,maxHeight:158})}):(0,g.jsx)(Vt,{placeholder:t,onTyping:a,autoFocus:i,maxHeight:158})}),(0,g.jsxs)(Ti,{children:[n.emojis&&!z&&(0,g.jsx)(Si,{ref:u,children:(0,g.jsx)(Re,{})}),n.gifs&&(0,g.jsx)(Qe.B1,{in:!R,timeout:150,classNames:"fade",nodeRef:h,unmountOnExit:!0,children:(0,g.jsx)(_i,{ref:h,children:(0,g.jsx)(nt,{})})}),n.uploads&&(0,g.jsx)(Qe.B1,{in:!R,timeout:150,classNames:"fade",nodeRef:m,unmountOnExit:!0,children:(0,g.jsx)(_i,{ref:m,children:(0,g.jsx)($t,{allowMultipleUploads:n.uploads.allowMultipleUploads,allowedAttachmentExtensions:n.uploads.allowedAttachmentExtensions})})}),n.voiceNotes&&(0,g.jsx)(Qe.B1,{in:!R,timeout:150,classNames:"fade",nodeRef:x,unmountOnExit:!0,children:(0,g.jsx)(_i,{ref:x,children:(0,g.jsx)(Gi,{isSupported:C,isRecording:S,startRecording:_,stopRecording:E})})}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(ki,{children:(0,g.jsx)(A,{})})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(dt,{images:y.images,onRemoveImage:y.removeImage}),(0,g.jsx)("div",{children:n.emojis&&!z?(0,g.jsx)(di,{children:(0,g.jsx)(Vt,{placeholder:t,onTyping:a,autoFocus:i})}):(0,g.jsx)(Vt,{placeholder:t,onTyping:a,autoFocus:i})}),(0,g.jsxs)(k,{children:[n.emojis&&!z&&(0,g.jsx)(Qe.B1,{in:!R,timeout:150,classNames:"fade",nodeRef:p,unmountOnExit:!0,children:(0,g.jsx)(xi,{ref:p,children:(0,g.jsx)(Re,{})})}),n.gifs&&(0,g.jsx)(nt,{}),n.uploads&&!(null!=(l=v.value)&&l.trim())&&0===y.images.length&&(0,g.jsx)($t,{allowMultipleUploads:n.uploads.allowMultipleUploads,allowedAttachmentExtensions:n.uploads.allowedAttachmentExtensions}),n.emojis&&!z&&(0,g.jsx)(Qe.B1,{in:R,timeout:150,classNames:"fade",nodeRef:u,unmountOnExit:!0,children:(0,g.jsx)(yi,{ref:u,children:(0,g.jsx)(Re,{})})}),n.voiceNotes&&!(null!=(c=v.value)&&c.trim())&&(0,g.jsx)(Gi,{isSupported:C,isRecording:S,startRecording:_,stopRecording:E}),(0,g.jsx)(Qe.B1,{in:R,timeout:150,classNames:"fade",nodeRef:d,unmountOnExit:!0,children:(0,g.jsx)(hi,{ref:d,children:(0,g.jsx)(A,{})})})]})]})},Yi=({initialValue:e,draftKey:t,composerContent:i,placeholder:n,disabled:r,autoFocus:o,allowedActions:s,forceShowSubmitButton:a,onSubmit:l,onChange:c,onTyping:d,useUpdatedConversationPadding:p})=>(0,g.jsx)(xt,{initialValue:e,onSubmit:l,draftKey:t,disabled:r,onChange:c,useUpdatedConversationPadding:p,children:(0,g.jsx)(Ki,{composerContent:i,placeholder:n,autoFocus:o,allowedActions:s,forceShowSubmitButton:a,onTyping:d})});var Xi=i(94560),Ji=i(36667),Zi=i(6314);const Qi=(0,n.Ay)("div",{target:"e17243fp2"})("background-color:",(0,n.w4)("inputAlt"),";min-height:48px;position:relative;padding-bottom:1px;",u.TD,";");var en={name:"11g4mt0",styles:"font-size:16px"};const tn=(0,n.Ay)("input",{target:"e17243fp1"})("appearance:none;box-sizing:border-box;resize:none;font-family:",(0,n.w4)("fontSansSerif"),";font-size:14px;font-weight:normal;inset:0;line-height:20px;max-height:200px;outline:none;overflow-wrap:break-word;padding:14px 16px 14px 4px;white-space:pre-wrap;width:calc(100% - 24px);border-bottom:1px solid ",(0,n.w4)("borderEmphasisNeutral"),";padding-bottom:16px;margin:0 12px;background-color:",(0,n.w4)("inputAlt"),";&::placeholder{color:",(0,n.w4)("textMuted"),";}",(({theme:e})=>e.isMobileBrowser&&en)," ",(({theme:e,hasError:t})=>t&&(0,n.AH)("border-bottom:1px solid ",e.textError,";margin-bottom:6px;")),";"),nn=(0,n.Ay)("span",{target:"e17243fp0"})("font-family:",(0,n.w4)("fontSansSerif"),";font-size:13px;line-height:13px;color:",(0,n.w4)("textError"),";padding:0 14px;"),rn=({value:e,autoFocus:t,onChange:i,onBlur:n,errorMessage:o})=>{const s=(0,r.useRef)(null);(0,r.useEffect)((()=>{null!=s&&s.current&&t&&!e&&s.current.focus()}),[s,t,e]),(0,r.useEffect)((()=>{null!=s&&s.current&&o&&s.current.focus()}),[s,o]);const a=o?{"aria-invalid":!0}:{};return(0,g.jsxs)(Qi,{children:[(0,g.jsx)(tn,Object.assign({name:"email",ref:s,placeholder:Zi.o,value:e,type:"email",autoComplete:"email",onChange:e=>{const{value:t}=e.currentTarget;i&&i(t)},onBlur:e=>{const{value:t}=e.currentTarget;n&&n(t)},"aria-label":(0,p.Tl)("your_email"),hasError:!!o},a)),o&&(0,g.jsx)(nn,{children:o})]})},on=(0,n.Ay)("div",{target:"e11lf1ti0"})("background-color:",(0,n.w4)("inputAlt"),";min-height:90px;"),sn=({initialText:e,initialEmail:t="",draftKey:i=pt.A.NEW_CONVERSATION_DRAFT_ID,placeholder:n,autoFocus:o,disabled:s,onSubmit:a,onTyping:l})=>{const[c,d]=(0,r.useState)((()=>e||pt.A.loadDraft(i)||"")),[u,h]=(0,r.useState)(t),[m,x]=(0,r.useState)(""),f=(0,Pe.jL)();(0,r.useEffect)((()=>(f((0,Xi.Lt)()),()=>{f((0,Xi.Lt)())})),[f]);const v=""===c.trim()||""===u.trim()||!(0,Ji.B)(u.trim());return(0,g.jsxs)(xt,{initialValue:e,validate:e=>u&&u.trim().length>0&&!(0,Ji.B)(u)?(x((0,p.Tl)("that_email_address_doesnt_look_quite_right")),!1):0!==e.trim().length,onSubmit:(...e)=>(a(e[0],null,null,u),!0),onChange:e=>{d(e)},draftKey:i,disabled:s||v,children:[(0,g.jsx)(rn,{value:u,errorMessage:m,onChange:e=>{h(e)},onBlur:e=>{0!==e.trim().length?(0,Ji.B)(e)?x(""):x((0,p.Tl)("that_email_address_doesnt_look_quite_right")):x("")},autoFocus:o}),(0,g.jsxs)(on,{children:[(0,g.jsx)(di,{children:(0,g.jsx)(Vt,{placeholder:n,onTyping:l,autoFocus:!1,maxHeight:135})}),(0,g.jsxs)(k,{forceStandardView:!0,children:[(0,g.jsx)(Re,{insertOnly:!0}),(0,g.jsx)(A,{})]})]})]})}},29853:(e,t,i)=>{"use strict";i.d(t,{A:()=>o,c:()=>a});var n=i(86923),r=i(72977);const o=(0,n.Ay)("div",{target:"e1y8qs781"})("min-height:48px;max-height:200px;padding:0 ",(({theme:e,useUpdatedConversationPadding:t})=>t?e.conversationHorizontalPadding:e.globalHorizontalPadding),"px 0 ",(({theme:e,useUpdatedConversationPadding:t})=>t?e.conversationHorizontalPadding:e.globalHorizontalPadding),"px;width:100%;box-sizing:border-box;",r.TD,";");var s={name:"11m65u3",styles:"transition:outline-width 150ms"};const a=(0,n.Ay)("div",{target:"e1y8qs780"})("border-radius:24px;box-shadow:",(0,n.w4)("shadowSmall"),";overflow:hidden;position:relative;border:1px solid ",(0,n.w4)("borderNeutral"),";outline:solid 0 ",(0,n.w4)("primaryColor"),";color:",(0,n.w4)("textDefault"),";",(({transition:e})=>"none"===(null==e?void 0:e.transition.type)&&"entering"===(null==e?void 0:e.state)?null:s)," &:focus-within{outline-width:2px;}")},70951:(e,t,i)=>{"use strict";i.d(t,{t:()=>o,u:()=>r});var n=i(96540);const r=(0,n.createContext)(null);r.displayName="PageTransitionContext";const o=()=>(0,n.useContext)(r)},18603:(e,t,i)=>{"use strict";i.d(t,{B:()=>r,v:()=>o});var n=i(86923);const r=32,o=(0,n.Ay)("a",{target:"e9lv9ro0"})("display:inline-block;height:",r,"px;width:100%;background:",(0,n.w4)("containerBaseNeutral"),"!important;&:hover{background:",(0,n.w4)("containerNeutral"),"!important;}transition:all 80ms;text-align:center;line-height:",r,"px;text-decoration-line:underline;font-size:13px;font-weight:656;color:",(0,n.w4)("textMuted"),"!important;")},87477:(e,t,i)=>{"use strict";i.d(t,{A:()=>x});var n=i(40961),r=i(86923);const o=(0,r.Ay)("div",{target:"e5gnry51"})("display:inline-flex;flex-direction:row;justify-content:center;align-items:center;padding:4px;gap:2px;line-height:1;font-size:14px;font-weight:normal;border-radius:20px;",(({color:e="textDefault",backgroundColor:t="containerEmphasisNeutral",theme:i})=>(0,r.AH)("color:",i[e],";background:",i[t],";transition:background 0.2s ease-in-out,color 0.2s ease-in-out;")),";"),s=(0,r.Ay)("span",{target:"e5gnry50"})({name:"1buzkqa",styles:"padding:0 2px"});var a=i(86073),l=i(74848);const c=({children:e,icon:t,color:i="textDefault",backgroundColor:n})=>(0,l.jsxs)(o,{color:i,backgroundColor:n,children:[e&&(0,l.jsx)(s,{children:e}),t&&(0,l.jsx)(a.Ay,{type:t,color:i})]});function d({label:e="",color:t,backgroundColor:i}){return(0,l.jsx)(c,{icon:"Info",color:t,backgroundColor:i,children:e})}var p=i(79986),u=i(49106),h=i(18166),m=i(49651),g=i(92090);const x=({triggerClassName:e})=>{const t=(0,p.GV)((e=>e.app.name||"")),i=(0,m.Tl)("answer_is_generated_with_ai_sources",{company_name:t}),{element:r}=(0,h.P)();return(0,l.jsxs)(u.bL,{children:[(0,l.jsx)(u.l9,{"aria-label":"Tooltip opener",className:e,children:(0,l.jsx)(d,{color:"iconMuted",backgroundColor:"none"})}),r&&(0,n.createPortal)((0,l.jsx)(u.UC,{children:(0,l.jsx)(g.YA,{explanation:i})}),r)]})}},48368:(e,t,i)=>{"use strict";i.d(t,{A:()=>EmailAttribute});var n=i(96540),r=i(66433),o=i(6314),s=i(36667),a=i(49651),l=i(74848);class EmailAttribute extends n.Component{render(){const{value:e,saveState:t,isBorderless:i,isReplyType:n,isNotificationChannel:o,isSubmittable:c,placeholder:d,disabled:p,errorMessage:u,hideErrorMessage:h,onSubmit:m,onChange:g}=this.props;return(0,l.jsx)(r.A,{value:e,placeholder:d,saveState:t,disabled:p,isValid:s.B,isBorderless:i,isReplyType:n,isSubmittable:c,isNotificationChannel:o,onSubmit:m,onChange:g,hideErrorMessage:h,ariaLabel:"Enter your email",type:"email",validationErrorMessage:u||(0,a.Tl)("that_email_address_doesnt_look_quite_right")})}}EmailAttribute.defaultProps={placeholder:o.o,isSubmittable:!0,hideErrorMessage:!1}},1017:(e,t,i)=>{"use strict";i.d(t,{A:()=>PhoneNumberAttribute});var n=i(96540),r=i(61353),o=i(8198),s=i(49651),a=i(64234),l=i(96786),c=i(74848);class PhoneNumberInput extends n.PureComponent{constructor(...e){super(...e),this.handleChange=e=>{this.props.onChange(e.target.value.trim())},this.handleKeyDown=e=>{13===e.keyCode&&(e.preventDefault(),this.props.onSubmit())},this.handleFocus=e=>{const{value:t}=e.target;e.target.value="",e.target.value=t}}renderFlag(){const{defaultCountryCode:e,value:t}=this.props,i=(0,r.J3)(t),n=i?i.code:e;return(0,c.jsx)(l.qw,{countryCode:n})}renderPlaceholder(){const{value:e,placeholder:t,saveState:i}=this.props,n=this.isDisabled();return(0,c.jsx)(l.vO,{disabled:n,saveState:i,children:0===t.indexOf(e)&&(0,c.jsxs)("span",{children:[(0,c.jsx)(l.Dg,{children:e}),(0,c.jsx)("span",{children:t.replace(e,"")})]})})}isDisabled(){const{saveState:e}=this.props;return this.props.disabled||"saving"===e||"saved"===e}renderInput(){const{value:e,isBorderless:t,isReplyType:i}=this.props,n=this.isDisabled(),r=!(t&&i);return(0,c.jsx)("input",{name:"phone",type:"text",disabled:n,autoFocus:r,defaultValue:e,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:a.BW,"aria-label":(0,s.Tl)("phone_number")})}render(){const{saveState:e,isInvalid:t}=this.props,i="saving"===e,n=i||this.isDisabled(),r=Object.assign({"aria-label":i?(0,s.Tl)("loading"):(0,s.Tl)("submit")},i?{role:"progressbar"}:{});return(0,c.jsxs)(l.VY,{saveState:e,isInvalid:t,children:[this.renderFlag(),this.renderPlaceholder(),this.renderInput(),(0,c.jsx)(l._A,{}),(0,c.jsx)(l.Eu,Object.assign({disabled:n,onClick:this.props.onSubmit,saveState:e},r,{children:(0,c.jsx)(o.A,{disabled:n,loading:i})}))]})}}var d=i(91832);class PhoneNumberAttribute extends n.Component{constructor(...e){super(...e),this.state={value:this.props.value||`${(0,r.xI)(this.props.defaultCountryCode)} `,isValid:!0},this.handleChange=e=>{this.setState({value:e,isValid:!0})},this.handleSubmit=()=>{const{value:e}=this.state;(0,r.fn)(e)?this.props.onSubmit(e):this.setState({isValid:!1})}}getPlaceholder(){return`${(0,r.xI)(this.props.defaultCountryCode)} 123 456 7890`}getErrorMessage(){if(this.state.isValid)return"failed"===this.props.saveState&&"parameter_invalid"===this.props.errorCode?(0,s.Tl)("that_number_doesnt_look_quite_right"):(0,s.Tl)("something_is_wrong");{const e=(0,r.E2)(this.state.value);return e?(0,s.Tl)(e):(0,s.Tl)("that_number_doesnt_look_quite_right")}}isInvalid(){return"failed"===this.props.saveState||!this.state.isValid}render(){const{saveState:e,defaultCountryCode:t,isBorderless:i,isReplyType:n,isNotificationChannel:r,disabled:o}=this.props,s=this.getPlaceholder(),a=this.isInvalid();return(0,c.jsxs)("div",{children:[(0,c.jsx)(PhoneNumberInput,{value:this.state.value,saveState:e,placeholder:s,defaultCountryCode:t,isInvalid:a,isBorderless:i,isReplyType:n,disabled:o,isNotificationChannel:r,onChange:this.handleChange,onSubmit:this.handleSubmit}),a&&(0,c.jsx)(d.A,{errorMessage:this.getErrorMessage()})]})}}},50052:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(68239),r=i(29500),o=i(49651),s=i(96540),a=i(74848);const l=["author"];function c(e){let{author:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,l);return t?(0,a.jsx)(d,Object.assign({},i,{author:t})):null}function d({appName:e,author:t,isReplyStyle:i,lastActiveAt:n,isActive:r,removePrefix:o,forceShowAppName:s}){return i?(0,a.jsx)(p,{authorFirstName:t.firstName,removePrefix:o}):(0,a.jsx)(u,{appName:e,author:t,isActive:r,forceShowAppName:s,lastActiveAt:n})}function p({authorFirstName:e,removePrefix:t}){return(0,a.jsxs)(n.$z,{children:[!t&&(0,a.jsx)(n.Oc,{children:`${(0,o.Tl)("reply_from")} `}),(0,a.jsx)(n.Bi,{className:"test-author-summary-name",children:e})]})}function u({appName:e,author:t,isActive:i,forceShowAppName:l,lastActiveAt:c}){const d=(0,s.useMemo)((()=>"team"!==t.type&&!!l),[t.type,l]),p=null!==i&&"en"===(0,o.JK)(),u=i?"Active":"Away";return(0,a.jsxs)(n.$z,{children:[(0,a.jsxs)(n.Z,{className:"test-author-summary-name-from",children:[(0,a.jsx)(n.Bi,{className:"test-author-summary-name",children:t.firstName}),d&&(0,a.jsx)(n.v6,{className:"test-author-summary-from-clause",children:` ${(0,o.Tl)("from_app",{app_name:e})}`})]}),c&&(0,a.jsx)(n.sJ,{children:p?u:(0,r._J)(c)})]})}},99410:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(17905),r=i(50052),o=i(37341),s=i(74848);const a=["children","rightContent"];function l({appName:e,author:t,isReplyStyle:i,lastActiveAt:a,isActive:l,customHeaderText:c,forceShowAppName:d}){return t?(0,s.jsxs)(n.gJ,{children:[(0,s.jsx)(n.Jr,{children:(0,s.jsx)(o.h,{author:t})}),(0,s.jsx)(r.A,{author:t,appName:e,isReplyStyle:i??!1,lastActiveAt:a,isActive:l,forceShowAppName:d})]}):c?(0,s.jsx)(n.tF,{children:c}):null}function c(e){let{children:t,rightContent:i}=e,r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,a);return(0,s.jsxs)(n.jt,{className:"intercom-authored-container",children:[(0,s.jsxs)(n.TJ,{children:[(0,s.jsx)(l,Object.assign({},r)),i]}),t]})}},19386:(e,t,i)=>{"use strict";i.d(t,{A:()=>j});var n=i(96540),r=i(32485),o=i.n(r),s=i(37341),a=i(50052),l=i(26731),c=i(88911),d=i(60077),p=i(95029),u=i(73669),h=i(69771),m=i(99336),g=i(29500),x=i(74848);class ChatCardPresenter extends n.Component{constructor(...e){super(...e),this.state={isScrollable:!1,isScrolled:!1},this.handleScrollable=()=>{this.setState({isScrollable:!0})},this.handleScroll=e=>{this.setState({isScrolled:e.target.scrollTop>0})}}renderAdminAvatar(){const{part:{author:e}}=this.props;return(0,x.jsx)(m.ob,{isAuthorTypeTeam:"team"===e.type,children:(0,x.jsx)(s.h,{author:e})})}renderInlineMetadata(){return(0,x.jsx)(c.q,{part:this.props.part})}renderStickerOrBlocks(){const{part:{author:e,body:t},frameWindow:i}=this.props;return 1===t.length&&(0,h.Nm)(t[0])?(0,x.jsx)(p.A,{text:(0,u.hs)(t[0])}):(0,x.jsx)(l.A,{blocks:t,zoomable:!0,author:e,frameWindow:i})}renderSingleBody(){return(0,x.jsx)(m.lk,{children:this.renderStickerOrBlocks()})}renderAuthor(){const{appName:e,part:{messageType:t,author:i,createdAt:n}}=this.props,{isScrolled:r}=this.state,o="adminReply"===t;return(0,x.jsxs)(m.IK,{isScrolled:r,children:[(0,x.jsx)(a.A,{author:i,appName:e,isReplyStyle:o,removePrefix:!0}),(0,x.jsx)(x.Fragment,{children:"•"}),(0,x.jsx)("span",{children:`${(0,g.iw)(n)}`})]})}renderFullBody(){const{isBorderless:e}=this.props,{isScrollable:t}=this.state;return(0,x.jsxs)("div",{children:[this.props.showAuthor?this.renderAuthor():null,(0,x.jsx)(m.WO,{isScrollable:t,isBorderless:e,children:(0,x.jsx)(d.A,{onScrollable:this.handleScrollable,onScroll:this.handleScroll,children:this.renderStickerOrBlocks()})})]})}render(){const{hasAvatar:e,showAvatar:t,isBorderless:i,isMobile:n,part:{body:r}}=this.props,s=(0,h.EU)(r),a=o()({"intercom-chat-card":!(s&&i),"intercom-chat-card-borderless-single":s&&i});return(0,x.jsxs)(m.sC,{className:a,isSingleBlock:s,isBorderless:i,showAvatar:e&&t,isMobile:n,children:[e&&t?this.renderAdminAvatar():null,s&&i?this.renderSingleBody():this.renderFullBody()]})}}function f(e){return(0,x.jsx)(ChatCardPresenter,Object.assign({},e))}ChatCardPresenter.defaultProps={isBorderless:!1,showAuthor:!0,showAvatar:!0,hasAvatar:!0};var v=i(1082);let y=function(e){return e.PARAGRAPH="paragraph",e.MESSENGER_CARD="messengerCard",e}({});const b=/^<br>/,w=/<br>$/,j=({appName:e,part:t,isBorderless:i=!1,isMobile:r=!1,hasAvatar:o=!0,showInlineMetadata:s,groupingPosition:a,frameWindow:l})=>{const c=(0,n.useCallback)((()=>Object.assign({},t,{body:[]})),[t]),d=(0,n.useCallback)(((e,t)=>{e.text&&(e.text=e.text.trim().replace(t,""))}),[]),p=(0,n.useCallback)(((e,t)=>{e.type===y.MESSENGER_CARD&&t.type===y.PARAGRAPH?d(t,b):e.type===y.PARAGRAPH&&t.type===y.MESSENGER_CARD&&d(e,w)}),[d]),u=(0,n.useCallback)((e=>e.map(((e,t,i)=>{if(t<i.length-1){const n=i[t+1],r=e.body.length-1;p(e.body[r],n.body[0])}return e}))),[p]),h=(0,n.useCallback)((()=>{const e=[];let i=null;return t.body.forEach((t=>{t.type===y.PARAGRAPH&&""===t.text||(0!==e.length&&t.type!==y.MESSENGER_CARD&&i!==y.MESSENGER_CARD||e.push(c()),e[e.length-1].body.push(t),i=t.type)})),u(e)}),[t.body,c,u]),m=(0,n.useCallback)(((t,n,l)=>(0,x.jsx)(v.D,{part:t,showAvatar:l,hasAvatar:o,isBorderless:i,isMobile:r,groupingPosition:a,showInlineMetadata:s,appName:e},n)),[o,i,r,a,s,e]),g=(0,n.useCallback)(((t,n,a,c)=>(0,x.jsx)(f,{appName:e,part:t,showAuthor:a,showAvatar:c,hasAvatar:o,isBorderless:i,showInlineMetadata:s,frameWindow:l,isMobile:r},n)),[e,o,i,s,l,r]),j=(0,n.useCallback)(((e,t,i,n)=>1===e.body.length&&e.body[0].type===y.MESSENGER_CARD?m(e,t,n):g(e,t,i,n)),[m,g]),k=(0,n.useCallback)((e=>e.map(((t,i)=>{const n=0===i,r=i===e.length-1;return j(t,i,n,r)}))),[j]),A=(0,n.useMemo)((()=>h()),[h]);return(0,x.jsx)("div",{children:k(A)})}},1082:(e,t,i)=>{"use strict";i.d(t,{D:()=>Me});var n=i(96540),r=i(26731),o=i(95029),s=i(88911),a=i(80389);const l=e=>"messengerCard"===e.type||"createTicketCard"===e.type,c=e=>!l(e),d=e=>"paragraph"===e.type&&!e.text;var p=i(74848);const u=({blockGroup:e,index:t,part:i,isLastGroup:n,hasAvatar:o,showInlineMetadata:u,zoomable:h,maxImageWidth:m,isBorderless:g,onImageClick:x,isLastPart:f,frameWindow:v})=>{const{author:y}=i,b=u&&n&&e.every(c),w=e.every(d),j=e.every(c),k=e.every(l);return w?null:(0,p.jsxs)(a.B,{isText:j,hasAvatar:o,isMessengerCard:k,isBorderless:g,isAdmin:null==y?void 0:y.isAdmin,isUser:null==y?void 0:y.isSelf,children:[(0,p.jsx)(r.A,{blocks:e,author:i.author,zoomable:h,maxImageWidth:m,onImageClick:x,isLastPart:f,frameWindow:v}),b?(0,p.jsx)(s.q,{part:i}):null]},t)};class BlockGroup{constructor(){this.blocks=[]}addBlock(e){this.blocks.push(e)}}class BlockGroups{constructor(){this.groups=[]}addBlock(e){let t=this.groups[this.groups.length-1];t&&t.blocks.every(c)&&c(e)||(t=new BlockGroup,this.groups.push(t)),t.addBlock(e)}}const h=({isLastPart:e,part:t,hasAvatar:i,showInlineMetadata:r,zoomable:o,maxImageWidth:s,isBorderless:l,onImageClick:c,frameWindow:d})=>{const h=(0,n.useMemo)((()=>{const e=new BlockGroups;return t.body.forEach((t=>e.addBlock(t))),e}),[t.body]);return(0,p.jsx)(a.J,{children:h.groups.map(((n,a)=>(0,p.jsx)(u,{blockGroup:n.blocks,index:a,isLastGroup:a===h.groups.length-1,part:t,hasAvatar:i,showInlineMetadata:r,zoomable:o,maxImageWidth:s,isBorderless:l,onImageClick:c,isLastPart:e,frameWindow:d},a)))})};var m=i(29500),g=i(73669),x=i(69771),f=i(92090),v=i(45134),y=i(32515),b=i(86923),w=i(49651),j=i(87477);const k=(0,b.Ay)("div",{target:"e1nxf91u2"})("font-size:14px;font-weight:600;line-height:20px;display:flex;align-items:center;justify-content:space-between;margin:12px -19px -2px;padding:14px 18px 0px;color:",(0,b.w4)("iconMuted"),";border-top:1px solid ",(0,b.w4)("lightBorder"),";",f.R7.Wrap.className,"{left:-115px;}"),A=(0,b.Ay)("div",{target:"e1nxf91u1"})("display:flex;align-items:center;gap:6px;svg{path{fill:",(({theme:e})=>e.iconOnInverse),";}}"),C=(0,b.Ay)("span",{target:"e1nxf91u0"})("position:relative;color:",(0,b.w4)("textDefault"),";font-weight:400;font-size:13px;"),S=()=>(0,p.jsxs)(k,{children:[(0,p.jsxs)(A,{children:[(0,p.jsx)(y.A,{})," ",(0,p.jsx)(C,{children:(0,w.Tl)("answer")})]}),(0,p.jsx)(j.A,{})]});var T=i(57296),_=i(79986),E=i(86073),N=i(3356),B=i(69830);const I=(e,t,i,r,o)=>{const s=(0,_.GV)((e=>e.user));(e=>{const t=(0,n.useRef)(!1);t.current||(e(),t.current=!0)})((()=>{B.Ay.buildAndAddMetric(s,e,t,i,r,o)}))};var R=i(34179),P=i(51965);const z=({source:e})=>{var t;const{type:i,title:r,url:o,id:s}=e,a=(0,_.jL)(),l=(0,_.GV)((e=>e.user)),c=(null==(t=(0,R.A)())?void 0:t.id)??"unknown",{context:d,meta:u}=(0,P.M)(),h=(0,n.useCallback)((e=>{switch(e.preventDefault(),B.Ay.buildAndAddMetric(l,"clicked","ai_answer_sources","conversation:"+c,d,Object.assign({},u,{sourceId:s,sourceType:i,sourceUrl:o})),i){case"external":(0,N.bB)(o);break;case"article":a((0,T.n$)(s,{},!1,!0))}}),[l,c,d,u,i,o,a,s]),m="external"===i;return(0,p.jsxs)(H,{onClick:h,children:[(0,p.jsx)("span",{children:r}),(0,p.jsx)(E.Ay,{type:m?"ExternalLink":"RightChevronSmall",color:"linkColor",flipInRtl:!0})]})},M=({sources:e})=>{var t;const i=(null==(t=(0,R.A)())?void 0:t.id)??"unknown",{context:n,meta:r}=(0,P.M)();return I("displayed","ai_answer_sources","conversation:"+i,n,r),(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,w.Tl)(e.length>1?"sources":"source")}),e.map((e=>(0,p.jsx)(z,{source:e},function({title:e,url:t}){return e+t}(e))))]})},O=(0,b.Ay)("h3",{target:"e1pj2gdv2"})("color:",(0,b.w4)("textDefault"),";font-weight:600;"),H=(0,b.Ay)("div",{target:"e1pj2gdv1"})("display:flex;flex-direction:row;align-items:center;justify-content:space-between;transition:all 0.2s ease-in-out;color:",(0,b.w4)("textDefault"),";cursor:pointer;&:hover{color:",(0,b.w4)("linkColor"),";text-decoration:underline;}"),D=(0,b.Ay)("div",{target:"e1pj2gdv0"})("position:relative;display:flex;flex-direction:column;gap:4px;margin-left:-16px;margin-right:-16px;padding:12px 16px;font-size:14px;line-height:1.5;margin-bottom:-12px;color:",(0,b.w4)("iconMuted"),";h3{font-weight:600;}&::before{content:'';position:absolute;left:0;right:0;top:0;pointer-events:none;padding-bottom:12px;}"),L=.05,V=L,F=(0,b.AH)("@keyframes fadeIn{to{opacity:1;}}&:last-child{",(()=>{let e="";for(let t=0;t<17.999999999999996;t++){const i=t+1;e+=`\n    .streaming-piece:nth-last-of-type(${i}),\n    a:nth-last-of-type(${i}) {\n      opacity: ${(V+t*L).toFixed(2)};\n      animation: fadeIn 1.0s linear forwards;\n    }`}return e})(),";}");var q=i(48365);const G=(0,b.Ay)("div",{target:"ewbcn770"})((({streamingAnimation:e,theme:t})=>"scroll:smooth:fade"===e||"scroll:smooth"===e?(0,b.AH)(F,";"):(0,b.AH)(q.y.className,":last-of-type::after{content:'';display:inline-block;width:3px;height:16px;margin-left:2px;border-radius:6px;vertical-align:bottom;background:",t.iconDefault,";}")),";");var U=i(86777),$=i(83505),W=i(34743),K=i(52555),Y=i(85530);const X=(0,b.Ay)("div",{target:"e1rjfakr7"})({name:"9s2w0h",styles:"padding-left:10px;padding-right:10px;z-index:1000"}),J=(0,b.Ay)("div",{target:"e1rjfakr6"})("background:",(0,b.w4)("containerBaseNeutral"),";border:none;padding:12px;border-radius:16px;font-size:13px;box-shadow:",(0,b.w4)("shadowSmall"),";z-index:1000;position:relative;"),Z=(0,b.Ay)("div",{target:"e1rjfakr5"})("color:",(0,b.w4)("textDefault"),";font-weight:600;font-size:13px;margin-top:5px;cursor:pointer;&:hover{color:",(({theme:e})=>e.isPrimaryColorAsTheme?e.textDefault:e.appColor),";text-decoration:underline;}"),Q=(0,b.Ay)("div",{target:"e1rjfakr4"})("color:",(0,b.w4)("textMuted"),";font-size:12px;font-weight:400;display:flex;align-items:center;gap:4px;"),ee=(0,b.Ay)("div",{target:"e1rjfakr3"})("border-radius:16px;width:16px;height:16px;background:",(({backgroundColor:e})=>e),";"),te=(0,b.Ay)("img",{target:"e1rjfakr2"})({name:"1y0ittq",styles:"position:relative;width:8px;height:8px;left:4px;top:4px"}),ie=(0,b.Ay)("div",{target:"e1rjfakr1"})(".inline-citation{width:16px;height:12px;padding-top:2px;padding-bottom:2px;margin-top:-2px;margin-bottom:-2px;background:",(0,b.w4)("containerEmphasisNeutral"),";border-radius:51px;display:inline-block;margin-left:4px;text-decoration:none;position:relative;line-height:inherit;&::after{content:'';position:absolute;top:-8px;left:-8px;right:-8px;bottom:-8px;border-radius:51px;}&:hover{background:",(0,b.w4)("appColor"),";&::before{",(({theme:e})=>(0,b.AH)("color:",e.isPrimaryColorAsTheme?e.textDefault:e.textOnInverse,";")),";}}&::before{padding:0px;line-height:12px;content:attr(data-source-index);color:",(0,b.w4)("textDefault"),";text-decoration:none;font-family:monospace;text-align:center;font-size:10px;display:inline-block;width:100%;}}position:relative;"),ne=(0,b.Ay)("div",{target:"e1rjfakr0"})("svg{rect{fill:",(0,b.w4)("containerNeutral"),";}}svg{path{fill:",(0,b.w4)("iconDefault"),";}}");var re=i(27124),oe=i(5994),se=i(5351),ae=i(47452);const le=(0,n.forwardRef)((({source:e,lang:t,linkText:i,style:r,onMouseEnter:o,onMouseLeave:s,animationStyle:a},l)=>{var c;const d=e.url?(0,oe.vx)(e.url).hostname:"",u="article"===e.type,h=(0,_.jL)(),m=(0,_.GV)((e=>e.user)),g=(0,_.GV)(re.R),x=(0,R.A)(),f=(null==x?void 0:x.id)??"unknown",{context:v,meta:y}=(0,P.M)(),{homeHeaderBackgroundColor:b}=(0,se.A)(),j=(0,_.GV)(ae.Ch),k=(0,n.useCallback)((i=>{switch(i.preventDefault(),i.stopPropagation(),B.Ay.buildAndAddMetric(m,"clicked","ai_answer_inline_sources","conversation:"+f,v,Object.assign({},y,{sourceId:e.id,sourceType:e.type,sourceUrl:e.url})),e.type){case"external":(0,N.bB)(e.url);break;case"article":h((0,T.n$)(e.id,{},!1,!0,"",null,!1,t,e.url))}}),[m,f,v,y,e,h,t]);return(0,p.jsx)(X,{ref:l,style:r,onMouseEnter:o,onMouseLeave:s,children:(0,p.jsx)(K.CS.div,{style:a,children:(0,p.jsxs)(J,{children:[(0,p.jsxs)(Q,{children:[u&&g?(0,p.jsx)(ee,{backgroundColor:("colors"===(null==j?void 0:j.type)?null==(c=j.gradient)?void 0:c[0]:null==j?void 0:j.color)??b,children:(0,p.jsx)(te,{src:g,alt:"App Logo",width:"16",height:"16",style:{objectFit:"contain"}})}):(0,p.jsx)(ne,{children:(0,p.jsx)(E.Ay,{type:u?"InlineSourceArticlePreview":"ExternalSourceArticlePreview",size:16})}),u?(0,w.Tl)("help_center_article"):d]}),(0,p.jsx)(Z,{onClick:k,children:u&&t&&i?i:e.title})]})})})}));le.displayName="SourceTooltip";const ce=({children:e,setTotalCount:t})=>{const i=(0,n.useRef)(null),r=(0,n.useRef)();(e=>{(0,n.useEffect)((()=>{const t=e.current;t&&t.querySelectorAll("a.inline-citation").forEach((e=>{const t=e.getAttribute("data-entity-id"),i=e.textContent||"",n=t?`Source reference ${t}: ${i}`:`Source reference: ${i}`;e.setAttribute("aria-label",n),e.getAttribute("role")||e.setAttribute("role","link")}))}),[e])})(i);const{link:o,index:s,lang:a,entityType:l,linkText:c,articleId:d}=((e,t)=>{const[i,r]=(0,n.useState)({link:null,index:-1,lang:null,entityId:null,entityType:null,linkText:null,articleId:null});return(0,n.useLayoutEffect)((()=>{var i;const n=null==(i=e.current)?void 0:i.querySelectorAll("a.inline-citation");if(!n||0===n.length)return;t&&t(n.length);const o=e=>{var t;const i=e.currentTarget,o=Array.from(n).indexOf(i),s=i.getAttribute("lang")||i.getAttribute("data-lang"),a=i.getAttribute("data-entity-id"),l=i.getAttribute("data-entity-type"),c=i.getAttribute("data-article-id"),d=i.getAttribute("data-title")||(null==(t=i.textContent)?void 0:t.trim())||null;r({link:i,index:o,lang:s,entityId:a,entityType:l,linkText:d,articleId:c})},s=e=>{e.preventDefault(),e.stopPropagation()},a=()=>{r({link:null,index:-1,lang:null,entityId:null,entityType:null,linkText:null,articleId:null})};return n.forEach((e=>{e.addEventListener("click",s),e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",a)})),()=>{n.forEach((e=>{e.removeEventListener("click",s),e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",a)}))}}),[e,t]),i})(i,t),[u,h]=(0,n.useState)(null),[m,g]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[v,y]=(0,n.useState)({entityType:null,lang:null,linkText:null,articleId:null}),b=(0,Y.L)(),{refs:w,floatingStyles:j}=(0,$.we)({placement:"top",middleware:[(0,W.cY)(8),(0,W.UU)(),(0,W.BN)()],elements:{reference:o}});(0,n.useEffect)((()=>{d&&l&&y({entityType:l,lang:a,linkText:c,articleId:d})}),[l,a,c,d]),(0,n.useEffect)((()=>{o||m||y({entityType:null,lang:null,linkText:null,articleId:null})}),[o,m]);const k=(0,n.useMemo)((()=>{const e=u?decodeURIComponent(u):null;let t=null;const i=l||(m?v.entityType:null),n=d||v.articleId||null;return n&&b?("article_content"!==i&&"1"!==i&&"article"!==i||(t=b.find((e=>{if(!e.id)return!1;const t=e.id.toString()===n,i="number"==typeof e.id&&e.id===parseInt(n||"",10);return"article"===e.type&&(t||i)}))),!t&&e&&(t=b.find((t=>t.url&&t.url===e)))):e&&b&&(t=b.find((t=>t.url&&t.url===e))),t}),[l,u,b,m,v,d]),A=(0,K.zh)({zIndex:1e3,opacity:x?1:0,transform:x?"translateY(0px)":"translateY(10px)",scale:x?1:.95,config:{duration:x?150:100,easing:K.le.easeOutQuad},onRest:()=>{!x&&u&&h(null)}});return(0,n.useEffect)((()=>{f(!!u&&!!k)}),[u,k,s]),(0,n.useEffect)((()=>{if(o||m){const e=null==o?void 0:o.href;e&&h(e),r.current&&clearTimeout(r.current)}else r.current=setTimeout((()=>{f(!1)}),300);return()=>{r.current&&clearTimeout(r.current)}}),[o,m,s]),b?(0,p.jsxs)(ie,{ref:i,children:[e,k&&x&&(0,p.jsx)(le,{animationStyle:A,source:k,lang:a||(m?v.lang:null),linkText:c||(m?v.linkText:null),ref:w.setFloating,style:j,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)})]}):e};var de=i(20413);const pe=({part:e})=>{const t=(0,n.useCallback)((()=>{(0,B.oS)("conversation_part_streaming_timeout"),(0,B.sq)("conversationPartStreamingTimeout",{client_assigned_id:e.clientId,token_sequence_index:e.tokenSequenceIndex})}),[e.tokenSequenceIndex,e.clientId]);(0,U.A)(t,1e4);const{streamingAnimation:i}=(0,R.A)()??{streamingAnimation:null};return(0,p.jsx)(G,{streamingAnimation:i,children:(0,p.jsx)(de.Q,{streamed:!0,children:(0,p.jsx)(ce,{children:(0,p.jsx)(r.A,{blocks:e.body,author:e.author})})})})};var ue=i(42706),he=i(83034);const me=({part:e,isMobile:t=!1,isBorderless:i=!1,hasAvatar:a=!1,showInlineMetadata:l=!1,isLastPart:c=!1,onImageClick:d})=>{const u=(0,ue.x)(),{author:y,body:b,createdAt:w,messageType:j,showCreatedAt:k,sources:A,tokenSequenceIndex:C}=e,T=(0,n.useRef)(null),_=null==b?void 0:b.some((e=>"messengerCard"===e.type)),E=null==b?void 0:b.some((e=>"createTicketCard"===e.type)),N=_||E,B=l&&!N,I=void 0!==C,R=()=>{if(!k)return null;const e=(0,x.EU)(b),t=N;return(0,p.jsx)(v.D,{isSingleBlock:e,hasBody:t,children:(0,m.Bv)(w)})},P=()=>{if(b)return 1===b.length&&(0,x.Nm)(b[0])?(0,p.jsx)(o.A,{text:(0,g.hs)(b[0])}):I?(0,p.jsx)(pe,{part:e},e.clientId):N?(0,p.jsx)(h,{part:e,isLastPart:c,zoomable:!t,isBorderless:i,hasAvatar:a,showInlineMetadata:l,maxImageWidth:232,onImageClick:d,frameWindow:u}):(0,p.jsx)(r.A,{autoPlay:!1,blocks:b,author:y,zoomable:!t,maxImageWidth:232,onImageClick:d,frameWindow:u},e.clientId)},z=(0,x.EU)(b),O=-1!==["inlineAnswer","relevantArticles","finAnswer"].indexOf(j),H=t||!k||O||_;return(0,p.jsx)(f.Ay,{content:w&&(0,m.Bv)(w),enabled:!H,children:(t,n)=>(0,p.jsxs)(v.F,Object.assign({},n,{isAIAnswer:O,className:z?"intercom-comment-single":"intercom-comment",isSingleBlock:z,hasBody:N,isAdmin:null==y?void 0:y.isAdmin,isUser:null==y?void 0:y.isSelf,isFailed:"failed"===e.saveState,isBorderless:i,hasAvatar:a,ref:(0,he.A)(T,n.ref),children:[P(),A&&!I&&(0,p.jsx)(M,{sources:A}),R(),B?(0,p.jsx)(s.q,{part:e,inlineMetadata:!0}):null,t,O&&!I&&(0,p.jsx)(S,{})]}))})};var ge=i(37341),xe=i(65318),fe=i(15776),ve=i(58468),ye=i(32485),be=i.n(ye),we=i(26265),je=i(47707);var ke=i(19867),Ae=i(50052);class GroupedBorderlessComment_BlockGroup{constructor(){this.blocks=[]}addBlock(e){this.blocks.push(e)}}class GroupedBorderlessComment_BlockGroups{constructor(){this.groups=[]}addBlock(e){let t=this.groups[this.groups.length-1];t&&t.blocks.every(c)&&c(e)||(t=new GroupedBorderlessComment_BlockGroup,this.groups.push(t)),t.addBlock(e)}}const Ce=({part:e,isMobile:t})=>{const{author:i}=e,o=(0,n.useMemo)((()=>{const t=new GroupedBorderlessComment_BlockGroups;return e.body.forEach((e=>t.addBlock(e))),t}),[e.body]);return(0,p.jsx)(p.Fragment,{children:o.groups.map(((e,n)=>((e,n)=>{const s=e.every(l);return(0,p.jsxs)(ke._Q,{isMessengerCard:s,isLastGroup:n===o.groups.length-1,children:[!s&&(null==i?void 0:i.avatar)&&(0,p.jsx)(ke.j0,{children:(0,p.jsx)(ge.h,{author:i,size:32,solidBackground:!0})}),(0,p.jsx)(r.A,{autoPlay:!1,blocks:e,author:i,zoomable:!t})]},n)})(e.blocks,n)))})},Se=({part:e,isSelf:t,isSingleBlock:i,isMobile:n,groupingPosition:s,appName:a})=>{const{author:l,body:c,createdAt:d,messageType:u="adminReply"}=e,h=be()({"intercom-comment-single":i,"intercom-comment":!i,"intercom-new-conversational-user-styling-comment":t,"intercom-new-conversational-admin-styling-comment":!t}),f=null==c?void 0:c.some((e=>"messengerCard"===e.type)),v=null==c?void 0:c.some((e=>"createTicketCard"===e.type)),y=f||v,b=(null==l?void 0:l.avatar)&&!t&&!y,w=!t&&!y;return(0,p.jsxs)(ke.mc,{isSelf:t,groupingPosition:s,hasMessengerApps:y,"data-testid":"borderless-conversation-comment",children:[b&&(0,p.jsx)(ke.j0,{children:(0,p.jsx)(ge.h,{author:l,size:32,solidBackground:"squircle"!==l.avatar.shape})}),(0,p.jsxs)(ke.w4,{hasMessengerApps:y,children:[(0,p.jsx)(ke.FW,{isSingleBlock:i,className:h,children:(()=>{if(c)return 1===c.length&&(0,x.Nm)(c[0])?(0,p.jsx)(o.A,{text:(0,g.hs)(c[0])}):y?(0,p.jsx)(Ce,{part:e,isMobile:!n}):(0,p.jsx)(r.A,{autoPlay:!1,blocks:c,author:l,zoomable:!n},e.clientId)})()}),w&&(0,p.jsxs)(ke.h_,{children:[(0,p.jsx)(Ae.A,{author:l,appName:a,isReplyStyle:"adminReply"===u,removePrefix:!0}),(0,p.jsx)(ke.So,{children:` • ${(0,m.iw)(d)}`})]})]})]})};var Te=i(55239);const _e=({attribution:e,textColor:t})=>{const i=(0,se.A)().textMuted;return(0,p.jsx)(Te.n,{textColor:t||i,children:(0,w.Tl)("gif_attribution",{providername:e})})};var Ee=i(96875),Ne=i(96742),Be=i(42910),Ie=i(71982),Re=i(86629);const Pe=({part:e,isSelf:t,appName:i,attribution:a,isMobile:l=!1,isBorderless:c=!1,showInlineFooter:d=!1,groupingPosition:u=we.L3.standalone,borderColors:h,lastAdminOrBotPart:f})=>{var v,y,b,j,k;const{id:A,author:C,body:S,createdAt:T,uxStyle:E,messageType:N,tokenSequenceIndex:B,sources:I,answerFooter:P}=e,z=(0,se.A)(),O=(0,_.GV)(Ie.l),H=-1!==["inlineAnswer","relevantArticles","finAnswer"].indexOf(N),{container:D}=E??{},L=(0,n.useRef)(null),[V,F]=(0,n.useState)(0),q=((e,t)=>{const i=null==e?void 0:e.some((e=>"messengerCard"===e.type)),n=null==e?void 0:e.some((e=>"createTicketCard"===e.type));return t&&!(i||n)})(S,d),G=null==(v=(0,R.A)())?void 0:v.streamingAnimation,U=void 0!==B,[$,W]=(0,n.useState)(!1),K="scroll:smooth:fade"===G&&U,Y=(null==(y=e.metadata)?void 0:y.title)||(null==C?void 0:C.firstName),X=!(!(Y&&(null!=C&&C.isAdmin||null!=C&&C.isBot)&&(f&&(0,Re.TS)(e)===(0,Re.TS)(f)||$))||U),J="bot_intro"===e.partType?(0,w.Tl)("time_just_now"):(0,m.iw)(T),Z=(0,_.jL)(),Q=(0,R.A)(),ee=(null==Q||null==(b=Q.parts[(null==Q?void 0:Q.parts.length)-1])?void 0:b.id)===A,te=async t=>{var i;if(!Q)return;const n=null==(i=e.answerFooter)?void 0:i.replyOptions.find((e=>e.uuid===t.uuid));Z((0,Ne.R)(Be.Ay,Q,Object.assign({},n||t,{type:"quick_reply"}),!1,e,!1))},ie=(0,x.EU)(S),ne=be()({"intercom-comment-single":ie,"intercom-comment":!ie});return c?(0,p.jsx)(Se,{part:e,isSelf:t,isSingleBlock:ie,isMobile:l,groupingPosition:u,appName:i}):(0,p.jsxs)(je.mc,{isStreaming:K,isSelf:t,isAIAnswer:H,uxStyleContainer:D,isSingleBlock:ie,groupingPosition:u,borderColors:h,isExpanded:O,showMetaDataUnderMessage:X,onClick:()=>W((e=>!e)),children:[(0,p.jsxs)(je.FW,{isSelf:t,isSingleBlock:ie,isFailed:"failed"===e.saveState,uxStyleContainer:D,className:ne,ref:L,children:[(()=>{if(S)return 1===S.length&&(0,x.Nm)(S[0])?(0,p.jsx)(o.A,{text:(0,g.hs)(S[0])}):U?(0,p.jsx)(pe,{part:e},e.clientId):(0,p.jsx)(ce,{setTotalCount:F,children:(0,p.jsx)(r.A,{autoPlay:!1,blocks:S,author:C,zoomable:!l},e.clientId)})})(),I&&0===V&&!U?(0,p.jsxs)(p.Fragment,{children:[!P&&(0,p.jsx)(je.L$,{}),(0,p.jsx)(M,{sources:I})]}):null,P?(0,p.jsxs)(p.Fragment,{children:[(P.text||P.replyOptions)&&(0,p.jsx)(je.L$,{}),P.text&&(0,p.jsx)("div",{style:{fontSize:"14px",marginTop:"12px"},children:P.text}),P.replyOptions&&ee&&(0,p.jsx)(Ee.A,{suggestions:P.replyOptions,onSelect:te,onHeightChange:()=>{},isBorderless:!1,suggestionButtonsAlignment:P.replyOptions.length>1?"left":"right",isInline:!0})]}):null,q?(0,p.jsx)(s.q,{part:e}):null]}),a?(0,p.jsx)(_e,{attribution:a,textColor:t?z.textOnInverse:z.textDefault}):null,(0,p.jsxs)(je.Zf,{show:X,children:[Y," ",null!=(j=e.metadata)&&j.suffix?`• ${null==(k=e.metadata)?void 0:k.suffix}`:""," •"," ",J]})]})},ze=e=>(0,p.jsx)(ve.C,{isBorderless:e.isBorderless,children:(0,p.jsx)(ge.h,{author:e.author})}),Me=e=>{const t=(0,n.useRef)(null),{isBorderless:i=!1,showAvatar:r=!0,hasAvatar:o=!1,part:{author:s,body:a},isLastPart:l,isMobile:c,groupingPosition:d,showInlineMetadata:u,onImageClick:h,appName:m,lastAdminOrBotPart:g}=e,f=(0,x.EU)(a),v=(0,xe.I3)(e.part);var y;return(0,xe.MU)(e.part)?(0,p.jsx)(Pe,{part:e.part,isMobile:c,isSelf:null==s?void 0:s.isSelf,isBorderless:i,groupingPosition:d,showInlineFooter:u,appName:m,attribution:v,borderColors:null==(y=e.part.uxStyle)?void 0:y.borderColors,lastAdminOrBotPart:g}):(0,p.jsxs)(fe.w,{hasAvatar:o,isBorderless:i,isSingleBlock:f,isAdmin:null==s?void 0:s.isAdmin,isUser:null==s?void 0:s.isSelf,ref:t,children:[o&&r?(0,p.jsx)(ze,{isBorderless:!!i,author:e.part.author}):null,(0,p.jsx)(me,{isLastPart:l,part:e.part,isMobile:c,isBorderless:i,hasAvatar:o,showInlineMetadata:u,onImageClick:h}),v?(0,p.jsx)(_e,{attribution:v}):null]})}},88911:(e,t,i)=>{"use strict";i.d(t,{q:()=>h});var n=i(96540),r=i(29500),o=i(49651),s=i(65252),a=i(22973),l=i(90933),c=i(65318),d=i(68297),p=i(74848);const u=e=>{const{saveState:t,seenState:i,createdAt:n,showCreatedAt:s,author:d,saveFailureReason:p}=e,u=s?(0,r.iw)(n):null,h=(e=>"not-seen-yet"===e?(0,o.Tl)("message_unseen"):"seen"===e?(0,o.Tl)("message_seen"):"")(i);return null!=d&&d.isSelf||!s?"failed"===t?"file_size"===p?(0,o.Tl)("file_too_big",{limit:`${a.pS}`}):(0,l.mn)(p)?(0,o.Tl)("file_type_not_allowed"):(0,o.Tl)("failed_to_send"):"saved"===t&&null!=d&&d.isSelf&&u?`${u}. ${h}`:null:(0,c.vz)(e)?`${u}.`:`${(e=>e.isBot?`${(0,o.Tl)("bot")} · `:"")(d)}${u}.`},h=(0,n.forwardRef)((({part:e,inlineMetadata:t=!1},i)=>{const[r,o]=(0,n.useState)((()=>u(e))),a=(0,n.useCallback)((()=>{const t=u(e);o(t)}),[e]);return(0,d.A)(a,6e4),r?(0,p.jsx)(s.j,{ref:i,className:"intercom-conversation-part-metadata",inlineMetadata:t,isNonSelfAuthor:(l=e.author,(null==l?void 0:l.isAdmin)||(null==l?void 0:l.isBot)||!(null!=l&&l.isSelf)),children:(0,p.jsx)(s.J,{className:"intercom-conversation-part-metadata-save-state",children:r})}):null;var l}))},96875:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(96540),r=i(79986),o=i(52555),s=i(23043),a=i(74848);function l(e){const{replyOption:t,onSelect:i,focused:n,style:r,isTypeaheadSuggestion:o,isBorderless:l,useNewConversationalUI:c=!1,buttonAlignment:d,isInline:p=!1}=e;return(0,a.jsx)(s.HF,{label:t.text,value:t,onClick:i,focused:n,isTypeaheadSuggestion:o,isBorderless:l,style:r,useNewConversationalUI:c,buttonAlignment:d,isInline:p})}const c=(0,n.forwardRef)((({maxWidth:e,useNewConversationalUI:t,isInline:i},n)=>(0,a.jsx)(s._r,{children:(0,a.jsx)(s.Or,{ref:n,children:(0,a.jsx)(s.HF,{tabIndex:"-1",style:{display:"none",maxWidth:e},useNewConversationalUI:t,isInline:i,onClick:()=>{}})})})));var d=i(39502),p=i(71982);const u=(e,t,i,n)=>{if(!n)return[0,0];const r=n.querySelector("button");if(!r)return[0,0];r.style.display="",r.textContent=e;const o=[r.offsetWidth+i,r.offsetHeight+t];return r.style.display="none",o},h=(e,t,i,n,r)=>{const o=(e||r)&&"left"===t,a=e||r?i-2*s.O6+"px":i-2*s.Mv+"px",l=r?6:e?s.rZ:s.wT,c=r?6:e?s.Vj:s.wT,d=o?((e,t,i,n)=>{const r=[];let o=0,s=0;return a=>{const[l,c]=u(a,t,i,n);if(s+l>e){const e=r.length>0?r[r.length-1][3]:0;o+=e,s=0}const d=[s,o,l,c];return r.push(d),s+=l,{bounds:d}}})(i,l,c,n.current):((e,t,i,n)=>{const r=[];let o=0;return s=>{const[a,l]=u(s,t,i,n),c=(r.filter((e=>e[1]===o))||[]).map((e=>e[2])).reduce(((e,t)=>e+t),0);if(a+c>e){const e=r.length>0?r[r.length-1][3]:0;o+=e}else r.forEach((e=>{e[1]===o&&(e[0]=e[0]-a)}));const d=[0,o,a,l];return r.push(d),{bounds:d}}})(i,l,c,n.current);return{maxWidth:a,getCurrentSuggestionBounds:d}},m=["bounds"];function g(e){var t;const{suggestions:i,onSelect:u,onHeightChange:g,isInboundBotSuggestions:x,isTypeaheadSuggestions:f,isBorderless:v,useNewConversationalUI:y=!1,isInline:b=!1,suggestionButtonsAlignment:w="right"}=e,j=(0,n.useRef)(),k=(null==(t=j.current)||null==(t=t.parentElement)?void 0:t.offsetWidth)||0,A=(0,r.GV)(p.l),{maxWidth:C,getCurrentSuggestionBounds:S}=h(y,w,k,j,b),T=(j.current?i:[]).map((e=>Object.assign({},e,S(e.text),{isInboundBotSuggestion:x,isTypeaheadSuggestion:f}))),_=T[T.length-1],E=_?_.bounds[1]+_.bounds[3]:0,N=`width-${k}`,B=(0,o.pn)(T,{from:({bounds:e})=>({bounds:e,opacity:0}),enter:({bounds:e})=>({bounds:e,opacity:1}),update:({bounds:e})=>({bounds:e}),leave:{opacity:.01},expired:{opacity:0},config:{mass:3,tension:1e3,friction:200},trail:25,immediate:!1,keys:e=>`${N}-${e.uuid}`}),I=(0,r.GV)(d.HQ);(0,n.useEffect)((()=>{E&&g&&(g(E),setTimeout((()=>g(E)),s.aV))}),[E,g,I,A]),function(e){const t=(0,n.useRef)(),[i,r]=(0,n.useState)(!1);(0,n.useEffect)((()=>(t.current=setTimeout((()=>r(!0)),e),()=>t.current&&clearTimeout(t.current))),[e])}(0);let R=null;const P=B(((e,t)=>{let{bounds:i}=e,n=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,m);return null===R&&(R=t),(0,a.jsx)(o.CS.div,{style:Object.assign({},n),children:(0,a.jsx)(l,{focused:!1,replyOption:t,onSelect:u,isTypeaheadSuggestion:t.isTypeaheadSuggestion||!1,isBorderless:v,useNewConversationalUI:y,isInline:b,buttonAlignment:w,style:{transform:i.to(((e,t)=>`translate3d(${e}px,${t}px,0)`)).get(),maxWidth:C}})})})),z=null!==R&&R.isInboundBotSuggestion;return(0,a.jsxs)(s.UC,{height:E,isInboundBot:z||!1,isInline:b,isExpanded:A,useNewConversationalUI:y,children:[(0,a.jsx)(c,{ref:j,maxWidth:C,isInline:b,useNewConversationalUI:y}),P]})}},99459:(e,t,i)=>{"use strict";i.d(t,{A:()=>ErrorBoundary});var n=i(96540),r=i(86923),o=i(13194),s=i(74848);const a=(0,r.Ay)("div",{target:"e16gamoo0"})("font-size:13px;color:",(0,r.w4)("textMuted"),";padding:0 20px;text-align:",(0,r.xk)("align"),";");class ErrorBoundary extends n.Component{constructor(...e){super(...e),this.state={hasError:!1}}componentDidCatch(e){this.setState({hasError:!0}),(0,o.l2)(e)}render(){const{errorText:e,align:t,children:i,style:n}=this.props,{hasError:r}=this.state;return r?(0,s.jsx)(a,{align:t,style:n||{},children:e}):i}}},32264:(e,t,i)=>{"use strict";i.d(t,{M:()=>mt,A:()=>Message});var n=i(5556),r=i.n(n),o=i(96540),s=i(19386),a=i(79501),l=i(49651),c=i(1187),d=i(59548),p=i(27310),u=i(61376),h=i(86923),m=i(52271);const g=h.i7`
  0% {
    opacity: 0;
  }
  70% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,x=(0,h.Ay)("div",{target:"e1k2dwip6"})("position:relative;box-sizing:border-box;padding:17px 20px;margin-top:5px;width:100%;height:",(0,h.w4)("chatComposerHeightPx"),"px;background-color:",(0,h.w4)("inputAlt"),";border-radius:",(0,h.w4)("notificationBorderRadiusPx"),"px;border:none;font-size:14px;cursor:pointer;color:",(0,h.w4)("textMuted"),";box-shadow:0 1px 6px ",(0,h.w4)("elevation1"),",0 2px 32px ",(0,h.w4)("elevation2"),";animation:",g," 750ms ease;",(({theme:e,useBorderlessAvatarOffset:t})=>e.isLeftAlign&&t&&(0,h.AH)("margin-left:",-e.borderlessAvatarOffsetWidthPx,"px;width:calc(100% + ",e.borderlessAvatarOffsetWidthPx,"px);")),";"),f=(0,h.Ay)("span",{target:"e1k2dwip5"})({name:"1nf0os9",styles:"display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:140px;line-height:18px"}),v=(0,h.Ay)("div",{target:"e1k2dwip4"})({name:"16822n",styles:"position:absolute;top:0;right:18px"}),y={name:"pctu5d",styles:"position:relative;float:left;display:inline-block;cursor:pointer;opacity:0.8;transition:opacity 200ms ease;height:51px;margin-top:2px;&:hover{opacity:1;}&:before{position:absolute;top:20px;background-position:center;}svg{position:absolute;top:18px;}"},b=(0,h.Ay)("span",{target:"e1k2dwip3"})(y,";width:",18,"px;padding-left:",9,"px;padding-right:",9,"px;svg{height:18px;width:18px;}svg path{fill:",(0,h.w4)("iconMuted"),";}&:before{top:18px;}"),w=(0,h.Ay)(m.OO,{target:"e1k2dwip2"})({name:"1qikfe3",styles:"right:18px"}),j=(0,h.Ay)(m.lT,{target:"e1k2dwip1"})({name:"1yphczb",styles:"&:before{top:18px;}"}),k=(0,h.Ay)(m.cC,{target:"e1k2dwip0"})({name:"1yphczb",styles:"&:before{top:18px;}"});var A=i(74848);class MobileChat extends o.Component{constructor(...e){super(...e),this.handleDismissClick=e=>{e.stopPropagation(),this.props.onClose()}}renderComposer(){var e;return(0,A.jsxs)(x,{useBorderlessAvatarOffset:!0,children:[(0,A.jsx)(f,{className:"chat-composer-placeholder",children:(0,l.Tl)("reply_to_name",{name:null==(e=this.props.part.author)?void 0:e.firstName})}),(0,A.jsxs)(w,{children:[(0,A.jsx)(j,{children:(0,A.jsx)(p.A,{})}),(0,A.jsx)(k,{children:(0,A.jsx)(d.A,{})})]})]})}renderAttributeCollectorCard(){const{part:e,frameWindow:t}=this.props;return(0,A.jsx)(a.Ay,{part:e,hasAvatar:!1,isBorderless:!0,isReplyType:!0,frameWindow:t},(0,c.A)(JSON.stringify(e)))}renderDismissButton(){return(0,A.jsx)(u.R,{onClick:this.handleDismissClick,"aria-label":(0,l.Tl)("clear"),children:(0,A.jsx)("span",{children:(0,l.Tl)("clear")})})}renderReplyType(){const{part:e}=this.props;return"attribute_collector"===e.replyType?this.renderAttributeCollectorCard():this.renderComposer()}renderChatCardGroup(){const{appName:e,part:t,frameWindow:i}=this.props;return(0,A.jsx)(s.A,{appName:e,part:t,isBorderless:!0,isMobile:!0,frameWindow:i})}render(){const{composerState:e,onComposerOrFormInputClick:t}=this.props;return(0,A.jsxs)(u.C,{className:"intercom-chat",onClick:t,children:[this.renderChatCardGroup(),this.renderDismissButton(),e.visible&&this.renderReplyType()]})}}var C=i(96808),S=i(18875),T=i(72977);var _={name:"1omvuzb",styles:"left:0;right:auto"};const E=(0,h.Ay)(S.Ay,{target:"ewqoaci0"})("z-index:",(0,T.fE)(),";position:fixed;max-width:360px;width:calc(100% - 25px);right:0;",(({height:e})=>(0,h.AH)("bottom:0;height:",e+20,"px;"))," ",(({theme:e})=>e.isLeftAlign&&_)," ",(({theme:e,height:t})=>e.isLauncherEnabled&&(0,h.AH)("height:",t+e.launcherOffsetBottomPaddingPx+20,"px;")),";");var N=i(24627);function B(e){const{appName:t,part:i,onClose:n,onComposerOrFormInputClick:r,composerState:s}=e,[a,c]=(0,o.useState)(0),d=({height:e})=>c(e);return(0,A.jsx)(E,{frameName:"intercom-chat-frame",height:a,title:`Intercom live chat ${(0,l.Tl)("message")}`,children:e=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(C.A,{onChange:d,children:(0,A.jsx)(MobileChat,{appName:t,part:i,onClose:n,composerState:s,onComposerOrFormInputClick:r,frameWindow:e})}),(0,A.jsx)(N.A,{appWindow:e})]})})}var I=i(60077),R=i(26731),P=i(99410),z=i(63156),M=i(8375),O=i(34913),H=i(69830),D=i(62377),L=i(79630),V=i(86073);class Note extends o.Component{constructor(...e){super(...e),this.state={isFooterVisible:!0,isScrolled:!1},this.handleScroll=e=>{const{isFooterVisible:t}=this.state,i=(0,M.TV)(e.target);this.setState({isFooterVisible:t||i<=this.getFooterHeight(),isScrolled:e.target.scrollTop>0}),(0,L.Xr)(e)},this.handleScrollable=e=>{const t=e.scrollHeight-e.clientHeight,i=this.state.isFooterVisible||void 0===this.props.reactionsReply||t<=this.getReactionsVisibilityThreshold();this.setState({isFooterVisible:i})},this.addClickedComposerMetric=()=>{const{message:{id:e},conversationId:t}=this.props;(0,H.A5)("clicked","composer","in_app","from_full",{message_type:"note",message_id:e,conversation_id:t})},this.handleComposerClick=()=>{this.addClickedComposerMetric(),this.props.onComposerClick()}}getReactionsVisibilityThreshold(){return this.getFooterHeight()+20}getFooterHeight(){return this.footer?this.footer.clientHeight:0}renderFooter(){const{composerVisible:e,showUploadButton:t,showGifButton:i,showReplyToButton:n}=this.props;return e?n?(0,A.jsx)(O.A,{onClick:this.handleComposerClick}):(0,A.jsxs)(D.hV,{className:"intercom-note-composer",onClick:this.handleComposerClick,"aria-label":(0,l.Tl)("open_conversation_and_reply"),children:[(0,A.jsx)(m.cT,{children:(0,l.Tl)("reply_to_conversation")}),(0,A.jsxs)(m.OO,{children:[i?(0,A.jsx)(m.$C,{"data-testid":"note-composer-gif-icon",children:(0,A.jsx)(V.In,{type:"ComposerGif",size:16})}):null,(0,A.jsx)(m.lT,{"data-testid":"note-composer-emoji-icon",children:(0,A.jsx)(V.In,{type:"ComposerEmoji",size:16})}),t?(0,A.jsx)(m.cC,{"data-testid":"note-composer-upload-icon",children:(0,A.jsx)(V.In,{type:"ComposerAttachment",size:16,color:"iconMuted"})}):null]})]}):null}renderReactionPicker(){const{reactionsReply:e,onReactionSelect:t}=this.props;return(0,A.jsx)(z.A,Object.assign({},e,{onReactionSelect:t}))}render(){const{appName:e,message:t,reactionsReply:i,onClose:n,frameWindow:r,showReplyToButton:o,composerVisible:s}=this.props,{isScrolled:a,isFooterVisible:c}=this.state,{author:d,lastActiveAt:p,body:u}=t;return(0,A.jsx)(D.Ol,{className:"intercom-note",isScrolled:a,children:(0,A.jsxs)(P.A,{appName:e,isReplyStyle:!1,author:d,lastActiveAt:p,children:[(0,A.jsx)(D.R1,{className:"intercom-anchor",onClick:n,"aria-label":(0,l.Tl)("close"),children:" "}),(0,A.jsx)(D.Zo,{showReplyToButton:o,children:(0,A.jsxs)(I.A,{onScroll:this.handleScroll,onScrollable:this.handleScrollable,children:[(0,A.jsx)(R.A,{blocks:u,zoomable:!0,frameWindow:r}),s&&(0,A.jsx)(D.ln,{})]})}),(0,A.jsx)(D.kg,{ref:e=>this.footer=e,isFooterVisible:c,showReplyToButton:o,"data-testid":"note-footer",children:i?this.renderReactionPicker():this.renderFooter()})]})})}}Note.propTypes={appName:r().string.isRequired,message:r().shape({id:r().string.isRequired,author:r().object.isRequired,body:r().array.isRequired,lastActiveAt:r().instanceOf(Date)}).isRequired,conversationId:r().string,reactionsReply:r().shape({reactionIndex:r().number,reactionSet:r().array.isRequired}),onClose:r().func,onComposerClick:r().func,onReactionSelect:r().func,frameWindow:r().object,showUploadButton:r().bool,showGifButton:r().bool,showReplyToButton:r().bool,composerVisible:r().bool},Note.defaultProps={showUploadButton:!0,showGifButton:!0};var F={name:"11fl7s3",styles:"right:0;left:0;margin:0 auto"};const q=(0,h.Ay)(S.Ay,{target:"e12tcwm10"})("position:fixed;bottom:",(0,T.zT)(),"px;right:",(0,h.w4)("horizontalPaddingPx"),"px;width:342px;z-index:",(0,T.fE)(1),";box-shadow:",(0,h.w4)("shadowXLarge"),";",(({theme:e})=>e.isLeftAlign&&(0,h.AH)("left:",e.horizontalPaddingPx,"px;right:auto;")),(({theme:e})=>e.isMobileSize&&F),";");class NoteFrame extends o.Component{constructor(...e){super(...e),this.state={height:0},this.handleHeightChange=({height:e})=>{this.setState({height:e})}}render(){const{conversationId:e,composerVisible:t,appName:i,message:n,reactionsReply:r,showUploadButton:o,showGifButton:s,onComposerClick:a,onReactionSelect:c,showReplyToButton:d,onClose:p}=this.props,{height:u}=this.state;return(0,A.jsx)(q,{style:{height:u},frameName:"intercom-note-frame",title:`Intercom live chat ${(0,l.Tl)("message")}`,children:l=>(0,A.jsxs)("span",{children:[(0,A.jsx)(C.A,{id:"note-frame",onChange:this.handleHeightChange,children:(0,A.jsx)(Note,{frameWindow:l,conversationId:e,composerVisible:t,appName:i,message:n,reactionsReply:r,showUploadButton:o,showGifButton:s,onClose:p,onComposerClick:a,onReactionSelect:c,showReplyToButton:d})},"note-frame"),(0,A.jsx)(N.A,{appWindow:l})]})})}}var G=i(62750),U=i(32490);class Pointer extends o.Component{constructor(...e){super(...e),this.node=void 0,this.state={isFooterVisible:!0,isScrolled:!1},this.footer=void 0,this.handleScroll=e=>{const{isFooterVisible:t}=this.state,i=(0,M.TV)(e.target);this.setState({isFooterVisible:t||i<=this.getFooterHeight(),isScrolled:e.target.scrollTop>0})},this.handleScrollable=e=>{const t=e.scrollHeight-e.clientHeight,i=this.state.isFooterVisible||void 0===this.props.reactionsReply||t<=this.getReactionsVisibilityThreshold();this.setState({isFooterVisible:i})},this.isReplyDisabled=()=>{const{replyType:e}=this.props.message;return"disabled"===e},this.addClickedComposerMetric=()=>{const{message:{id:e},conversationId:t}=this.props;(0,H.A5)("clicked","composer","in_app","from_full",{message_type:"pointer",message_id:e,conversation_id:t})},this.handleComposerClick=()=>{this.addClickedComposerMetric(),this.props.onComposerClick()}}getReactionsVisibilityThreshold(){return this.getFooterHeight()+20}getFooterHeight(){return this.footer?this.footer.clientHeight:0}renderFooter(e){return this.isReplyDisabled()?null:(0,A.jsx)(U.mL,{ref:e=>this.footer=e,isFooterVisible:this.state.isFooterVisible,children:e?this.renderReactionPicker():this.renderChatComposer()})}renderChatComposer(){return(0,A.jsxs)(U.hR,{className:"intercom-pointer-composer",onClick:this.handleComposerClick,children:[(0,A.jsx)("span",{children:(0,A.jsx)(G.A,{})}),(0,A.jsx)(m.cT,{children:(0,l.Tl)("start_a_conversation")})]})}renderReactionPicker(){const{reactionsReply:e,onReactionSelect:t}=this.props;return(0,A.jsx)(z.A,Object.assign({},e,{onReactionSelect:t}))}render(){const{appName:e,message:t,reactionsReply:i,onClose:n,frameWindow:r}=this.props,{author:o,lastActiveAt:s,body:a}=t;return(0,A.jsx)(U.d,{isInbox:!1,isScrolled:this.state.isScrolled,ref:e=>this.node=e,className:"intercom-pointer",children:(0,A.jsxs)(P.A,{appName:e,isReplyStyle:!1,author:o,lastActiveAt:s,forceShowAppName:!0,children:[(0,A.jsx)(U.Jg,{onClick:n,"aria-label":(0,l.Tl)("close"),children:" "}),(0,A.jsx)(U.Pj,{intercomRepliesDisabled:this.isReplyDisabled(),children:(0,A.jsx)(I.A,{onScroll:this.handleScroll,onScrollable:this.handleScrollable,children:(0,A.jsx)(R.A,{blocks:a,zoomable:!0,frameWindow:r})})}),this.renderFooter(i)]})})}}var $=i(37089);const W=(0,h.Ay)(S.Ay,{target:"e1gikcy0"})("z-index:",(0,T.fE)(1),";border-radius:5px;box-shadow:0 3px 32px 0 ",(0,h.w4)("elevation2"),";border:1px solid ",(0,h.w4)("alphaBlack10"),";");class PointerFrame extends o.PureComponent{constructor(...e){super(...e),this.state={width:0,height:0},this.handleDimensionFrameSize=({height:e,width:t})=>{this.setState({width:t,height:e})}}frameStyles(){const{width:e,height:t}=this.state;return{width:e,height:t,opacity:1}}render(){const{appName:e,appWindow:t,message:i,conversationId:n,onClose:r,reactionsReply:o,onComposerClick:s,onReactionSelect:a}=this.props;return(0,A.jsx)($.A,{appWindow:t,targetSelector:i.pointerSelector,childDimensions:this.frameStyles(),placement:0,buttonColor:null,children:(0,A.jsx)(W,{style:this.frameStyles(),frameName:"intercom-pointer-frame",title:`Intercom live chat ${(0,l.Tl)("pointer")}`,children:()=>(0,A.jsx)(C.A,{id:"pointer-frame",onChange:this.handleDimensionFrameSize,children:(0,A.jsx)(Pointer,{appName:e,message:i,conversationId:n,reactionsReply:o,frameWindow:t,onComposerClick:s,onReactionSelect:a,onClose:r})},"pointer-frame")})})}}var K=i(65772),Y=i(183),X=i(5888),J=i(64189),Z=i(16103);var Q={name:"siiwv4",styles:"&:hover .story-dismiss-button{opacity:1;}"};const ee=(0,h.Ay)("div",{target:"eprcjzc4"})("z-index:",(0,T.fE)(1),";font-size:13px;font-family:",(0,h.w4)("fontSansSerif"),";color:",(0,h.w4)("textDefault"),";position:relative;",(({theme:e,standalone:t})=>t&&(0,h.AH)("position:fixed;bottom:",e.verticalPaddingPx,"px;right:",e.horizontalPaddingPx,"px;"))," ",(({isVideoLoaded:e})=>e&&Q)," ",(({theme:e})=>e.isLauncherEnabled&&(0,h.AH)("bottom:",e.verticalPaddingPx+e.launcherOffsetBottomPaddingPx,"px;")),";");var te={name:"177za0l",styles:"width:240px;height:180px;margin-left:10px"},ie={name:"1jjwe7g",styles:"margin-top:42px"},ne={name:"sak0bp",styles:"margin-top:54px"};const re=(0,h.Ay)("div",{target:"eprcjzc3"})("position:relative;overflow:hidden;box-shadow:0px 2px 16px ",(0,h.w4)("elevation2"),",0px 1px 6px ",(0,h.w4)("elevation1"),";border-radius:5px;transition:transform 150ms ease,width 200ms ease,height 200ms ease,margin 200ms;transform-origin:bottom right;width:340px;height:255px;",(({standalone:e})=>e&&ne)," ",(({standalone:e,isExpanded:t})=>e&&t&&ie)," ",(({theme:e})=>e.isMobileSize&&te),";"),oe=(0,h.Ay)("div",{target:"eprcjzc2"})("position:absolute;top:0;/* @noflip */right:0;display:block;opacity:0;transition:opacity 150ms ease;span{display:block;background-color:",(0,h.w4)("iconDefault"),";opacity:0.8;color:",(0,h.w4)("textOnInverse"),";font-size:13px;height:32px;line-height:32px;padding:0 16px 0 16px;border-radius:16px;cursor:pointer;background-position:center;",(0,T.op)(J,Z,"8px","8px"),";&:hover{opacity:1;}}"),se=(0,h.Ay)("div",{target:"eprcjzc1"})("position:absolute;width:100%;z-index:",(0,T.fE)(1),";top:0;left:0;right:0;bottom:0;cursor:pointer;"),ae=(0,h.Ay)("div",{target:"eprcjzc0"})({name:"maq7xh",styles:".chat-composer{margin-top:10px;}&.video-composer-enter{.chat-composer{display:block;height:0;opacity:0;overflow:hidden;padding-top:0;padding-bottom:0;margin-top:0;}.composer-placeholder,.composer-buttons{opacity:0;transition:opacity 200ms ease;transition-delay:200ms;}}&.video-composer-enter-active{.chat-composer{opacity:1;height:52px;padding-top:17px;padding-bottom:17px;transition-property:height,opacity,padding,margin;transition-duration:200ms;transition-timing-function:ease;margin-top:10px;}.composer-placeholder,.composer-buttons{opacity:1;}}"});var le=i(51165);class Story extends o.Component{constructor(...e){super(...e),this.video=void 0,this.ref=(0,o.createRef)(),this.state={isExpanded:!1,isVideoLoaded:!1},this.handleOverlayClick=()=>{this.state.isVideoLoaded&&this.setState({isExpanded:!0})},this.handleVideoLoaded=()=>{this.setState({isVideoLoaded:!0})}}renderDismissButton(){return this.props.standalone?(0,A.jsx)(oe,{className:"story-dismiss-button",onClick:this.props.onClose,"data-testid":"story-dismiss-button",children:(0,A.jsx)("span",{})}):null}renderOverlay(){return this.state.isExpanded?null:(0,A.jsx)(se,{className:"story-overlay",onClick:this.handleOverlayClick,"data-testid":"story-overlay"})}renderComposer(){var e;const{part:t,onComposerOrFormInputClick:i}=this.props;return(0,A.jsx)(Y.B1,{classNames:"video-composer",timeout:{enter:400,exit:400},nodeRef:this.ref,children:(0,A.jsx)(ae,{ref:this.ref,children:(0,A.jsxs)(x,{className:"chat-composer",onClick:i,"aria-label":(0,l.Tl)("open_conversation_and_reply"),useBorderlessAvatarOffset:!1,children:[(0,A.jsx)(f,{className:"composer-placeholder",children:(0,l.Tl)("reply_to_name",{name:null==(e=t.author)?void 0:e.firstName})}),(0,A.jsxs)(v,{className:"composer-buttons",children:[(0,A.jsx)(b,{children:(0,A.jsx)(p.A,{})}),(0,A.jsx)(b,{children:(0,A.jsx)(d.A,{})})]})]})})})}renderSuggestions(){const{onSuggestionClicked:e,setComposerSuggestionsDismissed:t,conversationSuggestions:i,conversation:n}=this.props;return(0,A.jsx)(le.A,{conversation:n,conversationSuggestions:i,setComposerSuggestionsDismissed:t,onClick:e})}renderResponseArea(){return this.state.isExpanded&&this.props.showResponseArea?this.props.conversationSuggestions?this.renderSuggestions():this.renderComposer():null}render(){const{part:{body:e},autoPlay:t,standalone:i}=this.props,{isExpanded:n,isVideoLoaded:r}=this.state,{url:o,captions:s,thumbnailUrl:a}=e[0];return(0,A.jsxs)(ee,{standalone:i,isVideoLoaded:r,children:[this.renderDismissButton(),(0,A.jsxs)(re,{standalone:i,isExpanded:n,children:[this.renderOverlay(),(0,A.jsx)(X.A,{srcUrl:o,autoPlay:t,onVideoLoaded:this.handleVideoLoaded,captions:s,thumbnailUrl:a})]}),(0,A.jsx)(Y.F,{children:this.renderResponseArea()})]})}}Story.defaultProps={standalone:!1,onClose:()=>{},showResponseArea:!0,autoPlay:!1};const ce=(0,h.Ay)(S.Ay,{target:"edfbr0t0"})("z-index:",(0,T.fE)(),";position:fixed;right:0;bottom:0;width:100vw;height:100vh;");function de(e){const{conversation:t,standalone:i,part:n,onClose:r,onComposerOrFormInputClick:o,conversationSuggestions:s,onSuggestionClicked:a,setComposerSuggestionsDismissed:l}=e;return(0,A.jsx)(ce,{frameName:"intercom-story-frame",children:e=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Story,{conversation:t,standalone:i,part:n,onClose:r,onComposerOrFormInputClick:o,conversationSuggestions:s,onSuggestionClicked:a,setComposerSuggestionsDismissed:l}),(0,A.jsx)(N.A,{appWindow:e})]})})}var pe=i(71468),ue=i(42910),he=i(56449),me=i.n(he),ge=i(77047),xe=i(90933),fe=i(29853);const ve=(0,h.Ay)("div",{target:"e1cp8yhr0"})("padding-top:0;/* @noflip */padding-left:0;",fe.A.className,"{padding:0;}");var ye=i(47505),be=i(36215),we=i(79986),je=i(81323),ke=i(47335);const Ae=({conversation:e,handleComposerResize:t,onHide:i,onClick:n})=>{var r;const s=(0,o.useRef)(null),a=(0,o.useCallback)((()=>s.current?s.current.clientHeight:0),[]),c=(0,o.useCallback)((()=>{t(a())}),[t,a]),d=(0,o.useCallback)((()=>{i()}),[i]);(0,o.useEffect)((()=>{(0,xe.zN)(e)?c():d()}),[e,c,d]);const p=(null==e?void 0:e.defaultMessage)||be.A.loadDraft((null==e?void 0:e.id)||"new-conversation")||"",u=(0,we.GV)(je.ed),h=null!=e&&e.uxStyle?"bot"===e.uxStyle:u,m=(0,ke.A)("disableFinImageReading"),g=h&&m;return(0,xe.zN)(e)?(0,A.jsx)(ve,{ref:s,onClick:n,children:(0,A.jsx)(ye.K,{initialValue:null==e?void 0:e.defaultMessage,draftKey:null==e?void 0:e.id,composerContent:p,placeholder:(null==e||null==(r=e.composerState)?void 0:r.placeholder)||(0,l.Tl)("message_placeholder"),autoFocus:!1,disabled:!1,forceShowSubmitButton:g,allowedActions:{emojis:!0,gifs:!0,uploads:{allowMultipleUploads:!0,allowedAttachmentExtensions:""}},onSubmit:()=>{},onChange:()=>{},onTyping:()=>{}})}):null};var Ce=i(86629),Se=i(64653);var Te={name:"1wcfv52",styles:"margin-right:0"},_e={name:"1qmr6ab",styles:"overflow:auto"};const Ee=(0,h.Ay)("div",{target:"emfaaq11"})("overflow-anchor:none;padding-right:10px;margin-right:-10px;max-height:100%;padding-top:22px;box-sizing:border-box;",(({enabledScroll:e})=>e&&_e)," ",(({enabledScroll:e,visibleScrollbars:t})=>e&&t&&Te),";"),Ne=(0,h.Ay)("div",{target:"emfaaq10"})({name:"18g08sj",styles:"padding-bottom:0"});var Be=i(70745);class BorderlessConversationBody extends o.Component{constructor(...e){super(...e),this.isPartBeingAddedTimeout=void 0,this.firstRenderTimeout=void 0,this.borderlessBodyNode=void 0,this.visibleScrollbarsInOs=0!==(0,Se.X)(),this.state={isPartBeingAdded:!1,bottomScrollOffset:0,frameOffsetTop:this.props.frameNode.offsetTop,adminWasTyping:!1},this.recalculateOffsets=()=>{this.setState({frameOffsetTop:this.props.frameNode.offsetTop},(()=>(0,M.cs)(this.borderlessBodyNode)))},this.handleScroll=e=>{this.state.isPartBeingAdded||(this.setState({bottomScrollOffset:(0,M.cf)(this.borderlessBodyNode)}),(0,L.Xr)(e))}}componentDidMount(){(0,Be.eA)(this.recalculateOffsets),this.firstRenderTimeout=setTimeout((()=>{(0,M.cs)(this.borderlessBodyNode)}),300)}componentDidUpdate(e){const{frameOffsetTop:t}=this.state,{conversation:i,frameNode:n}=this.props,{conversation:r}=e,o=i.parts.length!==r.parts.length,s=(0,Ce.nR)(i);(o||s&&!this.state.adminWasTyping)&&((0,M.cs)(this.borderlessBodyNode),this.setState({isPartBeingAdded:!0,bottomScrollOffset:0}),clearTimeout(this.isPartBeingAddedTimeout),this.isPartBeingAddedTimeout=setTimeout((()=>{this.setState({isPartBeingAdded:!1}),(0,M.cs)(this.borderlessBodyNode)}),300)),n.offsetTop!==t&&this.setState({frameOffsetTop:n.offsetTop},(()=>{this.setState({bottomScrollOffset:(0,M.cf)(this.borderlessBodyNode)})})),s!==this.state.adminWasTyping&&this.setState({adminWasTyping:s})}componentWillUnmount(){clearTimeout(this.isPartBeingAddedTimeout),clearTimeout(this.firstRenderTimeout),(0,Be.Jz)(this.recalculateOffsets)}getStyle(){const{borderlessNode:e,composerHeight:t}=this.props,i=e&&e.clientHeight,{frameOffsetTop:n}=this.state;if(!i||n)return;const r=i/100,o=100-10/r,s=`linear-gradient(to bottom, rgb(0, 0, 0), rgb(0, 0, 0) ${100-76/r}%, rgba(0, 0, 0, ${Math.max(1-this.state.bottomScrollOffset/100*5,0)}) ${o}%)`;return{maxHeight:`${i-t-20+10}px`,WebkitMaskImage:s,MaskImage:s}}render(){const e=0===this.state.frameOffsetTop;return(0,A.jsx)(Ee,{style:this.getStyle(),ref:e=>this.borderlessBodyNode=e,onScroll:this.handleScroll,enabledScroll:e,visibleScrollbars:this.visibleScrollbarsInOs,children:this.props.children()})}}var Ie=i(719),Re=i(31837),Pe=i(99459),ze=i(32764),Me=i(66501),Oe=i(58708);const He=h.i7`
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,De={name:"13bf33e",styles:"opacity:1;transform:translateY(0)"},Le=({theme:e})=>(0,h.AH)("transform:translateY(4px);opacity:0;transition:all 120ms ease-out 80ms;span{display:block;background-color:",e.containerBorderless,";color:",e.textOnInverse,";font-size:13px;height:32px;line-height:32px;padding:0 8px;border-radius:16px;cursor:pointer;background-position:center;&:hover{background-color:darken(",e.containerBorderless,", 5%);}}",Fe.className,":hover &{",De,";}");var Ve={name:"1bzcfq8",styles:"& textarea{cursor:pointer!important;}"};const Fe=(0,h.Ay)("div",{target:"e13xul2n5"})("z-index:",(0,T.fE)(),";position:absolute;right:0;bottom:0;width:360px;outline-offset:-5px;max-height:100%;overflow:hidden;",(({theme:e,hasComposer:t})=>t&&(0,h.AH)("animation:",(({theme:e})=>h.i7`
  0% {
    transform: translateY(${e.borderlessComposerHeightPx}px);
  }
  20% {
    transform: translateY(${e.borderlessComposerHeightPx}px);
  }
  70% {
    transform: translateY(${e.borderlessComposerHeightPx}px);
  }
  100% {
    transform: translateY(0);
  }
`)({theme:e})," 750ms ease;"))," ",(({hasComposer:e})=>e&&Ve)," ",Oe.n9.className,",",ze.Xi.className,",",Me.t.className,"{position:absolute;bottom:21px;box-shadow:",(0,h.w4)("shadowMedium"),";border-radius:100%;}"),qe=(0,h.Ay)("div",{target:"e13xul2n4"})("position:absolute;right:0;bottom:0;width:",(0,h.w4)("borderlessConversationWidthPx"),"px;padding:10px;padding-top:0;animation:",He," 500ms ease;"),Ge=(0,h.Ay)("div",{target:"e13xul2n3"})("z-index:",(0,T.fE)(2),";position:absolute;top:0;right:0;width:",(0,h.w4)("borderlessConversationWidthPx"),"px;height:40px;padding:4px 0 0 0;"),Ue=(0,h.Ay)("div",{target:"e13xul2n2"})({name:"1yky0dw",styles:"padding-top:0;position:relative;/* @noflip */margin-left:45px;text-align:center"});var $e={name:"3ix1vd",styles:"opacity:1"};const We=(0,h.Ay)("div",{target:"e13xul2n1"})(Le," position:absolute;top:0;/* @noflip */right:0;span{padding-right:16px;padding-left:16px;",(0,T.op)(J,Z,"8px","8px"),";}",(({theme:e})=>e.tabNavigation&&$e),";");var Ke={name:"3ix1vd",styles:"opacity:1"};const Ye=(0,h.Ay)("div",{target:"e13xul2n0"})(Le," display:inline-block;span{padding:0 20px;}",(({theme:e})=>e.tabNavigation&&Ke),";");class BorderlessConversation extends o.Component{constructor(...e){super(...e),this.state={isEmojiPickerOpen:!1,isGifPickerOpen:!1,partsHeight:0,suggestionsHeight:0,composerHeight:0,replyToButtonHeight:0},this.handlePartsHeightChange=e=>{this.setState({partsHeight:e},this.handleHeightChange)},this.setSuggestionsHeight=e=>{this.setState({suggestionsHeight:e},this.handleHeightChange)},this.handleQuickRepliesHide=()=>{this.setState({suggestionsHeight:0},this.handleHeightChange)},this.handleComposerShow=e=>{this.setState({composerHeight:e},this.handleHeightChange)},this.handleComposerHide=()=>{this.setState({composerHeight:0},this.handleHeightChange)},this.handleReplyToButtonShow=e=>{this.setState({replyToButtonHeight:e},this.handleHeightChange)},this.handleClick=()=>{const{isEmojiPickerOpen:e,isGifPickerOpen:t}=this.state;e?this.setState({isEmojiPickerOpen:!1}):t&&this.setState({isGifPickerOpen:!1})},this.handleDismissClick=e=>{e.stopPropagation(),this.addCloseMetric(),this.props.onClose();const t=(0,Re.tW)();t&&t.focus()},this.handleEmojiPickerToggle=()=>{const e=!this.state.isEmojiPickerOpen;this.setState({isEmojiPickerOpen:e}),this.props.onPopoverToggle(e)},this.handleGifPickerToggle=()=>{const e=!this.state.isGifPickerOpen;this.setState({isGifPickerOpen:e}),this.props.onPopoverToggle(e)},this.handleViewMoreClick=()=>{this.addViewMoreMetric(),this.props.onViewMore()},this.handleHeightChange=()=>{this.props.onHeightChange(this.getHeight())}}componentDidMount(){this.props.onOpen(),this.focusTrap=new Ie.A({document:this.props.frameWindow.document})}componentDidUpdate(e){const{conversation:t}=this.props;"all"===t.fetchState&&(0,xe.cG)(t)>(0,xe.cG)(e.conversation)&&this.addReplyMetric(t)}componentWillUnmount(){this.focusTrap&&this.focusTrap.restore()}getHeight(){const{partsHeight:e,composerHeight:t,suggestionsHeight:i,replyToButtonHeight:n}=this.state;return 32+e+t+i+n+0}getStyle(){return{height:this.getHeight()}}hasComposer(){const{parts:e,composerState:t}=this.props.conversation;return me()(e)&&e[0]&&"attribute_collector"===e[0].replyType||t&&t.visible}shouldRenderHeader(){const{isEmojiPickerOpen:e,isGifPickerOpen:t}=this.state;return!(e||t)}addViewMoreMetric(){(0,H.A5)("clicked","viewmore_button","borderless","",{conversation_id:this.props.conversation.id})}addReplyMetric(){var e;const{conversation:t}=this.props,i=(0,xe.dF)(t),n=null==(e=i.body.filter((e=>"createTicketCard"===e.type))[0])?void 0:e.ticket_type_id;(0,H.A5)("received","reply","borderless","",{conversation_id:t.id,part_id:i.id,part_type:"adminReply",reply_type:i.replyType,ticket_type_id:n})}addCloseMetric(){(0,H.A5)("closed","borderless","borderless","from_close_button",{conversation_id:this.props.conversation.id})}renderHeader(){return(0,A.jsx)(Ge,{children:(0,A.jsxs)(Ue,{children:[this.renderViewMoreButton(),(0,A.jsx)(We,{onClick:this.handleDismissClick,"aria-label":(0,l.Tl)("dismiss"),children:(0,A.jsx)("span",{})})]})})}renderViewMoreButton(){return(0,A.jsx)(Ye,{onClick:this.handleViewMoreClick,children:(0,A.jsx)("span",{children:(0,l.Tl)("view_more")})})}renderParts(){const{appName:e,userRole:t,conversation:i,onArticleCardClick:n,onReactionSelect:r,onRetry:o,frameWindow:s,conversationSuggestions:a}=this.props,{isEmojiPickerOpen:l,isGifPickerOpen:c}=this.state;return(0,A.jsx)(C.A,{onHeightChange:this.handlePartsHeightChange,children:(0,A.jsx)(ge.A,{isBorderless:!0,isFaded:l||c,maxHeight:0,appName:e,userRole:t,conversation:i,frameWindow:s,onArticleCardClick:n,onReactionSelect:r,onRetry:o,conversationSuggestions:a})})}renderSuggestions(){const{onSuggestionClicked:e,setComposerSuggestionsDismissed:t,conversationSuggestions:i,conversation:n}=this.props,r={conversation:n,setComposerSuggestionsDismissed:t,onClick:e,isBorderless:!0};return(0,A.jsx)(C.A,{onHeightChange:this.setSuggestionsHeight,children:(0,A.jsx)("div",{children:(0,A.jsx)(Pe.A,{errorText:"Something went wrong loading the suggestions",align:"center",style:{marginBottom:"10px"},children:(0,A.jsx)(le.A,Object.assign({},r,{conversationSuggestions:i}))})})})}renderFooter(){const{isEmojiPickerOpen:e,isGifPickerOpen:t}=this.state,{showReplyToButton:i,onComposerClick:n,conversation:r,frameWindow:o}=this.props;return i&&(0,xe.zN)(this.props.conversation)?(0,A.jsx)(O.A,{isBorderless:!0,onShow:this.handleReplyToButtonShow,onClick:n}):(0,A.jsx)(Ae,{conversation:r,showEmojiPicker:e,showGifPicker:t,handleComposerResize:this.handleComposerShow,onHide:this.handleComposerHide,onEmojiPickerToggle:this.handleEmojiPickerToggle,onGifPickerToggle:this.handleGifPickerToggle,frameWindow:o,onClick:n})}render(){const{conversation:e,frameNode:t}=this.props,{composerHeight:i}=this.state;return(0,A.jsxs)(Fe,{className:"intercom-borderless",style:this.getStyle(),onClick:this.handleClick,tabIndex:"-1",role:"region","aria-label":(0,l.Tl)("intercom_messenger_feature_short_title"),ref:e=>this.borderlessNode=e,hasComposer:this.hasComposer(),children:[this.shouldRenderHeader()?this.renderHeader():null,(0,A.jsxs)(qe,{children:[(0,A.jsx)(BorderlessConversationBody,{conversation:e,composerHeight:i,borderlessNode:this.borderlessNode,frameNode:t,children:()=>(0,A.jsxs)(Ne,{children:[this.renderParts(),this.renderSuggestions()]})}),this.renderFooter()]}),(0,A.jsx)(N.A,{appWindow:this.props.frameWindow})]})}}BorderlessConversation.propTypes={conversation:r().shape({id:r().string.isRequired,userParticipated:r().bool.isRequired,fetchState:r().oneOf(["summary","partial","all"]),parts:r().arrayOf(r().shape({id:r().string,replyType:r().oneOf(["text","attribute_collector"])})).isRequired,composerState:r().shape({visible:r().bool.isRequired}).isRequired}),conversationSuggestions:r().shape({prompt:r().any,suggestions:r().arrayOf(r().shape({uuid:r().string.isRequired,text:r().string.isRequired,preAction:r().string}))}),onSuggestionClicked:r().func,setComposerSuggestionsDismissed:r().func,appName:r().string.isRequired,userRole:r().string.isRequired,alignment:r().string,onOpen:r().func.isRequired,onHeightChange:r().func.isRequired,onPopoverToggle:r().func.isRequired,onArticleCardClick:r().func.isRequired,onReactionSelect:r().func.isRequired,onRetry:r().func.isRequired,onViewMore:r().func.isRequired,onClose:r().func.isRequired,onComposerClick:r().func.isRequired,frameWindow:r().any.isRequired,showReplyToButton:r().bool,part:r().object,frameNode:r().object.isRequired};var Xe=i(94560),Je=i(57296),Ze=i(98099),Qe=i(1200),et=i(80607);var tt=i(71179);const it=(0,pe.Ng)(((e,t)=>{const{name:i}=e.app,{role:n}=e.user,{part:r,conversation:o}=t,{alignment:s}=(0,tt.b)(e),a=o.parts.filter((e=>e.createdAt>=r.createdAt));if(a[0]){let{messageType:e}=a[0];e=e||"adminReply",a[0]=Object.assign({},a[0],{messageType:e})}return{appName:i,userRole:n,conversation:Object.assign({},o,{parts:a}),alignment:s}}),(e=>({onOpen:t=>{e(function(e){return(t,i)=>{(0,Ze.VN)(i(),e).userParticipated?t((0,Qe.QL)(ue.Ay,e,{requestOrigin:"Open Borderless Conversation - User Participated"})).then((()=>{t({type:et.hEo,conversationId:e})})):t({type:et.hEo,conversationId:e})}}(t))},onRetry:(t,i)=>{e((0,Qe.sD)(ue.Ay,t,i))},onReactionSelect:(t,i)=>{e((0,Qe.yf)(ue.Ay,t,i,!1))},onArticleCardClick:(t,i)=>e((0,Je.Y0)(t,i,!1)),onViewMore:t=>{e((0,Xe.i6)(t))}})),((e,t,i)=>{const{conversation:n}=e,{id:r}=n,o={onOpen:()=>{t.onOpen(r)},onReactionSelect:e=>{t.onReactionSelect(r,e)},onRetry:e=>{t.onRetry(n,e)},onViewMore:()=>{t.onViewMore(r)},onClose:()=>{i.onClose()}};return Object.assign({},t,i,e,o)}))(BorderlessConversation);var nt={name:"1vhzcmv",styles:"min-height:350px"};const rt=(0,h.Ay)(S.Ay,{target:"e1dl9bzv0"})("z-index:",(0,T.fE)(),";position:fixed;width:360px;color-scheme:none;",(({theme:e})=>(0,h.AH)("bottom:",e.verticalPaddingPx-e.borderlessIframePaddingPx,"px;right:",e.horizontalPaddingPx-e.borderlessIframePaddingPx,"px;max-height:calc(100% - ",e.verticalPaddingPx-e.borderlessIframePaddingPx,"px);"))," ",(({isPopoverOpen:e})=>e&&nt)," ",(({theme:e})=>e.isLeftAlign&&(0,h.AH)("left:",e.borderlessIframePaddingPx+e.horizontalPaddingPx-e.borderlessIframePaddingLeftPx+e.borderlessAvatarOffsetWidthPx,"px;right:auto;"))," ",(({theme:e})=>e.isLauncherEnabled&&(0,h.AH)("bottom:",e.verticalPaddingPx+e.launcherOffsetBottomPaddingPx-e.borderlessIframePaddingPx,"px;max-height:calc(\n        100% -\n          ",e.verticalPaddingPx+e.launcherOffsetBottomPaddingPx-e.borderlessIframePaddingPx,"px\n      );")),";");class BorderlessFrame extends o.Component{constructor(...e){super(...e),this.state={height:0,isPopoverOpen:!1},this.handleHeightChange=e=>{this.setState({height:e})},this.handlePopoverToggle=e=>{this.setState({isPopoverOpen:e})}}render(){const{conversation:e,part:t,onClose:i,onComposerClick:n,showReplyToButton:r,conversationSuggestions:o,onSuggestionClicked:s,setComposerSuggestionsDismissed:a}=this.props,{isPopoverOpen:c,height:d}=this.state;return(0,A.jsx)(rt,{style:{height:d},className:"intercom-borderless-frame",frameName:"intercom-borderless-frame",title:`Intercom live chat ${(0,l.Tl)("message")}`,isPopoverOpen:c,children:(l,c)=>(0,A.jsx)(it,{conversation:e,conversationSuggestions:o,onSuggestionClicked:s,setComposerSuggestionsDismissed:a,part:t,frameWindow:l,onClose:i,onHeightChange:this.handleHeightChange,onPopoverToggle:this.handlePopoverToggle,onComposerClick:n,showReplyToButton:r,frameNode:c})})}}BorderlessFrame.propTypes={conversation:r().object.isRequired,conversationSuggestions:r().shape({prompt:r().any,suggestions:r().arrayOf(r().shape({uuid:r().string.isRequired,text:r().string.isRequired,preAction:r().string}))}),onSuggestionClicked:r().func,setComposerSuggestionsDismissed:r().func,part:r().object.isRequired,onClose:r().func.isRequired,onComposerClick:r().func,showReplyToButton:r().bool};var ot=i(68266);const st=(0,h.Ay)(S.Ay,{target:"edk9cor2"})("position:fixed;z-index:",(0,T.fE)(),";",(({theme:e})=>(0,h.AH)("bottom:",(0,T.r9)({theme:e})-ot.v3,"px;right:",e.horizontalPaddingPx-ot.Dq,"px;"))," ",(({height:e})=>(0,h.AH)("height:",e+5,"px;"))," ",(({theme:e})=>e.isLeftAlign&&(0,h.AH)("left:",e.horizontalPaddingPx-ot.Dq,"px;right:auto;")),";");var at={name:"3ix1vd",styles:"opacity:1"},lt={name:"3ix1vd",styles:"opacity:1"};const ct=(0,h.Ay)("button",{target:"edk9cor1"})("background-color:",(0,h.w4)("containerBorderless"),";color:",(0,h.w4)("textOnInverse"),";font-size:13px;/* @noflip */float:right;padding:8px 20px;opacity:0;border-radius:100px;margin-top:10px;transition:opacity 200ms;",(({isVisible:e})=>e&&lt)," ",(({theme:e})=>e.tabNavigation&&at),";"),dt=(0,h.Ay)("span",{target:"edk9cor0"})((0,T.op)(J,Z,"8px","8px")," width:8px;height:8px;display:inline-block;margin-left:8px;");var pt=i(67827);const ut=({conversation:e,appName:t,handleOnClick:i,onDismiss:n,conversationSuggestions:r,onSuggestionClicked:s,setComposerSuggestionsDismissed:a})=>{const[c,d]=(0,o.useState)(!1);return(0,A.jsxs)(ot.jS,{position:0,expanded:!1,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,A.jsxs)(ct,{isVisible:c,onClick:n,children:[(0,l.Tl)("clear"),(0,A.jsx)(dt,{})]}),(0,A.jsx)(pt.A,{conversation:e,appName:t,onClick:i,stack:!1,forcePlainStyle:!0,horizontal:!0}),r&&(0,A.jsx)(le.A,{conversation:e,conversationSuggestions:r,setComposerSuggestionsDismissed:a,onClick:s})]},e.id)};function ht(e){const[t,i]=(0,o.useState)(0),n=({height:e})=>{i(e)};return(0,A.jsx)(st,{frameName:"intercom-chat-frame",title:`Intercom live chat ${(0,l.Tl)("message")}`,height:t,children:()=>(0,A.jsx)(C.A,{onChange:n,children:(0,A.jsx)(ut,Object.assign({},e))})})}const mt=["adminReply","link","messengerCard","notificationChannels","attributeCollector","conversationRating","inlineAnswer","relevantArticles","finAnswer","chat","ticketStatusUpdate"];class Message extends o.Component{constructor(...e){super(...e),this.addMessageMetric=e=>{const{conversation:t,part:{id:i,messageType:n}}=this.props;(0,H.A5)(e,"message","in_app","from_full",{conversation_id:t.id,message_id:i,message_type:n})},this.handleDismissClick=()=>{this.addMessageMetric("closed"),this.props.onClose(this.props.conversation.id)},this.handleComposerSuggestionClicked=e=>{const{conversation:t,onSuggestionClicked:i}=this.props;i&&i(t,e)}}componentDidMount(){const{conversation:e,userIsPresent:t,onOpen:i,onConversationRead:n}=this.props;i(),!e.read&&t&&n(),this.addMessageMetric("received")}componentDidUpdate(){const{userIsPresent:e,conversation:t}=this.props;e&&!t.read&&this.props.onConversationRead()}renderBorderless(){const{conversation:e,part:t,onComposerOrFormInputClick:i,shouldShowUpfrontEmailComposer:n,onSuggestionClicked:r,setComposerSuggestionsDismissed:o,conversationSuggestions:s}=this.props;return(0,A.jsx)(BorderlessFrame,{conversation:e,conversationSuggestions:s,onSuggestionClicked:r,setComposerSuggestionsDismissed:o,part:t,onClose:this.handleDismissClick,showReplyToButton:n,onComposerClick:i})}renderSnippet(){const{conversation:e,appName:t,onComposerOrFormInputClick:i,onSuggestionClicked:n,setComposerSuggestionsDismissed:r,conversationSuggestions:o}=this.props;return(0,A.jsx)(ht,{conversation:e,conversationSuggestions:o,setComposerSuggestionsDismissed:r,onSuggestionClicked:n,appName:t,handleOnClick:i,onDismiss:this.handleDismissClick})}render(){const{appWindow:e,conversation:t,part:i,appName:n,isMobile:r,onComposerOrFormInputClick:o,onReactionSelect:s,showUploadButton:a,showGifButton:l,shouldShowUpfrontEmailComposer:c,onSuggestionClicked:d,setComposerSuggestionsDismissed:p,conversationSuggestions:u}=this.props,{messageType:h,reactionsReply:m}=i;switch(-1!==mt.indexOf(h)?"borderless":h){case"borderless":return r?(0,A.jsx)(B,{appName:n,part:i,onClose:this.handleDismissClick,composerState:t.composerState,onComposerOrFormInputClick:o}):this.renderBorderless();case"video":return(0,A.jsx)(de,{conversation:t,conversationSuggestions:u,onSuggestionClicked:d,setComposerSuggestionsDismissed:p,standalone:!0,part:i,onClose:this.handleDismissClick,onComposerOrFormInputClick:o});case"note":return(0,A.jsx)(NoteFrame,{conversationId:t.id,composerVisible:t.composerState.visible,appName:n,message:i,reactionsReply:m,showUploadButton:a,showGifButton:l,onClose:this.handleDismissClick,onComposerClick:o,onReactionSelect:s,showReplyToButton:c});case"post":return(0,A.jsx)(K.A,{conversationId:t.id,composerVisible:t.composerState.visible,appName:n,message:i,reactionsReply:m,onClose:this.handleDismissClick,onComposerClick:o,onReactionSelect:s,showReplyToButton:c});case"pointer":return(0,A.jsx)(PointerFrame,{appWindow:e,appName:n,message:i,conversationId:t.id,reactionsReply:m,onComposerClick:o,onReactionSelect:s,onClose:this.handleDismissClick});default:return null}}}Message.propTypes={appWindow:r().object,conversation:r().shape({id:r().string.isRequired,read:r().bool.isRequired,composerState:r().shape({visible:r().bool.isRequired}).isRequired}).isRequired,conversationSuggestions:r().shape({prompt:r().any,suggestions:r().arrayOf(r().shape({uuid:r().string.isRequired,text:r().string.isRequired,preAction:r().string}))}),onSuggestionClicked:r().func,setComposerSuggestionsDismissed:r().func,part:r().shape({id:r().string,messageType:r().string,reactionsReply:r().shape({reactionIndex:r().number,reactionSet:r().array.isRequired})}).isRequired,appName:r().string.isRequired,isMobile:r().bool.isRequired,userIsPresent:r().bool.isRequired,onConversationRead:r().func.isRequired,onOpen:r().func.isRequired,onClose:r().func.isRequired,onComposerOrFormInputClick:r().func.isRequired,onReactionSelect:r().func.isRequired,showUploadButton:r().bool,showGifButton:r().bool,shouldShowUpfrontEmailComposer:r().bool}},37089:(e,t,i)=>{"use strict";i.d(t,{A:()=>Positioner});var n=i(42877),r=i.n(n),o=i(2404),s=i.n(o),a=i(96540),l=i(40961);const c=({appWindow:e,children:t})=>{const i=(0,a.useRef)(null),[,n]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(i.current)return;const t=(e=>{const t=e.document.querySelector("#intercom-container");if(!t)return;if(!e.document.body||!t)return;const i=e.document.createElement("div");return i.id="intercom-positioner-tree",i.classList.add("intercom-namespace"),i.style.cssText="position: initial; !important; z-index: 2147483647 !important;",t.insertAdjacentElement("beforeBegin",i),i})(e);return t?(i.current=t,n(!0),()=>{(e=>{if(!e)return;const t=e.parentNode;t&&t.removeChild(e)})(i.current),i.current=null}):void 0}),[e]),i.current?(0,l.createPortal)(t,i.current):null};var d=i(8375);i(56213);const p=e=>{if(e.IntercomIntersectionObserver)return;const t=e.document;if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype&&"isIntersecting"in e.IntersectionObserverEntry.prototype)return e.IntercomIntersectionObserver=e.IntersectionObserver,e.IntercomIntersectionObserverEntry=e.IntersectionObserverEntry,!0;var i=[];function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,i=t.width*t.height,n=this.intersectionRect,r=n.width*n.height;this.intersectionRatio=i?r/i:this.isIntersecting?1:0}function r(e,t){var i,n,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){i(),r=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function o(e,t,i,n){null!=e&&("function"==typeof e.addEventListener?e.addEventListener(t,i,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,i))}function s(e,t,i,n){null!=e&&("function"==typeof e.removeEventListener?e.removeEventListener(t,i,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,i))}function a(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e,t){for(var i=t;i;){if(i==e)return!0;i=c(i)}return!1}function c(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},r.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,i){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==i[t-1]}))},r.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(e,"resize",this._checkForIntersections,!0),this._observationTargets.forEach((e=>{this._monitorScrollForElement(e)})),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._monitorScrollForElement=function(e){e!==t&&e&&(o(e,"scroll",this._checkForIntersections,!0),this._monitorScrollForElement(e.parent))},r.prototype._unmonitorScrollForElement=function(e){e!==t&&e&&(s(e,"scroll",this._checkForIntersections,!0),this._unmonitorScrollForElement(e.parent))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(e,"resize",this._checkForIntersections,!0),this._observationTargets.forEach((e=>{this._unmonitorScrollForElement(e)})),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),i=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,s=a(o),l=this._rootContainsTarget(o),c=r.entry,d=t&&l&&this._computeTargetAndRootIntersection(o,i),p=r.entry=new n({time:e.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:i,intersectionRect:d});c?t&&l?this._hasCrossedThreshold(c,p)&&this._queuedEntries.push(p):c&&c.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(i,n){if("none"!=e.getComputedStyle(i).display){for(var r,o,s,l,d,p,u,h,m=a(i),g=c(i),x=!1;!x;){var f=null,v=1==g.nodeType?e.getComputedStyle(g):{};if("none"==v.display)return;if(g==this.root||g==t?(x=!0,f=n):g!=t.body&&g!=t.documentElement&&"visible"!=v.overflow&&(f=a(g)),f&&(r=f,o=m,s=void 0,l=void 0,d=void 0,p=void 0,u=void 0,h=void 0,s=Math.max(r.top,o.top),l=Math.min(r.bottom,o.bottom),d=Math.max(r.left,o.left),p=Math.min(r.right,o.right),h=l-s,!(m=(u=p-d)>=0&&h>=0&&{top:s,bottom:l,left:d,right:p,width:u,height:h})))break;g=c(g)}return m}},r.prototype._getRootRect=function(){var e;if(this.root)e=a(this.root);else{var i=t.documentElement,n=t.body;e={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},r.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,i){return"px"==t.unit?t.value:t.value*(i%2?e.width:e.height)/100})),i={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},r.prototype._hasCrossedThreshold=function(e,t){var i=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(i!==n)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==i||o==n||o<i!=o<n)return!0}},r.prototype._rootIsInDom=function(){return!this.root||l(t,this.root)},r.prototype._rootContainsTarget=function(e){return l(this.root||t,e)},r.prototype._registerInstance=function(){i.indexOf(this)<0&&i.push(this)},r.prototype._unregisterInstance=function(){var e=i.indexOf(this);-1!=e&&i.splice(e,1)},e.IntercomIntersectionObserver=r,e.IntercomIntersectionObserverEntry=e.IntersectionObserverEntry};var u=i(51457),h=i(74848);class EventBlocker extends a.Component{constructor(...e){super(...e),this.eventBlockerRef=void 0,this.stopBubbling=e=>{"click"===e.type&&this.props.onClickEvent&&this.props.onClickEvent(),e.stopPropagation()}}componentDidMount(){this.eventBlockerRef&&this.props.events.forEach((e=>{(0,d.q2)(this.eventBlockerRef,e,this.stopBubbling)}))}componentWillUnmount(){this.eventBlockerRef&&this.props.events.forEach((e=>{(0,d.f)(this.eventBlockerRef,e,this.stopBubbling)}))}render(){return(0,h.jsx)("div",{className:"event-blocker",ref:e=>this.eventBlockerRef=e,children:this.props.children})}}var m=i(7315),g=i(32836);const x=["51309","48918"];class Positioner extends a.Component{constructor(...e){super(...e),this.arrow=void 0,this.node=void 0,this.arrowContainer=void 0,this.positioner=void 0,this.targetInDom=void 0,this.IntersectionObserver=void 0,this.missingSelectorTimeout=void 0,this.scrollIntoViewTimeout=void 0,this.repositionCheckTimeout=void 0,this.mutationObserver=void 0,this.state={styles:null,arrowStyles:null,hide:!1,nodeInViewPort:!1,nodeIsEntirelyInViewport:!1,positionerOffsetForMask:{left:0,top:0},placement:null,maskStyles:{padding:0,top:0,left:0,width:0,height:0},referenceRect:null},this.targetWithClickHandler=null,this.targetWithHoverHandler=null,this.updateElementPosition=e=>{const{styles:t,arrowStyles:i}=e;return this.setState({styles:t,hide:!this.targetIsVisible(),arrowStyles:i}),e.attributes&&this.applyAttributes(e.attributes),e},this.updateMaskPosition=()=>{const e=this.getMaskStyles();s()(this.state.maskStyles,e)||this.setState({maskStyles:e})},this.handleOverlayClick=()=>{this.scrollIntoView(),this.props.onOverlayClick&&this.props.onOverlayClick()},this.handleTargetClick=()=>{this.props.onTargetClick&&this.props.onTargetClick()},this.handleTargetHover=()=>{this.props.onTargetHover&&this.props.onTargetHover()},this.handlePlacementChange=()=>{this.props.onPlacementChange&&this.state.placement&&this.props.onPlacementChange(this.state.placement)},this.renderOverlay=()=>{const e=this.getTargetNode();return this.props.renderOverlay(this.handleOverlayClick,this.props,e)}}reinitializeObjects(){this.initializeIntersectionObserver(),this.initializePositioner(),this.setupTargetClickHandler(),"hover"===this.props.progressionBehavior&&this.setupTargetHoverHandler()}componentDidMount(){this.initializeMutationObserver(),this.reinitializeObjects(),this.updateMaskPosition()}shouldComponentUpdate(e,t){return!s()(this.props,e)||!s()(this.state,t)}componentDidUpdate(e,t){e.targetSelector!==this.props.targetSelector?this.reinitializeObjects():this.positioner?this.positioner.scheduleUpdate():this.reinitializeObjects(),t.placement!==this.state.placement&&this.handlePlacementChange()}componentWillUnmount(){const{appWindow:e}=this.props;this.destroyIntersectionObserver(),this.destroyPositioner(),this.destroyTargetClickHandler(),this.destroyTargetHoverHandler(),(e=>{e.IntercomIntersectionObserver&&(delete e.IntercomIntersectionObserver,delete e.IntercomIntersectionObserverEntry)})(e),this.missingSelectorTimeout&&clearTimeout(this.missingSelectorTimeout),this.scrollIntoViewTimeout&&clearTimeout(this.scrollIntoViewTimeout),this.repositionCheckTimeout&&clearTimeout(this.repositionCheckTimeout),this.mutationObserver&&this.mutationObserver.disconnect()}getTargetNode(){const{targetSelector:e,appWindow:t}=this.props;try{return(0,d.fo)(t.document,e)}catch(e){return null}}setupTargetClickHandler(){this.destroyTargetClickHandler(),this.targetWithClickHandler=this.getTargetNode(),this.targetWithClickHandler&&(0,d.q2)(this.targetWithClickHandler,"click",this.handleTargetClick,!0)}destroyTargetClickHandler(){this.targetWithClickHandler&&(0,d.f)(this.targetWithClickHandler,"click",this.handleTargetClick)}setupTargetHoverHandler(){this.destroyTargetHoverHandler(),this.props.onTargetHover&&(this.targetWithHoverHandler=this.getTargetNode(),this.targetWithHoverHandler&&(0,d.q2)(this.targetWithHoverHandler,"mouseover",this.handleTargetHover,!0))}destroyTargetHoverHandler(){this.targetWithHoverHandler&&(0,d.f)(this.targetWithHoverHandler,"mouseover",this.handleTargetHover)}storeMaskOffsetsBasedOnFlipPosition(e){const{scrollable:t}=this.props;if(!t)return;const i=e["x-placement"];switch(i){case"bottom":this.setState({placement:i,positionerOffsetForMask:{left:0,top:3}});break;case"top":this.setState({placement:i,positionerOffsetForMask:{left:0,top:-3}});break;case"left":this.setState({placement:i,positionerOffsetForMask:{left:-5,top:0}});break;case"right":this.setState({placement:i,positionerOffsetForMask:{left:3,top:0}});break;default:return}}applyAttributes(e){[this.arrowContainer,this.node].forEach((t=>{t&&"function"==typeof t.querySelectorAll&&Object.keys(e).forEach((i=>{t&&t.setAttribute&&t.setAttribute(i,e[i])})),this.storeMaskOffsetsBasedOnFlipPosition(e)}))}targetIsVisible(){const{nodeInViewPort:e}=this.state;if(!e)return!1;const t=this.getTargetNode();return(0,d.nf)(t)}scrollIntoView(){this.scrollIntoViewTimeout=setTimeout((()=>{const{nodeIsEntirelyInViewport:e}=this.state,t=this.getTargetNode(),i=this.props.activeTourId&&-1!==x.indexOf(this.props.activeTourId);t&&!e&&t.scrollIntoView({behavior:i?"auto":"smooth",block:"center",inline:"center"})}),200)}initializeMutationObserver(){const{appWindow:e}=this.props;this.targetInDom=!!this.getTargetNode(),this.mutationObserver=new MutationObserver((()=>{this.targetInDom&&!this.getTargetNode()&&(this.targetInDom=!1,this.destroyPositioner(),this.forceUpdate()),!this.targetInDom&&this.getTargetNode()&&(this.targetInDom=!0,this.forceUpdate()),this.updateMaskPosition()})),this.mutationObserver.observe(e.document.body,{attributes:!0,subtree:!0,childList:!0})}initializePositioner(){const{scrollable:e,placement:t}=this.props,i=this.getTargetNode();let n=null;if(t<5&&t>=0&&(n=[null,"top","bottom","right","left"][t]),!i)return;if(!this.node)return;e&&this.scrollIntoView();const r=this.node,o=this.arrow,s=this.props,a=()=>{(0,m.rD)(i,r,{placement:n||"top",middleware:[(0,m.cY)({mainAxis:this.props.hideArrow?5:15,crossAxis:0}),(0,m.BN)({limiter:(0,m.ER)()}),t?null:(0,m.UU)({fallbackAxisSideDirection:"start"}),{name:"refrect",fn(e){return{data:e.rects.reference}}},{name:"overflow",async fn(e){const t=await(0,m.__)(e),i=s.hideArrow?5:20;if(t.left+=i,t.right+=i,t.top+=i,t.bottom+=i,t.left>0||t.right>0||t.top>0||t.bottom>0){let{x:i,y:n}=e,r=!1;return t.right>0&&(i-=t.right),t.left>0&&(i+=t.left),t.right>0&&t.left>0&&(i-=t.right/2,i+=t.left/2,r=!0),t.bottom>0&&(n-=t.bottom),t.top>0&&(n+=t.top),t.right>0&&t.left>0&&(n-=t.bottom/2,n+=t.top/2,r=!0),{x:i,y:n,placement:"bottom",data:{overflow:r}}}return{data:{overflow:!1}}}},(0,m.UE)({element:o})].filter((e=>null!==e))}).then((e=>{var t,i;const n={left:(null==(t=e.middlewareData.arrow)?void 0:t.x)||"",top:(null==(i=e.middlewareData.arrow)?void 0:i.y)||""},r=e.middlewareData.overflow.overflow;this.updateElementPosition({arrowStyles:n,attributes:{"x-placement":e.placement,"x-out-of-boundaries":r},styles:{position:"absolute",top:e.y,left:e.x,transform:"",willChange:"transform"},hide:!1}),this.setState({referenceRect:{top:e.middlewareData.refrect.y,left:e.middlewareData.refrect.x,width:e.middlewareData.refrect.width,height:e.middlewareData.refrect.height}})}))},l={scheduleUpdate:()=>{l.destroy(),l.destroy=(0,m.ll)(i,r,a)},destroy:g.K};this.positioner=l,a()}initializeIntersectionObserver(){const{appWindow:e}=this.props,t=this.getTargetNode();t&&(e.IntercomIntersectionObserver||p(e),this.IntersectionObserver=new e.IntercomIntersectionObserver((e=>{if(0===e.length)return;const{isIntersecting:i,intersectionRatio:n}=r()(e,["time"],["desc"])[0],o=i,s=i&&(0,d.nf)(t),a=1===n;this.setState({hide:!s,nodeInViewPort:o,nodeIsEntirelyInViewport:a})}),{threshold:.05}),this.IntersectionObserver.observe(t))}destroyPositioner(){this.positioner&&(this.positioner.destroy(),delete this.positioner)}destroyIntersectionObserver(){this.IntersectionObserver&&this.IntersectionObserver.disconnect()}reinitializePointer(){this.destroyPositioner(),this.initializePositioner()}reinitializeIntersectionObserver(){this.destroyIntersectionObserver(),this.initializeIntersectionObserver()}mergedStyles(){const{scrollable:e}=this.props,{styles:t,positionerOffsetForMask:i}=this.state;if(!t)return{};if(!e)return t;const{left:n,top:r}=i;return Object.assign({},t,{left:t.left+n,top:t.top+r})}nodeIsVisible(){const e=this.getTargetNode();return e&&(0,d.nf)(e)}getStyles(){const{hideArrow:e}=this.props,{height:t,width:i,opacity:n}=this.props.childDimensions||{};if(this.nodeIsVisible()){const e=!this.state.hide&&t&&i&&n?1:0;return this.onSelectorMatch(),Object.assign({},this.mergedStyles(),{opacity:e})}if(this.props.renderFallback){const n=e?5:15,{opacity:r}=this.props.childDimensions||{};return this.props.targetSelector&&this.onMissingSelector(),{position:"fixed",top:`calc(50% - ${(t||0)/2}px)`,left:`calc(50% - ${(i||0)/2}px)`,opacity:r,margin:n}}}getArrowStyles(){const{arrowStyles:e,hide:t}=this.state,{height:i,width:n}=this.props.childDimensions||{},r=!t&&i&&n?1:0;return e?{top:e.top,left:e.left,opacity:r}:{opacity:r}}getMaskStyles(){const e=this.getTargetNode();if(!e||!this.props.scrollable||this.state.hide)return{padding:0,top:0,left:0,width:0,height:0};const{appWindow:t}=this.props,{top:i,left:n,width:r,height:o}=this.state.referenceRect?{top:this.state.referenceRect.top-t.scrollY,left:this.state.referenceRect.left-t.scrollX,width:this.state.referenceRect.width,height:this.state.referenceRect.height}:e.getBoundingClientRect();return{padding:3,top:i-3+t.scrollY,left:n-3+t.scrollX,width:r,height:o}}renderArrow(){const{backgroundColorOverride:e}=this.props;return(0,h.jsx)(u.Wr,{style:Object.assign({},this.getArrowStyles()),ref:e=>this.arrow=e,"data-testid":"arrow-wrapper",children:(0,h.jsx)(u.AJ,{frameName:"intercom-positioner-arrow-frame",children:()=>(0,h.jsx)(u.kG,{style:{display:this.props.hideArrow?"none":"block"},ref:e=>this.arrowContainer=e,backgroundColorOverride:e})})})}onMissingSelector(){this.missingSelectorTimeout||(this.missingSelectorTimeout=setTimeout((()=>{!this.nodeIsVisible()&&this.props.onMissingSelector&&this.props.onMissingSelector()}),300))}onSelectorMatch(){this.props.onSelectorMatch&&this.props.onSelectorMatch()}render(){const{scrollable:e,shouldAnimate:t,renderFallback:i,children:n,appWindow:r,buttonColor:o}=this.props,s=this.getTargetNode();if(!s&&!i)return null;const{maskStyles:a}=this.state,{width:l,height:d}=a;return(0,h.jsx)(c,{appWindow:r,children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.gE,{ref:e=>this.node=e,style:this.getStyles(),children:(0,h.jsxs)(u.E9,{children:[this.nodeIsVisible()?this.renderArrow():null,this.targetIsVisible()||i?n:null]})}),(0,h.jsx)(u.ou,{style:a,isStep:e&&!!s,isPost:e&&!s,isAnimating:t,height:d,width:l,buttonColor:o,"data-testid":"positioner-mask"}),(0,h.jsx)(EventBlocker,{events:["auxclick","click","dblclick","mousedown","mouseup"],onClickEvent:()=>this.handleOverlayClick(),children:this.renderOverlay()})]})})}}Positioner.defaultProps={hideArrow:!1,renderFallback:!1,shouldAnimate:!1,renderOverlay:(e,{scrollable:t})=>(0,h.jsx)(u.M3,{onClick:e,scrollable:t,tabIndex:-1,"data-testid":"positioner-overlay","aria-label":"Product tour overlay"})}},65772:(e,t,i)=>{"use strict";i.d(t,{A:()=>Post});var n=i(96540),r=i(36656),o=i(60077),s=i(99410),a=i(26731),l=i(63156),c=i(49651),d=i(34913),p=i(69830),u=i(38211),h=i(52271),m=i(79630),g=i(74848);class Post extends n.Component{constructor(...e){super(...e),this.state={isScrolled:!1},this.handleScroll=e=>{this.setState({isScrolled:e.target.scrollTop>0}),(0,m.Xr)(e)},this.addClickedComposerMetric=()=>{const{message:{id:e},conversationId:t}=this.props;(0,p.A5)("clicked","composer","in_app","from_full",{message_type:"post",message_id:e,conversation_id:t})},this.handleComposerClick=e=>()=>{this.addClickedComposerMetric(),this.props.onComposerClick(),e(void 0,{shouldReturnFocus:!1})}}renderFooter(e){const{composerVisible:t,showReplyToButton:i,isUpfrontEmailComposerShowing:n}=this.props;return t?i||n?(0,g.jsx)(d.A,{onClick:this.handleComposerClick(e)}):(0,g.jsx)(u.pM,{className:"intercom-post-composer",onClick:this.handleComposerClick(e),"aria-label":(0,c.Tl)("open_conversation_and_reply"),children:(0,g.jsx)(h.cT,{children:(0,c.Tl)("reply_to_conversation")})}):null}renderReactionPicker(){const{reactionsReply:e,onReactionSelect:t}=this.props;return(0,g.jsx)(l.A,Object.assign({},e,{onReactionSelect:t}))}render(){const{isScrolled:e}=this.state,{appName:t,message:i,reactionsReply:n,onClose:l,frameWindow:d,returnFocus:p,showReplyToButton:h,isUpfrontEmailComposerShowing:m}=this.props,{author:x,lastActiveAt:f,body:v}=i;return(0,g.jsx)(r.A,{closeCallback:l,showCloseOverlay:!1,frameWindow:d,returnFocus:p,children:({onClose:i})=>(0,g.jsx)(u.pD,{isScrolled:e,children:(0,g.jsx)(u.K8,{className:"intercom-post",children:(0,g.jsxs)(s.A,{appName:t,isReplyStyle:!1,author:x,lastActiveAt:f,forceShowAppName:!0,children:[(0,g.jsx)(u.Xz,{className:"intercom-post-close",onClick:i,"aria-label":(0,c.Tl)("close")}),(0,g.jsx)(o.A,{isInsideModal:!0,onScroll:this.handleScroll,children:(0,g.jsx)(a.A,{blocks:v,frameWindow:d})}),(0,g.jsx)(u.oL,{isCentered:h||m,children:n?this.renderReactionPicker():this.renderFooter(i)})]})})})})}}},63156:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(96540),r=i(78619),o=i(94325),s=i(74848);function a({reactionSet:e,onReactionSelect:t,reactionIndex:i=null,prompt:a}){const l=(0,n.useRef)(null);return(0,s.jsxs)(o.f,{ref:l,role:"group","aria-labelledby":a?"reaction-prompt":void 0,hasPrompt:!!a,children:[a?(0,s.jsx)(o.S,{id:"reaction-prompt",children:a}):null,e.map(((e,n)=>(0,s.jsx)(r.A,{onReactionSelect:t,reaction:e,hasSelectedReaction:null!=i,isSelected:i===e.index},n)))]})}},78619:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(54979),r=i(1439),o=i(51480),s=i(74848);const a=32;function l({reaction:e,onReactionSelect:t,hasSelectedReaction:i,isSelected:l}){return(0,s.jsx)(o.H,{onClick:()=>{t(e.index)},"aria-label":`${(0,r.x$)(e.emoji)} reaction`,"aria-pressed":l,hasSelectedReaction:i,isSelected:l,children:(0,s.jsx)(n.A,{"aria-hidden":"true",emojiImageSize:a,text:e.emoji})})}},34913:(e,t,i)=>{"use strict";i.d(t,{A:()=>ReplyToButton});var n=i(96540),r=i(49651),o=i(86923),s=i(85177);const a=(0,o.Ay)(s.A,{target:"e3s5ecz1"})({name:"14te7qs",styles:"position:relative;top:2px;right:8px"});var l={name:"a713ga",styles:"margin:8px 0px 0px 42px;width:81%"};const c=(0,o.Ay)("button",{target:"e3s5ecz0"})("svg{path{fill:",(0,o.w4)("buttonBackgroundColor"),";}}padding:10px;border:1px solid ",(0,o.w4)("buttonBackgroundColor"),";border-radius:40px;margin:0 20px 20px 20px;width:240px;text-align:center;font-size:14px;font-weight:600;color:",(0,o.w4)("buttonBackgroundColor"),";background-color:",(0,o.w4)("buttonTextColor"),";",(({isBorderless:e})=>e&&l),";");var d=i(74848);class ReplyToButton extends n.PureComponent{constructor(...e){super(...e),this.ref=void 0,this.setReplyToButtonRef=e=>{this.ref=e}}componentDidMount(){const{onShow:e}=this.props;if(!this.ref||!e)return;e(this.ref.clientHeight+10)}render(){const{onClick:e,isBorderless:t}=this.props;return(0,d.jsxs)(c,{ref:this.setReplyToButtonRef,onClick:e,isBorderless:t,children:[(0,d.jsx)(a,{}),(0,r.Tl)("reply_to_conversation").replace("…","")]})}}},60077:(e,t,i)=>{"use strict";i.d(t,{A:()=>Scrollable});var n=i(96540),r=i(8375),o=i(84864),s=i(7494),a=i(96808),l=i(46531),c=i(183),d=i(74848);class Scrollable extends n.Component{constructor(...e){super(...e),this.state={scrollable:!1,scrolled:!1},this.scrollingBorderRef=(0,n.createRef)(),this.scrollable=void 0,this.handleHeightChange=()=>{this.setState({scrollable:this.isScrollable()}),this.props.onScrollable&&this.scrollable&&this.props.onScrollable(this.scrollable,this.state.scrollable)},this.handleScroll=(0,o.B)((e=>{const{scrollTop:t}=e.target;this.setState({scrolled:t>0});const{onScroll:i}=this.props;i&&i(e)}),17)}componentDidUpdate(e){e.defaultScrollPosition!==this.props.defaultScrollPosition&&this.props.defaultScrollPosition&&this.scrollable&&(this.scrollable.scrollTop=this.props.defaultScrollPosition),this.handleScrollable()}componentDidMount(){this.handleScrollable(),this.props.defaultScrollPosition&&this.scrollable&&(this.scrollable.scrollTop=this.props.defaultScrollPosition)}handleScrollable(){const{onScrollable:e}=this.props;!this.state.scrollable&&this.isScrollable()&&(this.setState({scrollable:!0}),this.scrollable&&e&&e(this.scrollable,this.state.scrollable))}isScrollable(){return!!this.scrollable&&this.scrollable.scrollHeight>this.scrollable.clientHeight}render(){const{dynamicChildrenHeight:e,showScrollingBorder:t}=this.props,{scrolled:i}=this.state;return(0,d.jsxs)(d.Fragment,{children:[t&&(0,d.jsx)(c.B1,{in:i,classNames:"intercom-drop-shadow-fade",timeout:150,unmountOnExit:!0,nodeRef:this.scrollingBorderRef,children:(0,d.jsx)(l.p,{ref:this.scrollingBorderRef})}),(0,d.jsx)(s.vW,{className:"intercom-scrollable",isInsideModal:this.props.isInsideModal,flex:this.props.flex,onScroll:this.handleScroll,onWheel:r.b$,tabIndex:this.state.scrollable?"0":"-1",ref:e=>this.scrollable=e,children:e?(0,d.jsx)(a.A,{onHeightChange:this.handleHeightChange,children:(0,d.jsx)(d.Fragment,{children:this.props.children})}):this.props.children})]})}}},67827:(e,t,i)=>{"use strict";i.d(t,{A:()=>Snippet});var n=i(5556),r=i.n(n),o=i(96540),s=i(54979),a=i(99410),l=i(37341),c=i(50052),d=i(73669),p=i(69771),u=i(90933),h=i(95029),m=i(53074),g=i(61041),x=i(14314),f=i(69830),v=i(74848);class Snippet extends o.Component{constructor(...e){super(...e),this.addSnippetMetric=e=>{const{conversation:t}=this.props,i=(0,u.u)(t);(0,f.A5)(e,"snippet","in_app","",{conversation_id:t.id,part_id:i.id,part_type:i.messageType})},this.addClickedMetric=()=>{this.addSnippetMetric("clicked")},this.handleClick=()=>{const{conversation:e,onClick:t}=this.props;this.addClickedMetric(),t(e)}}componentDidMount(){this.addSnippetMetric("received")}shouldRenderChatStyle(){const{conversation:e,stack:t,forcePlainStyle:i}=this.props;return!i&&(((0,u.kY)(e)||(0,u.Qz)(e))&&!t)}getConversationParts(){return this.props.conversation.parts.filter((e=>!1===(0,m.A)(e.partType)))}renderBody(e){if(1===e.length&&(0,p.Nm)(e[0]))return(0,v.jsx)(h.A,{text:(0,d.hs)(e[0])});const{summaryText:t}=(0,d.OO)(this.getConversationParts());return(0,v.jsx)(s.A,{text:t})}renderPlainStyle(e,t,i,n){return(0,v.jsx)(g.Eg,{children:(0,v.jsx)(x.zP,{className:"intercom-snippet",onClick:this.handleClick,children:(0,v.jsx)(a.A,{appName:i,author:e,isReplyStyle:n,horizontal:this.props.horizontal,lastPartCreatedAt:this.props.conversation.lastPartCreatedAt,children:(0,v.jsx)(x.mx,{children:this.renderBody(t)})})})})}renderChatStyle(e,t,i,n){var r;return(0,v.jsx)(g.Eg,{children:(0,v.jsxs)(x.PG,{className:"intercom-chat-snippet",onClick:this.handleClick,children:[(0,v.jsx)(x.hE,{children:(0,v.jsx)(l.h,{author:e,solidBackground:"squircle"!==(null==e||null==(r=e.avatar)?void 0:r.shape)})}),(0,v.jsxs)(x._j,{children:[(0,v.jsx)(c.A,{author:e,appName:i,isReplyStyle:n}),(0,v.jsx)(x.kh,{children:this.renderBody(t)})]})]})})}render(){const{appName:e,conversation:{userParticipated:t}}=this.props,i=(0,u.dF)(this.props.conversation);if(!i)return null;const{author:n,body:r}=i;return this.shouldRenderChatStyle()?this.renderChatStyle(n,r,e,t):this.renderPlainStyle(n,r,e,t)}}Snippet.defaultProps={stack:!1},Snippet.propTypes={conversation:r().shape({id:r().any.isRequired,parts:r().arrayOf(r().shape({author:r().object.isRequired,body:r().array.isRequired})).isRequired,userParticipated:r().bool.isRequired,lastPartCreatedAt:r().object}).isRequired,appName:r().string.isRequired,stack:r().bool.isRequired,onClick:r().func.isRequired,forcePlainStyle:r().bool,horizontal:r().bool},Snippet.defaultProps={forcePlainStyle:!1}},24762:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var n=i(49651),r=i(86923);const o=(0,r.Ay)("div",{target:"ehp9kao1"})("height:8px;border-radius:10px;overflow:hidden;background-color:",(0,r.w4)("containerEmphasisNeutral"),";"),s=(0,r.Ay)("div",{target:"ehp9kao0"})("height:8px;background-color:",(0,r.w4)("progressBarFilled"),";",(({percentage:e})=>(0,r.AH)("width:",e,"%;transition-property:width;transition-duration:1s;")),";");var a=i(74848);const l=({percentage:e,prefillEmptyPercentage:t})=>{const i=t&&0===e?2:e;return(0,a.jsx)("div",{children:(0,a.jsx)(o,{children:(0,a.jsx)(s,{percentage:i})})})},c=(0,r.Ay)("div",{target:"ea6tcy61"})("display:flex;flex-direction:row;justify-content:",(({condensed:e})=>e?"flex-start":"space-between"),";gap:",(({condensed:e})=>e?"4px":""),";margin-bottom:8px;color:",(0,r.w4)("textMuted"),";"),d=(0,r.Ay)("div",{target:"ea6tcy60"})("display:flex;flex-direction:row;p{font-size:14px;color:",(0,r.w4)("textMuted"),";line-height:150%;font-weight:400;}"),p=(e,t)=>{const i=e/60;return t>0?1===i?(0,n.Tl)("checklist_in_progress_time_remaining_singular"):(0,n.Tl)("checklist_in_progress_time_remaining_plural",{minutes:i.toString()}):1===i?(0,n.Tl)("checklist_not_started_time_remaining_singular"):(0,n.Tl)("checklist_not_started_time_remaining_plural",{minutes:i.toString()})},u=(e,t)=>0===e?1===t?(0,n.Tl)("checklist_number_of_steps_singular"):(0,n.Tl)("checklist_number_of_steps_plural",{number_of_steps:t.toString()}):1===t||1===e?(0,n.Tl)("checklist_number_of_steps_progress_singular",{total_steps:t.toString()}):(0,n.Tl)("checklist_number_of_steps_progress_plural",{steps_completed:e.toString(),total_steps:t.toString()}),h=({checklistTasks:e,completedChecklistTasks:t,estimatedTimeRemaining:i,condensed:r,prefillProgressIfEmpty:o})=>{const s=t/e*100;return(0,a.jsxs)("div",{"data-testid":"checklist-progress-details",children:[(0,a.jsxs)(c,{condensed:r,children:[(0,a.jsx)(d,{"data-testid":"checklist-remaining-tasks",children:(0,a.jsx)("p",{children:u(t,e)})}),r&&(0,a.jsx)(d,{children:(0,a.jsx)("p",{children:"•"})}),(0,a.jsx)(d,{"data-testid":"checklist-remaining-time",children:(0,a.jsx)("p",{children:t<e?p(i,t):(0,n.Tl)("checklist_completed")})})]}),(0,a.jsx)(l,{percentage:s,prefillEmptyPercentage:o})]})}},95029:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var n=i(67098),r=i.n(n),o=i(1439),s=i(86923),a=i(14314);const l=96,c=38,d=45,p=(0,s.Ay)("div",{target:"ee6m5h01"})("font-size:",l,"px;line-height:",l,"px;margin-top:",12,"px;",a.zP.className,"{font-size:",c,"px;line-height:",c,"px;margin-top:",4.75,"px;margin-bottom:",4.75,"px;}",a.PG.className,"{font-size:",d,"px;line-height:",d,"px;margin-top:",5.625,"px;margin-bottom:",5.625,"px;}"),u=(0,s.Ay)("img",{target:"ee6m5h00"})("width:",l,"px;height:",l,"px;min-width:",l,"px;min-height:",l,"px;",a.zP.className,"{width:",c,"px;height:",c,"px;min-width:",c,"px;min-height:",c,"px;}",a.PG.className,"{width:",d,"px;height:",d,"px;min-width:",d,"px;min-height:",d,"px;}");var h=i(75959),m=i.n(h),g=i(74848);const x=e=>"native"===e||"image"!==e&&("auto"===e&&(0,o.P9)());function f({text:e,emoji:t="auto"}){const i=(0,o.Zv)(r()(e).replace("&nbsp;","").trim());return x(t)?(t=>(0,g.jsx)(p,{role:"img","aria-label":(0,o.x$)(e)||t,children:t}))(i):(t=>{const i=m().twemojiSVGUri(t);return(0,g.jsx)(u,{src:i,alt:t,"aria-label":(0,o.x$)(e)})})(i)}},45892:(e,t,i)=>{"use strict";i.d(t,{A:()=>v});var n=i(86923);var r={name:"fobkqv",styles:"left:15px"};const o=(0,n.Ay)("div",{target:"e1dri40f0"})("flex:0 0 auto;",(({isCompact:e})=>e&&r),";");const s={name:"hgpnc9",styles:"top:9px;left:-2px;z-index:1"},a={name:"aotk9s",styles:"top:9px;right:-2px;z-index:2"},l={name:"s5nwgd",styles:"top:-1px;left:6px;z-index:2"},c={name:"1otngav",styles:"top:15px;right:14px;z-index:3"},d={name:"3tz3uv",styles:"top:15px;left:14px;z-index:1"},p=(0,n.AH)("width:100%;height:100%;line-height:35px;",o.className," &{width:36px;height:36px;line-height:36px;}"),u={name:"uedfn8",styles:"width:20px;height:20px;line-height:20px"},h=({theme:e,index:t,numOfAvatars:i})=>(0,n.AH)("border-radius:50%;position:absolute;border:",1===i?"none":`2px solid ${e.borderNeutral}`,";background-color:",e.avatarBackgroundColor,";color:",e.textOnInverse,";text-align:center;font-size:16px;",1===i?p:u," ",((e,t)=>{switch(t){case 2:switch(e){case 0:return s;case 1:return a;default:return""}case 3:switch(e){case 0:return l;case 1:return c;case 2:return d;default:return""}default:return""}})(t,i),";"),m=(0,n.Ay)("div",{target:"e1dkv15p2"})(h,";"),g=(0,n.Ay)("img",{target:"e1dkv15p1"})(h,";"),x=(0,n.Ay)("div",{target:"e1dkv15p0"})({name:"w7e5i4",styles:"width:35px;height:35px;position:relative;float:left"});var f=i(74848);function v({admins:e=[]}){const t=(e,t,i)=>e.avatar.square128?((e,t,i)=>{const{firstName:n,avatar:{square128:r}}=e,o=`${n||"admin"} avatar`;return(0,f.jsx)(g,{src:r??void 0,alt:o,index:t,numOfAvatars:i},t)})(e,i,t):((e,t,i)=>{const{firstName:n}=e,r=n.charAt(0).toUpperCase();return(0,f.jsx)(m,{index:t,numOfAvatars:i,children:r},t)})(e,i,t),i=e.filter(Boolean).slice(0,3);return(0,f.jsx)(x,{"data-testid":"team-avatar-container",children:i.map(((e,n)=>t(e,i.length,n)))})}},92090:(e,t,i)=>{"use strict";i.d(t,{YA:()=>k,Ay:()=>b,R7:()=>C});var n={};i.r(n),i.d(n,{Content:()=>d,Wrap:()=>l});var r=i(86923),o=i(72977);var s={name:"1qlw8vx",styles:"transform:translate(0, 100%);bottom:-2px;right:0"},a={name:"ue1v0s",styles:"transform:translate(-50%, 100%);bottom:-2px;left:50%"};const l=(0,r.Ay)("div",{target:"e8w1ysz1"})("z-index:",(0,o.fE)(1),";box-sizing:border-box;position:absolute;width:auto;pointer-events:",(0,r.xk)("pointerEvents"),";",(({position:e})=>"bottom"===e&&a)," ",(({position:e})=>"bottomRight"===e&&s)," ",(({position:e,top:t,bottom:i,left:n})=>"auto"===e&&(0,r.AH)("transform:translate(-50%, 0);",null!=t&&(0,r.AH)("top:",t,"px;")," ",null!=i&&(0,r.AH)("bottom:",i,"px;")," left:",n,"px;")),";");var c={name:"1bmnxg7",styles:"white-space:nowrap"};const d=(0,r.Ay)("div",{target:"e8w1ysz0"})("background:",(0,r.w4)("containerEmphasisNeutral"),";opacity:0.95;color:",(0,r.w4)("textDefault"),";border-radius:3px;font-size:12px;line-height:1.4;text-align:center;padding:2px 4px 0;",(({wrapText:e})=>!e&&c)," ",(({type:e,theme:t})=>"dark"===e&&(0,r.AH)("background:",t.alphaBlack60,";")),";");var p=i(96540),u=i(52203),h=i(52555),m=i(74848);const g=200,x=100,f=20,v=15,y=5;function b({children:e,content:t,position:i="auto",enabled:n=!0,type:r="default",wrapText:o=!1,hideOnMouseMove:s=!0,enablePointerEvents:a=!1,enterDelay:c=500,exitDelay:b=0,forceShow:w=!1}){const[j,k]=(0,p.useState)({top:0,bottom:null,left:0}),[A,C]=(0,p.useState)(!1),S=(0,p.useRef)(null),T=(0,p.useRef)(null),_=(0,p.useRef)(null),E=(0,p.useRef)(Date.now()),N=()=>{clearTimeout(_.current),clearInterval(T.current)};(0,p.useEffect)((()=>N),[]);const B=w||A&&n&&t,I=(0,m.jsx)(u.A,{animationKey:Boolean(B).toString(),duration:g,children:B?(0,m.jsx)(l,{as:h.CS.div,position:i,left:j.left,top:j.top,bottom:j.bottom,pointerEvents:a?"auto":"none",children:"string"!=typeof t?t:(0,m.jsx)(d,{type:r,wrapText:o,children:t})}):null}),R={onMouseEnter:()=>{N(),T.current=setInterval((()=>{const e=Date.now()-E.current>c;C(e),e&&clearInterval(T.current)}),x)},onMouseLeave:()=>{N(),_.current=setTimeout((()=>{C(!1)}),b)},onMouseMove:e=>{if(!S.current)return;const t=S.current.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top,r=t.bottom-e.clientY;let o,a;n>t.height/2?o=Math.round(r+v):a=Math.round(n+f),E.current=Date.now(),s&&C(!1),k({top:a,bottom:o,left:Math.round(i+y)})},ref:S};return(0,m.jsx)(m.Fragment,{children:e(I,R)})}var w=i(82825),j=i(49651);function k({explanation:e,learnMoreURL:t}){return(0,m.jsxs)(A,{children:[e,t&&(0,m.jsxs)("a",{href:t,target:"_blank",rel:"noreferrer",children:[(0,j.Tl)("learn_more")," ",(0,m.jsx)(w.A,{})]})]})}const A=(0,r.Ay)("div",{target:"e13saqdc0"})("border-radius:16px;border:none;background:",(0,r.w4)("containerBaseNeutral"),";padding:16px;box-shadow:",(0,r.w4)("shadowSmall"),";max-width:320px;color:",(0,r.w4)("textDefault"),";line-height:150%;font-size:14px;font-weight:400;a{display:flex;align-items:center;color:",(0,r.w4)("textMuted"),";font-weight:600;text-decoration:none;&:hover,&:active{color:",(0,r.w4)("textMuted"),";}svg{height:13px;path{stroke:",(0,r.w4)("iconMuted"),";}}}"),C=n},52203:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(96540),r=i(52555),o=i(74848);const s={opacity:0},a={opacity:1};function l(e){const{children:t,duration:i=200,animationKey:l}=e,c=(0,n.useRef)(null),[d,p]=(0,n.useState)(null);(0,n.useEffect)((()=>{t?(clearTimeout(c.current),p(t)):c.current=setTimeout((()=>p(null)),i||0)}),[t,i]),(0,n.useEffect)((()=>()=>clearTimeout(c.current)),[]);return(0,r.pn)(t,{from:s,enter:a,leave:s,config:{duration:i},immediate:!1,keys:(0,n.isValidElement)(t)?t.key??l??"static":null})(((e,i)=>i?(0,o.jsx)(r.CS.div,{style:e,children:d||t}):null))}},91889:(e,t,i)=>{"use strict";i.d(t,{l:()=>a});var n=i(55073),r=i(93573),o=i(5351),s=i(74848);const a=({admin:e,size:t,showStatus:i=!1,solidBackground:a})=>{const l="isActive"in e&&!!e.isActive,c="dark"===(0,o.A)().themeMode;return(0,s.jsx)(n.e,Object.assign({solidBackground:a,showStatus:i&&l,size:t},(0,r.g)(e,c)))}},37341:(e,t,i)=>{"use strict";i.d(t,{h:()=>c});var n=i(55073),r=i(91889),o=i(45892),s=i(93573),a=i(5351),l=i(74848);const c=({author:e,size:t,solidBackground:i})=>{var c;const d=null==(c=e.type)?void 0:c.toLowerCase(),p="dark"===(0,a.A)().themeMode;switch(d){case"team":return(0,l.jsx)(o.A,{admins:e.admins});case"admin":return(0,l.jsx)(r.l,{admin:e,size:t,solidBackground:i});default:var u;return(0,l.jsx)(n.e,Object.assign({},(0,s.g)(e,p),{showStatus:!1,shape:(null==(u=e.avatar)?void 0:u.shape)||"circle",size:t}))}}},44458:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(86923);var r={name:"gdp82w",styles:"border-radius:16.7%;border:none!important;img{border-radius:16.7%;}"};const o=(0,n.Ay)("div",{target:"e2rn66r0"})("margin:0 auto;border-radius:50%;display:inline-block;vertical-align:middle;cursor:default;position:relative;overflow:visible;img{border-radius:50%;",(({initial:e,solidBackground:t,theme:i})=>!e&&t&&(0,n.AH)("background-color:",i.avatarBackgroundColor,";")),";}",(({size:e})=>((e=32)=>(0,n.AH)("width:",e,"px;height:",e,"px;line-height:",e,"px;font-size:",e/2,"px;img{width:",e,"px;height:",e,"px;}"))(e))," ",(({initial:e,theme:t})=>e&&(0,n.AH)("text-transform:uppercase;background-color:",t.avatarBackgroundColor,";color:",t.isPrimaryColorAsTheme?t.textDefault:t.textOnInverse,";text-align:center;display:inline-flex;justify-content:center;align-items:center;"))," ",(({user:e,theme:t})=>e&&(0,n.AH)("background-color:",t.containerNeutral,";color:",t.textDefault,";"))," ",(({shape:e})=>"squircle"===e&&r),";")},55073:(e,t,i)=>{"use strict";i.d(t,{e:()=>c,m:()=>l});var n=i(96540),r=i(44458),o=i(86923);const s=(0,o.Ay)("div",{target:"e9f496v0"})("width:",(0,o.xk)("size")||8,"px;height:",(0,o.xk)("size")||8,"px;background-color:",(0,o.w4)("onlineFill"),";border:",(0,o.xk)("borderSize")||2,"px solid ",(0,o.w4)("appSecondaryColor"),";margin:0 auto;border-radius:50%;display:inline-block;vertical-align:bottom;right:",(0,o.xk)("right")||3,"px;bottom:",(0,o.xk)("bottom")||3,"px;position:absolute;",(({isActive:e,theme:t})=>!e&&(0,o.AH)("background-color:",t.fillNotice,";")),";");var a=i(74848);const l=(0,n.createContext)(32);l.displayName="AvatarSizeContext";const c=({initials:e,label:t,imageUrl:i,shape:o="circle",showStatus:c=!1,size:d,solidBackground:p,isInactive:u=!1})=>{const h=(0,n.useContext)(l),[m,g]=(0,n.useState)(!1),x=!i||m,f=x?{initial:x,role:"img","aria-label":t}:{};return(0,a.jsxs)(r.Z,Object.assign({size:d||h,shape:o},f,{solidBackground:p,children:[x?e:(0,a.jsx)("img",{src:i,alt:t,onError:()=>{g(!0)}}),(c||u)&&(0,a.jsx)(s,{"data-testid":"avatar-status",isActive:!u,right:-2,bottom:0,borderSize:2,size:Math.floor((d||32)/5)})]}))}},58820:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(86923);const r=(0,n.Ay)("button",{target:"etxngei0"})("width:",(e=>e.fullWidth?"100%":"fit-content"),";max-width:100%;box-sizing:border-box;padding:",(0,n.xk)("padding"),";position:relative;border-radius:",(0,n.xk)("borderRadius"),";display:flex;justify-content:center;align-items:center;gap:",(0,n.xk)("gap"),"px;cursor:pointer;pointer-events:auto;font-size:14px;line-height:20px;color:inherit;font-weight:600;font-family:",(0,n.w4)("fontSansSerif"),";white-space:nowrap;transition:color 0.2s ease,background-color 0.2s ease,box-shadow 0.2s ease-in-out;&:active{box-shadow:none;}&:focus{box-shadow:0px 0px 1px 2px ",(({theme:e})=>e.buttonShadowFocus),";}",(({variant:e,theme:t})=>"primary_light"===e&&(0,n.AH)("&&{color:",t.isPrimaryColorReadable?t.primaryColor:t.textDefault,";background:",t.containerBaseNeutral,";border:1px solid ",t.borderEmphasisNeutral,";box-shadow:",t.shadowSmall,";}@media (hover: hover){&:hover{background:",t.alphaBlack10,";}}"))," ",(({variant:e,theme:t})=>"primary"===e&&(0,n.AH)("&&{color:",t.isPrimaryColorReadable?t.textOnInverse:t.textDefault,";background:",t.primaryColor,";}@media (hover: hover){&:hover{background:",t.buttonBackgroundHover,";}}&:active{color:",t.buttonTextColor,";}"))," ",(({variant:e,theme:t})=>"secondary"===e&&(0,n.AH)("&&{color:",t.textDefault,";background:",t.containerBaseNeutral,";border:1px solid ",t.borderEmphasisNeutral,";}@media (hover: hover){&:hover{background:",t.containerNeutral,";}}"))," ",(({variant:e,theme:t})=>"subtle"===e&&(0,n.AH)("&&{color:",t.textDefault,";background:transparent;}@media (hover: hover){&:hover{background:",t.containerNeutral,";}}"))," ",(({variant:e,theme:t})=>"header"===e&&(0,n.AH)("min-width:48px;min-height:48px;color:",t.textMuted,";background:transparent;@media (hover: hover){&:hover{background:",t.alphaBlack10,";color:",t.textDefault,";}}&:focus{box-shadow:none;}"))," ",(({isLoading:e,theme:t})=>e&&(0,n.AH)("&&{color:",t.textMuted,";background:",t.containerEmphasisNeutral,";}"))," ",(({disabled:e,theme:t})=>e&&(0,n.AH)("&&{color:",t.disabledButtonText,";background:",t.disabledButtonBackground,";}")),";")},27362:(e,t,i)=>{"use strict";i.d(t,{A:()=>d,z:()=>p});var n=i(96540),r=i(58820),o=i(86073),s=i(74848);const a=["as","iconType","iconSize","children","disabled","loading","borderRadius","onClick","variant","gap","fullWidth","preventDefault","padding"];const l=16,c=(0,n.forwardRef)(((e,t)=>{let{as:i,iconType:n,iconSize:c=l,children:d,disabled:p=!1,loading:u=!1,borderRadius:h=12,onClick:m,variant:g="primary",gap:x=16,fullWidth:f=!1,preventDefault:v=!1,padding:y="10px 16px"}=e,b=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,a);return(0,s.jsxs)(r.A,Object.assign({as:i,ref:t,disabled:p,isLoading:u,onClick:e=>{v&&e.preventDefault(),m&&m(e)},borderRadius:"string"==typeof h?h:`${h}px`,padding:"string"==typeof y?y:`${y}px`,variant:g,gap:x,fullWidth:f,"aria-label":"string"==typeof d?d:void 0},b,{children:[d,n&&(0,s.jsx)(o.Ay,{type:n,size:c})]}))})),d=c,p=e=>(0,s.jsx)(c,Object.assign({as:"a"},e))},83140:(e,t,i)=>{"use strict";i.d(t,{A:()=>n.A,z:()=>n.z});var n=i(27362)},49106:(e,t,i)=>{"use strict";i.d(t,{UC:()=>v,bL:()=>d,l9:()=>h});var n=i(96540),r=i(83505),o=i(7315),s=i(34743);const a=(0,n.createContext)(void 0);a.displayName="TooltipContext";const l=()=>{const e=(0,n.useContext)(a);if(!e)throw new Error("Component needs to be wrapped in a TooltipContext");return e};var c=i(74848);const d=({children:e,defaultOpen:t})=>{const[i,l]=(0,n.useState)(t),d=(0,n.useRef)(null),{refs:p,floatingStyles:u,context:h}=(0,r.we)({whileElementsMounted:o.ll,open:i,onOpenChange:l,strategy:"absolute",middleware:[(0,s.cY)(12),(0,s.BN)({padding:8}),(0,s.Ej)({apply:({availableWidth:e,elements:t})=>{t.floating.style.maxWidth=e-16+"px"}}),(0,s.UU)(),(0,s.UE)({element:d})]}),m=(0,r.Mk)(h,{delay:{close:150}}),{getReferenceProps:g,getFloatingProps:x}=(0,r.bv)([m]);return(0,c.jsx)(a.Provider,{value:{refs:p,floatingStyles:u,context:h,open:i,getReferenceProps:g,getFloatingProps:x,arrowRef:d},children:e})},p=["children"];const u=(0,n.forwardRef)(((e,t)=>{let{children:i}=e,r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,p);if(n.Children.count(i)>1)throw new Error("Only single element as the trigger");if(!(0,n.isValidElement)(i))throw new Error("Invalid element");return(0,n.cloneElement)(i,Object.assign({},r,i.props,{ref:t}))})),h=e=>{const{refs:t,open:i,getReferenceProps:n}=l(),r=e.asChild?u:"button";return(0,c.jsx)(r,Object.assign({ref:t.setReference},n(),{"data-state":i?"open":"closed"},e))};var m=i(86923),g=i(72977);const x=["children"];const f=(0,m.Ay)("div",{target:"e3ggrw20"})("z-index:",(0,g.fE)(3),";"),v=e=>{let{children:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,x);const{refs:n,open:o,floatingStyles:s,getFloatingProps:a,context:d}=l(),{isMounted:p,styles:u}=(0,r.DL)(d);return o&&p?(0,c.jsx)(f,Object.assign({ref:n.setFloating,style:Object.assign({},s,u)},a(),{"data-state":o?"open":"closed"},i,{children:t})):null}},18166:(e,t,i)=>{"use strict";i.d(t,{P:()=>s,x:()=>a});var n=i(96540),r=i(74848);const o=(0,n.createContext)(void 0);o.displayName="TooltipPlaceContext";const s=()=>{const e=(0,n.useContext)(o);if(!e)throw new Error("Component needs to be wrapped in a TooltipPlaceContext");return e},a=({children:e})=>{const t=(0,n.useRef)(null),[i,s]=(0,n.useState)(null);return(0,n.useEffect)((()=>{s(t.current)}),[]),(0,r.jsxs)(o.Provider,{value:{element:i},children:[(0,r.jsx)("div",{ref:t}),e]})}},6314:(e,t,i)=>{"use strict";i.d(t,{o:()=>n});const n="email@example.com"},79501:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>We});var n=i(71468),r=i(96540),o=i(8375),s=i(37341),a=i(66433),l=i(49651),c=i(74848);function d(e){return e.length>0}class StringAttribute extends r.Component{render(){const{value:e,errorMessage:t,onSubmit:i,onChange:n,placeholder:r,id:o,label:s,saveState:p,multiline:u,disabled:h,isBorderless:m,isReplyType:g,isSubmittable:x,hideErrorMessage:f,ariaLabel:v}=this.props;return(0,c.jsx)(a.A,{value:e,placeholder:r,id:o,label:s,saveState:p,multiline:u,disabled:h,isValid:d,isBorderless:m,isReplyType:g,isNotificationChannel:!1,isSubmittable:x,onSubmit:i,onChange:n,hideErrorMessage:f,validationErrorMessage:t||(0,l.Tl)("string_is_incorrect"),ariaLabel:v||r})}}StringAttribute.defaultProps={isSubmittable:!0,hideErrorMessage:!1};var p=i(48368);function u(e){return!!e.match(/^-?\d+$/)}class IntegerAttribute extends r.Component{render(){const{value:e,errorMessage:t,onSubmit:i,saveState:n,disabled:r,isBorderless:o,isReplyType:s,ariaLabel:d}=this.props;return(0,c.jsx)(a.A,{value:e,placeholder:(0,l.Tl)("type_a_number"),saveState:n,disabled:r,isValid:u,isBorderless:o,isReplyType:s,isNotificationChannel:!1,onSubmit:i,validationErrorMessage:t||(0,l.Tl)("number_is_incorrect"),ariaLabel:d||(0,l.Tl)("type_a_number")})}}function h(e){return!!e.match(/^-?\d+\.\d+$/)}function m(e){return function(e){return!!e.match(/^-?\d+$/)}(e)?`${e}.0`:e}class FloatAttribute extends r.Component{render(){const{value:e,errorMessage:t,onSubmit:i,saveState:n,disabled:r,isBorderless:o,isReplyType:s,ariaLabel:d}=this.props;return(0,c.jsx)(a.A,{value:e,placeholder:(0,l.Tl)("type_a_number"),saveState:n,disabled:r,isValid:h,formatter:m,isBorderless:o,isReplyType:s,isNotificationChannel:!1,onSubmit:i,validationErrorMessage:t||(0,l.Tl)("number_is_incorrect"),ariaLabel:d||(0,l.Tl)("type_a_number")})}}var g=i(91832),x=i(86923);const f=(0,x.Ay)("div",{target:"ehiy7yk2"})({name:"pw7jst",styles:"position:relative;width:100%"}),v=(0,x.Ay)("span",{target:"ehiy7yk1"})({name:"1efi8gv",styles:"font-weight:bold"});var y={name:"rxcvnq",styles:"border-left-width:0;border-top-left-radius:0;border-bottom-left-radius:0"},b={name:"wbysdl",styles:"border-right-width:0"},w={name:"10if9qx",styles:"border-top-right-radius:0;border-bottom-right-radius:0"},j={name:"f0uxs0",styles:"&:hover,&:focus{border-left-width:1px;margin-left:-1px;width:50%;}"};const k=(0,x.Ay)("button",{target:"ehiy7yk0"})("box-sizing:border-box;border:1px solid ",(0,x.w4)("attributeButtonColor"),";color:",(0,x.w4)("attributeButtonColor"),";border-radius:4px;display:inline-block;font-size:14px;padding:12px;text-align:center;width:calc(50% - 1px);&,*{cursor:pointer;}&[disabled]{cursor:not-allowed;}",(({saveState:e,theme:t})=>("saving"===e||"saved"===e)&&(0,x.AH)("border:1px solid ",t.attributeButtonColor,";&,*{cursor:default;}"))," ",(({value:e,theme:t})=>void 0===e&&(0,x.AH)("color:",t.attributeButtonColor,";cursor:pointer;&:hover,&:focus{background-color:",t.attributeButtonHoverColor,";}&:active{background-color:",t.attributeButtonActiveColor,";}"))," ",(({value:e,selected:t})=>void 0===e&&!1===t&&j)," ",(({selected:e})=>!0===e&&w)," ",(({selected:e,value:t})=>!0===e&&void 0!==t&&t!==e&&b)," ",(({selected:e})=>!1===e&&y)," ",(({selected:e,value:t,theme:i})=>e===t&&(0,x.AH)("border-left-width:1px;background-color:",i.attributeButtonColor,";",v.className,"{color:",i.textOnInverse,";}"))," ",(({selected:e,value:t,theme:i})=>void 0!==t&&t!==e&&(0,x.AH)(v.className,"{color:",i.textMuted,";}")),";");class BooleanAttribute extends r.Component{constructor(...e){super(...e),this.state={value:this.props.value}}createHandleSubmit(e){const{saveState:t}=this.props;return"saved"===t||"saving"===t?()=>{}:()=>{this.props.onSubmit(e)}}render(){const{value:e}=this.state,{saveState:t,disabled:i}=this.props;return(0,c.jsxs)("div",{children:[(0,c.jsxs)(f,{children:[(0,c.jsx)(k,{saveState:t,selected:!0,value:e,disabled:i,onClick:this.createHandleSubmit(!0),children:(0,c.jsx)(v,{children:(0,l.Tl)("attribute_collector_positive")})}),(0,c.jsx)(k,{saveState:t,selected:!1,value:e,disabled:i,onClick:this.createHandleSubmit(!1),children:(0,c.jsx)(v,{children:(0,l.Tl)("attribute_collector_negative")})})]}),"failed"===this.props.saveState&&(0,c.jsx)(g.A,{errorMessage:(0,l.Tl)("something_is_wrong")})]})}}var A=i(57170),C=i(86848),S=i(1017),T=i(8198),_=i(64234),E=i(72977),N=i(17485),B=i(73847);const I=(0,x.Ay)("div",{target:"enj4v442"})("position:relative;background:",(0,x.w4)("input"),";&,input{width:100%;height:40px;font-size:14px;line-height:40px;box-sizing:border-box;}input{position:absolute;padding:11px;padding-right:51px;box-sizing:border-box;border:1px solid ",(0,x.w4)("borderEmphasisNeutral"),";border-radius:4px;&[disabled]{cursor:not-allowed;}&::placeholder{color:",(0,x.w4)("textMuted"),";}}",(({saveState:e,theme:t})=>("saved"===e||"saving"===e)&&(0,x.AH)("input{border:1px solid ",t.borderEmphasisNeutral,";}"))," ",(({isInvalid:e,theme:t})=>e&&(0,x.AH)("background-color:",t.containerError,";color:",t.textError,";border-color:",t.borderError,";")),";"),R={name:"1ksbapn",styles:"position:absolute;top:0;right:0;bottom:0;width:40px;border-top-right-radius:3px;border-bottom-right-radius:3px;background-position:center"};var P={name:"6dhm9o",styles:"visibility:hidden"};const z=(0,x.Ay)("button",{target:"enj4v441"})("cursor:pointer;&[disabled]{cursor:not-allowed;}background-color:",(0,x.w4)("appColor"),";box-shadow:0 1px 2px 0 ",(0,x.w4)("elevation2"),";",R,"@media (-ms-high-contrast: active){border:1px solid ",(0,x.w4)("borderNeutral"),";}",(({saveState:e})=>("saved"===e||"saving"===e)&&P),";"),M=(0,x.Ay)("span",{target:"enj4v440"})(R," ",(0,E.op)(N,B,"14px","12px"),";"),O=({value:e,saveState:t,isInvalid:i,isBorderless:n,isReplyType:r,disabled:o,onChange:s,onSubmit:a})=>{const d=()=>o||"saving"===t||"saved"===t,p=()=>"saving"===t;return(0,c.jsxs)(I,{saveState:t,isInvalid:i,children:[(0,c.jsx)("input",{name:"datetime",type:"datetime-local",role:"textbox",disabled:d(),autoFocus:!(n&&r),defaultValue:(e=>{const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}T${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`})(e),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),a())},onChange:e=>{s(e.target.value.trim())},onBlur:_.BW,"aria-label":"date time"}),(0,c.jsx)(M,{}),(0,c.jsx)(z,Object.assign({disabled:d(),onClick:a,saveState:t,"aria-label":p()?(0,l.Tl)("loading"):(0,l.Tl)("submit")},p()?{role:"progressbar"}:{},{children:(0,c.jsx)(T.A,{disabled:d(),loading:p()})}))]})},H=({value:e,saveState:t,isBorderless:i,isReplyType:n,errorMessage:o,disabled:s,onSubmit:a})=>{const[l,d]=(0,r.useState)({value:e||"",isValid:!0}),p=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},u=()=>"failed"===t||!l.isValid;return(0,c.jsxs)("div",{children:[(0,c.jsx)(O,{value:l.value,saveState:t,isInvalid:u(),isBorderless:i,isReplyType:n,disabled:s,onChange:e=>{d({value:e,isValid:!0})},onSubmit:()=>{const{value:e}=l;if(p(e)){const t=new Date(e);a(t.toISOString())}else d({value:e,isValid:!1})}}),u()&&!!o&&(0,c.jsx)(g.A,{errorMessage:o})]})};var D=i(1187);const L=(0,x.Ay)("div",{target:"e11w63we1"})({name:"1gzi742",styles:"margin:0 0 16px;&:last-child{margin:0;}"}),V=(0,x.Ay)("div",{target:"e11w63we0"})({name:"90ttzg",styles:"margin-bottom:5px;font-size:14px;line-height:20px"});var F=i(1200),q=i(79986),G=i(42910),U=i(86073),$=i(30998);const W=(0,x.Ay)("div",{target:"ed4y61j5"})("position:relative;background:",(0,x.w4)("input"),";cursor:pointer;&,label{width:100%;height:40px;font-size:14px;line-height:40px;box-sizing:border-box;}label{position:absolute;padding:11px 5px;box-sizing:border-box;border:1px solid ",(0,x.w4)("borderEmphasisNeutral"),";border-radius:4px;&[disabled]{cursor:not-allowed;}}",(({saveState:e,theme:t})=>("saved"===e||"saving"===e)&&(0,x.AH)("input,label{border:1px solid ",t.borderEmphasisNeutral,";}"))," ",(({isInvalid:e,theme:t})=>e&&(0,x.AH)("input,label{background-color:",t.containerError,";color:",t.textError,";border-color:",t.borderError,";}")),";"),K={name:"1ksbapn",styles:"position:absolute;top:0;right:0;bottom:0;width:40px;border-top-right-radius:3px;border-bottom-right-radius:3px;background-position:center"};var Y={name:"6dhm9o",styles:"visibility:hidden"};const X=(0,x.Ay)("button",{target:"ed4y61j4"})("cursor:pointer;&[disabled]{cursor:not-allowed;}background-color:",(0,x.w4)("appColor"),";box-shadow:0 1px 2px 0 ",(0,x.w4)("elevation2"),";",K,"@media (-ms-high-contrast: active){border:1px solid ",(0,x.w4)("borderNeutral"),";}",(({saveState:e})=>"saved"===e&&Y),";");var J={name:"6dhm9o",styles:"visibility:hidden"};const Z=(0,x.Ay)("div",{target:"ed4y61j3"})("width:100%;height:40px;font-size:14px;line-height:40px;box-sizing:border-box;position:absolute;padding:0 35px;color:",(0,x.w4)("textMuted"),";top:0;cursor:pointer;",(({hidden:e})=>e&&J),";"),Q=(0,x.Ay)("span",{target:"ed4y61j2"})(K," ",(0,E.op)(N,B,"14px","12px"),";"),ee=(0,x.Ay)("div",{target:"ed4y61j1"})("cursor:pointer;position:absolute;left:13px;",$.I.className,"{svg{path{fill:",(({theme:e})=>e.iconDefault),";}circle{stroke:",(({theme:e})=>e.iconDefault),";}}}"),te=(0,x.Ay)("div",{target:"ed4y61j0"})("margin-left:6px;font-size:14px;line-height:20px;padding:0 30px;font-weight:400;font-family:",(0,x.w4)("fontSansSerif"),";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;");var ie=i(71844),ne=i(5351);const re="idle",oe="uploading",se="failed",ae=(e,t)=>{switch(t.type){case"UPLOAD_START":return Object.assign({},e,{status:oe,errorMessage:null,upload:{name:t.payload.name,id:void 0}});case"UPLOAD_SUCCESS":return Object.assign({},e,{status:"uploaded",upload:Object.assign({},e.upload,{id:t.payload.id})});case"UPLOAD_FAILURE":return Object.assign({},e,{status:se,errorMessage:t.payload.errorMessage});case"RESET_UPLOAD":return{status:re,errorMessage:null,upload:null};default:return e}},le=({onSubmit:e,ariaLabel:t,value:i,saveState:n,placeholder:o,disabled:s,identifier:a})=>{var d,p,u,h;const m=(0,q.GV)((e=>e.session)),x=(0,ne.A)(),[f,v]=(0,r.useReducer)(ae,{status:re,errorMessage:null,upload:{name:null==i||null==(d=i[0])?void 0:d.name,id:null==i||null==(p=i[0])?void 0:p.id}}),y=(0,r.useMemo)((()=>"saving"===n||f.status===oe),[n,f.status]),b=(0,r.useMemo)((()=>s||"saved"===n||"saving"===n||f.status===oe),[n,s,f.status]),w=(0,r.useMemo)((()=>"failed"===n||f.status===se),[n,f.status]),j=Object.assign({"aria-label":y?(0,l.Tl)("loading"):(0,l.Tl)("submit")},y?{role:"progressbar"}:{});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(W,{isInvalid:w,saveState:n,children:(0,c.jsxs)("label",{htmlFor:a,children:[(0,c.jsx)("input",{type:"file",id:a,onChange:e=>{const t=e.target,i=t.files;null!=i&&i.length>0&&(v({type:"UPLOAD_START",payload:{name:i[0].name}}),(0,F.oT)(G.Ay,m,i[0]).then((e=>{void 0!==(null==e?void 0:e.id)&&(v({type:"UPLOAD_SUCCESS",payload:{id:e.id}}),t.value="")})).catch((async e=>{var t;const i=JSON.parse(e),n=(null==i||null==(t=i.errors)||null==(t=t[0])?void 0:t.message)||(0,l.Tl)("something_is_wrong");v({type:"UPLOAD_FAILURE",payload:{errorMessage:n}})})))},"aria-label":t,disabled:b,multiple:!1,required:!0,"data-testid":"file-upload-input",style:{display:"none"}}),(0,c.jsxs)("div",{children:[(0,c.jsx)(ee,{children:(0,c.jsx)(U.Ay,{type:"Attachment",size:16})}),(0,c.jsx)(Z,{hidden:!(null==(u=f.upload)||!u.name),children:(0,c.jsx)("span",{children:o})}),(null==(h=f.upload)?void 0:h.name)&&(0,c.jsx)(te,{children:f.upload.name}),(0,c.jsx)(Q,{"data-testid":"success-icon"}),(0,c.jsxs)(X,Object.assign({disabled:b,onClick:()=>{var t,i;void 0!==(null==(t=f.upload)?void 0:t.id)&&e([null==(i=f.upload)?void 0:i.id])},saveState:n},j,{children:[(0,c.jsx)(T.A,{disabled:b,loading:y}),y?(()=>{const{isPrimaryColorAsTheme:e}=x||{},t=e?"defaultColor":"inverseColor";return(0,c.jsx)(ie.A,{color:t,size:"small"})})():null]}))]})]})}),w&&(0,c.jsx)(g.A,{errorMessage:f.errorMessage?f.errorMessage:(0,l.Tl)("something_is_wrong")})]})},ce=r.memo(le);class AttributeCollectorCardAttribute extends r.Component{constructor(...e){super(...e),this.handleSubmit=e=>{const{identifier:t,onSubmit:i}=this.props;i(t,e)},this.handleArraySubmit=e=>{this.handleSubmit(e.text)}}fitsButtonGroupLayout(e){const t=e.length,i=Math.floor(18/t);return t<=4&&e.every((e=>e.length<=i))}renderAttribute(){const{name:e,type:t,identifier:i,value:n,multiline:r,options:o,saveState:s,errorCode:a,defaultCountryCode:l,isBorderless:d,isReplyType:u,disabled:h}=this.props,m=n?String(n):void 0;return"email"===i?(0,c.jsx)(p.A,{disabled:h,value:m,saveState:s,isBorderless:d,isReplyType:u,isNotificationChannel:!1,onSubmit:this.handleSubmit}):"phone"===i?(0,c.jsx)(S.A,{disabled:h,value:m,saveState:s,errorCode:a,defaultCountryCode:l,isBorderless:d,isReplyType:u,isNotificationChannel:!1,onSubmit:this.handleSubmit},m):"string"===t&&Array.isArray(o)?this.renderArrayAttribute(o,m):"string"===t?(0,c.jsx)(StringAttribute,{disabled:h,value:m,multiline:r,saveState:s,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit,ariaLabel:e}):"integer"===t?(0,c.jsx)(IntegerAttribute,{disabled:h,value:m,saveState:s,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit,ariaLabel:e}):"float"===t?(0,c.jsx)(FloatAttribute,{disabled:h,value:m,saveState:s,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit,ariaLabel:e}):"datetime"===t?(0,c.jsx)(H,{disabled:h,value:m,saveState:s,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit}):"boolean"!==t||"boolean"!=typeof n&&void 0!==n?"files"===t?(0,c.jsx)(ce,{placeholder:"Add file",saveState:s,onSubmit:this.handleSubmit,ariaLabel:e,identifier:i,value:n},t):null:(0,c.jsx)(BooleanAttribute,{disabled:h,value:n,saveState:s,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit},JSON.stringify(n))}renderArrayAttribute(e,t){const{saveState:i,disabled:n}=this.props,r=t?{id:t,text:t}:null,o=e.map((e=>({id:e,text:e})));return this.fitsButtonGroupLayout(e)?(0,c.jsx)(C.A,{disabled:n,value:r,options:o,saveState:i,onChange:this.handleArraySubmit},(0,D.A)(JSON.stringify(r))):(0,c.jsx)(A.A,{disabled:n,value:r,options:o,saveState:i,autoFocus:!0,onChange:this.handleArraySubmit})}render(){const{name:e,number:t}=this.props;return(0,c.jsxs)(L,{children:[(0,c.jsx)(V,{children:void 0!==t?`${t}. ${e}`:e}),this.renderAttribute()]})}}const de=x.i7`
  0% {
    opacity: 0;
  }
  70% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,pe=(0,x.Ay)("div",{target:"e71tctg8"})({name:"9wh3ns",styles:"position:absolute;/* @noflip */left:0;bottom:10px"}),ue=(0,x.Ay)("div",{target:"e71tctg7"})("position:absolute;right:0;top:0;color:",(0,x.w4)("textMuted"),";font-size:14px;line-height:20px;"),he=(0,x.Ay)("div",{target:"e71tctg6"})("position:relative;padding:26px 24px 24px;/* @noflip */margin-left:45px;text-align:left;background-color:",(0,x.w4)("containerBaseNeutral"),";border-radius:5px;color:",(0,x.w4)("textDefault"),";",E.HF," ",(({useNewConversationStyle:e,theme:t})=>e&&(0,x.AH)("margin-left:0;margin-bottom:4px;box-shadow:none;border-radius:20px;border:1px solid ",t.borderEmphasisNeutral,";background:",t.alphaWhite90,";")),";"),me=(0,x.Ay)("div",{target:"e71tctg5"})({name:"1azpx8r",styles:"margin-bottom:20px"}),ge=(0,x.Ay)("div",{target:"e71tctg4"})({name:"bjn8wh",styles:"position:relative"}),xe=(0,x.Ay)("div",{target:"e71tctg3"})("color:",(0,x.w4)("textDisabled"),";font-size:14px;text-align:center;border-top:1px solid ",(0,x.w4)("borderEmphasisNeutral"),";padding-top:16px;"),fe=(0,x.Ay)("h2",{target:"e71tctg2"})("color:",(0,x.w4)("textDefault"),";font-weight:600;font-size:16px;"),ve=(0,x.Ay)("h3",{target:"e71tctg1"})("color:",(0,x.w4)("textMuted"),";font-size:14px;margin-top:8px;");var ye={name:"6sug3x",styles:"margin-top:3px"};const be=(0,x.Ay)("div",{target:"e71tctg0"})("margin-top:8px;margin-bottom:8px;width:100%;max-width:520px;position:relative;/* @noflip */float:left;",(({theme:e,isBorderless:t})=>t&&(0,x.AH)("min-height:57px;",he.className,"{box-shadow:",e.shadowXSmall,";border-color:",e.borderNeutral,";}"))," ",(({isReplyType:e})=>e&&ye)," ",(({theme:e,isReplyType:t})=>e.isMobileBrowser&&t&&(0,x.AH)(he.className,"{/* @noflip */margin-left:0;}"))," ",(({isBorderless:e,isReplyType:t})=>e&&t&&(0,x.AH)("animation:",de," 750ms ease;",he.className,"{padding:0;}",L.className,"{margin:0;height:52px;}",V.className,"{display:none;}")),";");var we={name:"hkh81z",styles:"margin-top:8px"};const je=(0,x.Ay)("div",{target:"e1jqii293"})("display:flex;flex-direction:row;align-items:center;margin-bottom:8px;",(({hasAvatar:e})=>!e&&we)," .ai-tooltip{margin-left:auto;}"),ke=(0,x.Ay)("span",{target:"e1jqii292"})("color:",(0,x.w4)("textDefault"),";font-size:13px;font-style:normal;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;",(({systemPart:e,theme:t})=>e&&(0,x.AH)("color:",t.textMuted,";")),";"),Ae=(0,x.Ay)("span",{target:"e1jqii291"})("color:",(0,x.w4)("textDefault"),";font-size:13px;font-style:normal;font-weight:600;flex-shrink:0;white-space:pre;",(({systemPart:e,theme:t})=>e&&(0,x.AH)("color:",t.textMuted,";")),";"),Ce=(0,x.Ay)("div",{target:"e1jqii290"})({name:"1oaeivz",styles:"margin-right:8px"});var Se=i(55073);const Te={name:"1dk0v5d",styles:"z-index:2"},_e={name:"1v771ry",styles:"z-index:3"},Ee=(e,t,i)=>{switch(t){case 2:switch(e){case 0:return Te;case 1:return(({theme:e})=>(0,x.AH)("margin-left:-2px;mask:radial-gradient(\n    circle 10px at -7px 50%,\n    transparent 99%,\n    ",e.containerBaseNeutral," 100%\n  );z-index:1;"))({theme:i});default:return""}case 3:switch(e){case 0:return _e;case 1:return(({theme:e})=>(0,x.AH)("margin-left:-2px;mask:radial-gradient(\n    circle 10px at -7px 50%,\n    transparent 99%,\n    ",e.containerBaseNeutral," 100%\n  );z-index:2;"))({theme:i});case 2:return(({theme:e})=>(0,x.AH)("margin-left:-2px;mask:radial-gradient(\n    circle 10px at -7px 50%,\n    transparent 99%,\n    ",e.containerBaseNeutral," 100%\n  );z-index:1;"))({theme:i});default:return""}default:return""}},Ne=({index:e,numOfAvatars:t,theme:i})=>(0,x.AH)(Ee(e,t,i),";"),Be=(0,x.Ay)("div",{target:"e1nvaxcc1"})(Ne,";"),Ie=(0,x.Ay)("div",{target:"e1nvaxcc0"})({name:"646eli",styles:"display:inline-flex;border-radius:4px"}),Re=({avatar:e})=>{const t=(null==e?void 0:e.shape)||"circle",i="circle"===t?24:20,n={imageUrl:"dark"===(0,ne.A)().themeMode?(null==e?void 0:e.darkSquare128)||(null==e?void 0:e.square128):(null==e?void 0:e.square128)||(null==e?void 0:e.imageUrl),initials:null==e?void 0:e.initials,label:null==e?void 0:e.label,shape:t,size:i};return(0,c.jsx)(Se.e,Object.assign({},n))},Pe=({avatar:e,index:t,numOfAdmins:i})=>{const n={imageUrl:"dark"===(0,ne.A)().themeMode?(null==e?void 0:e.darkSquare128)||(null==e?void 0:e.square128):(null==e?void 0:e.square128)||(null==e?void 0:e.imageUrl),initials:null==e?void 0:e.initials,label:null==e?void 0:e.label,shape:(null==e?void 0:e.shape)||"circle",size:20};return(0,c.jsx)(Be,{index:t,numOfAvatars:i,children:(0,c.jsx)(Se.e,Object.assign({},n))})},ze=({avatars:e})=>1===e.length?(0,c.jsx)(Re,{avatar:e[0]}):e.length>1?(0,c.jsx)(Ie,{children:e.map(((t,i)=>(0,c.jsx)(Pe,{avatar:t,index:i,numOfAdmins:e.length},t.imageUrl||t.label)))}):null;var Me=i(65318),Oe=i(29500),He=i(75285),De=i(87477);const Le=({part:e,isBorderless:t=!1,isAIAnswer:i=!1})=>{var n;const{metadata:r}=e,o=(0,Me.vz)(e),s=(null==r?void 0:r.title)||"",a=`${null!=r&&r.suffix?` • ${r.suffix}`:""}${null!=r&&r.timestamp?` • ${(0,Oe.iw)((0,He.kU)(r.timestamp))}`:""}`;return null==r||!r.title||t?null:(0,c.jsxs)(je,{hasAvatar:!(null==r||null==(n=r.avatars)||!n.length),children:[r.avatars?(0,c.jsx)(Ce,{children:(0,c.jsx)(ze,{avatars:r.avatars})}):null,(0,c.jsx)(ke,{systemPart:o,children:s}),(0,c.jsx)(Ae,{systemPart:o,children:a}),i&&(0,c.jsx)(De.A,{triggerClassName:"ai-tooltip"})]})};function Ve(e){const{form:t}=e;return t?t.attributes.reduce(((e,{identifier:t,saveState:i})=>Object.assign({},e,{[t]:i})),{}):{}}function Fe(e){return Object.keys(e).length}function qe(e){return Object.keys(e).filter((t=>"saved"===e[t]||"failed"===e[t])).length}class AttributeCollectorCard extends r.Component{constructor(...e){super(...e),this.node=void 0,this.renderAttribute=(e,t)=>{const{isBorderless:i,isReplyType:n,defaultCountryCode:r,onAttributeSubmit:o,disabled:s,hideNumbering:a}=this.props,l=Ve(this.props.part);if(t>qe(l))return null;const{type:d,name:p,identifier:u,options:h,value:m,saveState:g,errorCode:x,multiline:f}=e;let v;return Fe(l)>1&&!a&&(v=`${t+1}`),(0,c.jsx)(AttributeCollectorCardAttribute,{type:d,name:p,identifier:u,value:m,multiline:f,number:v,options:h,disabled:s,saveState:g,errorCode:x,defaultCountryCode:r,isBorderless:i,isReplyType:n,onSubmit:o},u)}}componentDidMount(){const{part:e,conversationId:t}=this.props,{form:i}=e;i&&i.attributes.forEach((({identifier:e})=>{"email"===e&&this.props.onEmailAttributeMount(t)}))}componentDidUpdate(e){const t=Ve(e.part),i=Ve(this.props.part);qe(t)!==qe(i)&&function(e){if(!e)return;const t=e.closest(".intercom-conversation-body-parts");t&&(0,o.cs)(t)}(this.node)}renderAvatar(){return(0,c.jsx)(pe,{children:(0,c.jsx)(s.h,{author:this.props.part.author})})}renderForm(){const{form:e}=this.props.part;return e?e.attributes.map(this.renderAttribute):null}renderDisabledMessage(){const{disabled:e,disabledMessage:t}=this.props;return e&&t?(0,c.jsx)(xe,{children:t}):null}renderHeader(){const{form:e}=this.props.part;if(!e)return null;const t=e.title&&e.title.length>0,i=e.subtitle&&e.subtitle.length>0;return t?(0,c.jsxs)(me,{children:[t?(0,c.jsx)(fe,{children:e.title}):null,i?(0,c.jsx)(ve,{children:e.subtitle}):null]}):null}renderMetadataTitle(){const{part:e,isBorderless:t}=this.props;return e.metadata?(0,c.jsx)(Le,{part:e,isBorderless:t}):null}renderPosition(){const e=Ve(this.props.part),t=Fe(e);if(1===t)return null;const i=Math.min(t,qe(e)+1);return(0,c.jsxs)(ue,{children:["(",i,"/",t,")"]})}render(){const{isBorderless:e,isReplyType:t,useNewConversationStyle:i}=this.props;return(0,c.jsxs)(be,{isBorderless:e,isReplyType:t,ref:e=>this.node=e,children:[this.props.hasAvatar?this.renderAvatar():null,this.renderMetadataTitle(),(0,c.jsxs)(he,{useNewConversationStyle:i,children:[this.renderHeader(),(0,c.jsxs)(ge,{children:[this.renderPosition(),this.renderForm(),this.renderDisabledMessage()]})]})]})}}var Ge=i(79751),Ue=i(90933),$e=i(97899);const We=(0,n.Ng)(((e,t)=>{const{part:i}=t,n=(0,$e.Vy)(e)||e.message.conversationId,{id:r}=i;return{conversationId:n,partId:r,defaultCountryCode:e.user.countryCode||"us"}}),(e=>({onAttributeSubmit(t,i,n,r,o,s){e((0,F.DX)(G.Ay,t,i,n,r,o,s,(0,Ue.S9)({identifier:n})))},onEmailAttributeMount(t){e((0,Ge.Mv)(t))}})),((e,t,i)=>Object.assign({},e,t,i,{onAttributeSubmit(n,r){t.onAttributeSubmit(e.conversationId,e.partId,n,r,(0,Ue.MF)(i.part.form,n),i.part.form.type)}})))(AttributeCollectorCard)},77047:(e,t,i)=>{"use strict";i.d(t,{A:()=>Yi});var n=i(71468),r=i(81323),o=i(90933),s=i(96540),a=i(183),l=i(65772),c=i(99410),d=i(26731),p=i(64845),u=i(69830),h=i(13336),m=i(74848);class PostCard extends s.Component{constructor(...e){super(...e),this.state={isTruncated:!1},this.node=void 0,this.handleClick=()=>{(0,u.A5)("viewed","post","messenger","from_card",{conversation_id:this.props.conversationId}),this.props.onOpen(this.props.conversationId,this.props.part.id)},this.handleClose=()=>{this.props.onClose()},this.handleComposerClick=()=>{this.handleClose()}}componentDidMount(){this.handleResize()}handleResize(){const{node:e}=this;if(!e)return;const{scrollHeight:t,clientHeight:i}=e;this.setState({isTruncated:t>i})}renderPostContent(){const{part:e,appName:t,reactionsReply:i,onReactionSelect:n,frameWindow:r,isUpfrontEmailComposerShowing:o}=this.props;return(0,m.jsx)(l.A,{message:e,appName:t,reactionsReply:i,onReactionSelect:n,onComposerClick:this.handleComposerClick,onClose:this.handleClose,frameWindow:r,isUpfrontEmailComposerShowing:o,returnFocus:this.node&&this.node.focus.bind(this.node)})}renderPostBody(){const{part:e,appName:t,frameWindow:i,isOpen:n}=this.props,{author:r,body:o}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.A,{appName:t,author:r,forceShowAppName:!0,children:(0,m.jsx)(h.C,{children:(0,m.jsx)(d.A,{blocks:o,frameWindow:i})})}),n?this.renderPostContent():null]})}render(){const{isOpen:e,noShadow:t}=this.props;return(0,m.jsx)(p.A,{noPadding:!0,noShadow:t,className:"intercom-post-card",onClick:e?void 0:this.handleClick,ref:e=>this.node=e,tabIndex:e?void 0:0,isEntireCardClickable:!0,"data-testid":"post-card",children:(0,m.jsx)(h.s,{isTruncated:!0,children:this.renderPostBody()})})}}var g=i(52762);const x=(0,n.Ng)(((e,t)=>{const i=!(!e.message.conversationId||!e.message.partId||null!=t&&t.isBorderless),{upfrontEmailCollectorShowing:n}=e.app.upfrontEmailCollection;return{isOpen:i,isUpfrontEmailComposerShowing:n}}),(e=>({onOpen:(t,i)=>{e((0,g.G4)(t,i))},onClose:()=>{e((0,g.Y6)())}})),((e,t,i)=>Object.assign({},e,t,i,{onOpen:(e,i)=>{t.onOpen(e,i)},onClose:()=>{t.onClose()}})))(PostCard);var f=i(26690);const v=({appName:e,part:t,frameWindow:i})=>{const{author:n,body:r}=t;return(0,m.jsx)(c.A,{appName:e,isReplyStyle:!1,author:n,children:(0,m.jsx)(f.g,{children:(0,m.jsx)(d.A,{blocks:r,zoomable:!0,frameWindow:i})})})},y=e=>(0,m.jsx)(p.A,{as:f.P,className:"intercom-note-card",noPadding:!0,isEntireCardClickable:!0,children:(0,m.jsx)(v,Object.assign({},e))});var b=i(19386),w=i(37341),j=i(49651),k=i(90188),A=i(32764),C=i(86073),S=i(93656),T=i(38762),_=i(3356);class ArticleCard extends s.Component{constructor(...e){super(...e),this.linkRef=null,this.createHandleClick=e=>t=>{const i=t.ctrlKey||t.shiftKey||t.metaKey;if(!(!e.articleId||e.url&&i)){t.preventDefault();try{this.props.onArticleCardClick(e.articleId)}catch(t){(0,_.bB)(e.url)}}},this.renderLinkCardFooter=e=>(0,m.jsxs)("div",{children:[e.description&&(0,m.jsx)(A.jM,{children:e.description}),e.author&&e.author.name&&this.renderAuthor(this.buildAuthor(e.author))]}),this.renderLink=(e,t)=>{const i=this.isSingleLink();return"educate.help_center"===e.linkType?(0,m.jsx)("a",{href:e.url,rel:"nofollow noreferrer noopener",target:"_blank",children:(0,m.jsx)(T.A,{note:i?e.description:void 0,hoverBackground:!i,children:this.renderLinkCardTitle(e)},t)}):(0,m.jsx)(T.A,{fullBleedCard:!0,note:i?e.description:void 0,rightIcon:i?void 0:"RightChevronColorable",rightIconColor:"linkColor",hoverBackground:!i,onClick:this.createHandleClick(e),children:(0,m.jsx)("strong",{children:e.title})},t)}}isSingleLink(){var e;return 1===(null==(e=this.props.part)?void 0:e.body.length)}buildAuthor(e){return{avatar:{square128:e.avatar},name:e.name,firstName:e.firstName||e.name}}renderAuthor(e){return(0,m.jsxs)(A.Ow,{children:[(0,m.jsx)(A.d_,{children:(0,m.jsx)(w.h,{author:e,size:this.props.part.isMessage?24:16})}),(0,m.jsxs)(A.me,{children:[`${(0,j.Tl)("written_by")} `,(0,m.jsx)(A.Ff,{children:e.name})]})]})}renderLinkCardTitle(e){return(0,m.jsx)(A.zS,{type:e.linkType,children:"educate.help_center"===e.linkType?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(A.IC,{children:(0,m.jsx)(C.Ay,{size:16,type:"ExternalLink"})}),(0,m.jsx)("span",{children:e.title})]}):e.title})}renderLinkCards(){const{part:{body:e}}=this.props;if(this.isSingleLink()){const t=e[0];return this.renderLink(t)}return(0,m.jsx)(S.A,{children:e.map(((e,t)=>this.renderLink(e,t)))})}render(){const{hasAvatar:e,isBorderless:t,isInline:i,part:{isMessage:n,author:r}}=this.props;return(0,m.jsxs)(A.sH,{isInline:i,isBorderless:t,isMessage:n,children:[!n&&e&&(0,m.jsx)(A.Xi,{children:(0,m.jsx)(w.h,{author:r})}),n&&(0,m.jsx)(A.yB,{children:(0,j.Tl)("asked_about")}),(0,m.jsx)(p.A,{noPadding:!0,isEntireCardClickable:this.isSingleLink(),children:this.renderLinkCards()})]})}}ArticleCard.contextType=k.D,ArticleCard.defaultProps={isInline:!1,hasAvatar:!0,isBorderless:!1};var E=i(57296);const N=(0,n.Ng)(void 0,(e=>({onArticleCardClick(t){e((0,E.n$)(t,{}))}})))(ArticleCard);var B=i(5556),I=i.n(B),R=i(42910);const P=e=>"visitor"===e||"lead"===e,z=e=>void 0===e||""===e,M=(e,t)=>P(e)&&!z(t),O=(e,t)=>P(e)&&!z(t),H=e=>e?"email":"email_collector";var D=i(2404),L=i.n(D),V=i(61353),F=i(8375),q=i(56213),G=i(64234),U=i(58708),$=i(91832);class NotificationChannelsInput extends s.Component{constructor(...e){super(...e),this.state={value:this.props.initialValue,valueChanged:!1,showErrorMessage:!1,prevProps:this.props},this.handleFocus=e=>{if((0,q.rr)())this.focusTimeout=setTimeout((()=>{if(!this.node)return;const e=this.node.closest(".intercom-conversation-body-parts");(0,F.o2)(this.node,e)}),1e3);else{const t=e.target.value;e.target.value="",e.target.value=t}},this.handleKeyDown=e=>{(e=>"Enter"===e.key&&!(e.altKey||e.shiftKey))(e)&&(this.handleSubmit(),e.preventDefault())},this.handleKeyUp=()=>{this.props.onInputChange()},this.handleSubmitButtonClick=e=>{this.isDisabled()||(e.preventDefault(),this.handleSubmit())},this.handleSubmit=()=>{const{value:e}=this.state,{isValid:t,onSubmit:i}=this.props;t(e)?(i(e),this.notificationChannelsInput.blur(),this.setState({showErrorMessage:!1})):this.setState({showErrorMessage:!0})},this.handleInputChange=e=>{const{value:t}=e.target;this.setState({value:t,showErrorMessage:!1}),this.state.valueChanged||this.setState({valueChanged:this.valueHasChanged()})},this.handleInputClick=()=>{this.notificationChannelsInput.focus()}}componentWillUnmount(){clearTimeout(this.focusTimeout)}static getDerivedStateFromProps(e,t){if(!t||L()(e,t.prevProps))return null;const{name:i,isSaving:n,hasExistingChannel:r,initialValue:o}=e,s=i===t.prevProps.name?t.value:o;return n||r?{prevProps:e}:{value:s,prevProps:e,valueChanged:!1,showErrorMessage:!1}}valueHasChanged(){return this.state.value!==this.props.initialValue}valueIsEmpty(){return""===this.state.value}isPhone(){return"phone"===this.props.name}shouldShowPlaceholder(){return this.state.valueChanged?this.valueIsEmpty():this.valueIsEmpty()||!this.valueHasChanged()}isDisabled(){return this.props.isSaving||this.props.channelProvided}getInputType(){switch(this.props.name){case"phone":default:return"text";case"email":return"email"}}getErrorMessage(){switch(this.props.name){case"phone":const e=(0,V.E2)(this.state.value);return e?(0,j.Tl)(e):this.props.errorMessage;case"email":return(0,j.Tl)("that_email_address_doesnt_look_quite_right");default:return"That value doesn't look quite right"}}showErrorMessage(){return this.state.showErrorMessage||this.props.showErrorMessage}renderFlag(){const e=(0,V.J3)(this.state.value),t=e?e.code:this.props.initialCountryCode;return(0,m.jsx)(U.Yh,{countryCode:t,"data-testid":`notification-channel-flag-${t}`})}renderPlaceholder(){const{initialValue:e,placeholder:t}=this.props,i=this.valueIsEmpty()?{}:{visibility:"hidden"};return(0,m.jsxs)(U.WO,{isPhone:this.isPhone(),children:[(0,m.jsx)("span",{style:i,children:e}),t]})}render(){return(0,m.jsxs)("div",{onClick:this.handleInputClick,ref:e=>this.node=e,onKeyDown:e=>(13===e.keyCode||32===e.keyCode)&&this.handleInputClick(e),role:"button",tabIndex:"0",children:[(0,m.jsxs)(U.Oz,{children:[(0,m.jsxs)(U.TX,{isPhone:this.isPhone(),hasError:this.showErrorMessage(),isSuccessful:!!this.props.channelProvided,children:[this.isPhone()?this.renderFlag():null,this.shouldShowPlaceholder()?this.renderPlaceholder():null,(0,m.jsx)("input",{autoFocus:!0,ref:e=>this.notificationChannelsInput=e,type:this.getInputType(),name:"intercom-channel-collector",disabled:this.isDisabled(),value:this.state.value,autoComplete:"off",onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleInputChange,onBlur:G.BW,"aria-label":this.props.ariaLabel})]}),(0,m.jsx)(U.o8,{hasChannel:!!this.props.channelProvided,children:(0,m.jsxs)(U.bR,{onTouchEnd:this.handleSubmitButtonClick,onClick:this.handleSubmitButtonClick,isDisabled:this.isDisabled(),hasChannel:!!this.props.channelProvided,"aria-label":"Submit",children:[(0,m.jsx)(U.Sm,{}),(0,m.jsx)(U.ok,{})]})})]}),this.showErrorMessage()&&(0,m.jsx)($.A,{errorMessage:this.getErrorMessage()})]})}}NotificationChannelsInput.defaultProps={initialValue:"",isSaving:!1,initialCountryCode:"us"},NotificationChannelsInput.propTypes={name:I().oneOf(["phone","email"]).isRequired,initialValue:I().string,placeholder:I().string.isRequired,showErrorMessage:I().bool.isRequired,errorMessage:I().string,ariaLabel:I().string,initialCountryCode:I().string,isSaving:I().bool,channelProvided:I().bool.isRequired,isValid:I().func.isRequired,onSubmit:I().func.isRequired,onInputChange:I().func.isRequired,hasExistingChannel:I().bool};var W=i(6314),K=i(36667);const Y=(e,t,i)=>(0,m.jsx)(U.iW,{isSelected:t,onClick:i,children:(0,j.Tl)(e)}),X=({userCountryCode:e,isSaving:t,showErrorMessage:i,errorMessage:n,channelProvided:r,smsEnabled:o,showEmailCollector:s,showPhoneNumberCollector:a,hasExistingChannelValue:l,existingChannelText:c,existingChannelValue:d,title:p,nextPart:u,isBorderless:h,onEmailClick:g,onSmsClick:x,onEmailCollectorSubmit:f,onPhoneNumberCollectorSubmit:v,onInputChange:y})=>{const b=!!u,w=b&&(null==u?void 0:u.author.isAdmin),j=(0,m.jsx)(NotificationChannelsInput,{name:"phone",initialValue:(0,V.xI)(e),placeholder:" 123 456 7890",initialCountryCode:e,isSaving:t,showErrorMessage:i,errorMessage:n,channelProvided:r,isValid:V.fn,onSubmit:v,onInputChange:y}),k=(0,m.jsx)(NotificationChannelsInput,{name:"email",ariaLabel:"Enter your email",placeholder:W.o,isSaving:t,showErrorMessage:i,errorMessage:n,channelProvided:r,isValid:K.B,onSubmit:f,onInputChange:y}),A=s?k:a?j:void 0,C=Y("email",s,g),S=Y("sms",a,x),T=(0,m.jsxs)(U.z1,{children:[C,o?S:null]}),_=(0,m.jsxs)("div",{children:[(0,m.jsxs)(U.W6,{children:[(0,m.jsx)(U.$w,{isSuccessful:!1,children:p}),(0,m.jsx)(U.S_,{children:c})]}),o?T:null,A]}),E=(0,m.jsx)(U.Rd,{children:d}),N=(0,m.jsxs)("div",{children:[(0,m.jsx)(U.$w,{isSuccessful:!0,children:c}),E]});return(0,m.jsx)(U.PT,{isBorderless:h||!1,nextPartByAdmin:!!w,lastPart:!b,isSuccessful:l&&r,children:l&&r?N:_})},J=["conversationId","userRole","userSuppliedEmail","phoneNumber","smsEnabled","onEmailCollectorSubmit","onPhoneNumberCollectorSubmit","onInputChange"];const Z=e=>{let{conversationId:t,userRole:i,userSuppliedEmail:n,phoneNumber:r,smsEnabled:o,onEmailCollectorSubmit:a,onPhoneNumberCollectorSubmit:l,onInputChange:c}=e,d=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,J);const[p,h]=(0,s.useState)(!0),[g,x]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),{addNotificationChannelShownMetric:y,addNotificationChannelMetricByAction:b,recordChannelMetrics:w}=(e=>{const t=(0,s.useCallback)(((t,i)=>{(0,u.A5)(t,`notification_channel_${i}`,"messenger","in_conversation",{conversation_id:e})}),[e]),i=(0,s.useCallback)((e=>{t("received",e)}),[t]),n=(0,s.useCallback)(((e,i)=>{t(e,i)}),[t]),r=(0,s.useCallback)((e=>{i("options"),i("email"),e&&i("sms")}),[i]);return{addNotificationChannelShownMetric:i,addNotificationChannelMetricByAction:n,recordChannelMetrics:r}})(t),k=(0,s.useMemo)((()=>((e,t,i)=>{const n=M(e,t),r=O(e,i);return n||r})(i||"visitor",n,r)),[i,n,r]),A=(0,s.useCallback)((()=>{if(o&&!k)w(o);else if(!o&&!k){const e=H(o);y(e)}}),[o,k,w,y]);(0,s.useEffect)((()=>{A()}),[A]),(0,s.useEffect)((()=>{k&&!f&&v(!0)}),[k,f]);const C=(0,s.useCallback)((()=>{b("started","email"),h(!0),x(!1),c()}),[b,c]),S=(0,s.useCallback)((()=>{b("started","sms"),h(!1),x(!0),c()}),[b,c]),T=(0,s.useCallback)((e=>{const t=H(o);b("completed",t),a(e)}),[b,o,a]),_=(0,s.useCallback)((e=>{b("completed","sms"),l(e)}),[b,l]),E=(0,s.useMemo)((()=>((e,t,i)=>{const n=O(e,i);return M(e,t)?"youll_be_notified_here_and_by_email":n?"youll_be_notified_here_and_by_sms":void 0})(i||"visitor",n,r)),[i,n,r]),N=(0,s.useMemo)((()=>((e,t,i)=>{const n=O(e,i);return M(e,t)?t:n?i:void 0})(i||"visitor",n,r)),[i,n,r]),B=(0,s.useMemo)((()=>(e=>e?"get_notified":"get_notified_by_email")(o)),[o]),I=E?(0,j.Tl)(E):void 0,R=(0,j.Tl)(B);return(0,m.jsx)(X,Object.assign({},d,{conversationId:t,smsEnabled:o,showEmailCollector:p,showPhoneNumberCollector:g,channelProvided:f,hasExistingChannelValue:k,existingChannelText:I,existingChannelValue:N,title:R,onEmailClick:C,onSmsClick:S,onEmailCollectorSubmit:T,onPhoneNumberCollectorSubmit:_,onInputChange:c}))};var Q=i(12135),ee=i(97899);const te=(0,n.Ng)((e=>{const{smsEnabled:t}=e.app,i=(0,ee.Vy)(e),{id:n,role:r,userSuppliedEmail:o,name:s,phoneNumber:a,countryCode:l}=e.user,{isSaving:c,showErrorMessage:d,errorMessage:p}=e.notificationChannels;return{conversationId:i,userId:n,userRole:r,userCountryCode:l,userSuppliedEmail:o,userName:s,phoneNumber:a,smsEnabled:t,isSaving:c,showErrorMessage:d,errorMessage:p}}),(e=>({onEmailCollectorSubmit:t=>{e((0,Q.$8)(R.Ay,t))},onPhoneNumberCollectorSubmit:t=>{e((0,Q.NA)(R.Ay,t))},onInputChange:()=>{e((0,Q.mK)())}})),((e,t,i)=>{const n={onInputChange:()=>t.onInputChange()};return Object.assign({},i,e,t,n)}))(Z),ie=({hasAvatar:e=!0,isBorderless:t=!1})=>(0,m.jsxs)(U.Tu,{isBorderless:t,children:[e&&(0,m.jsx)(U.n9,{isBorderless:t,children:(0,m.jsx)(w.h,{author:(void 0).props.part.author,size:28})}),(0,m.jsx)(te,{nextPart:(void 0).props.nextPart,isBorderless:t})]});ie.propTypes={part:I().object.isRequired,nextPart:I().object,hasAvatar:I().bool,isBorderless:I().bool};var ne=i(23753),re=i(52203),oe=i(86923),se=i(72977);const ae=i.p+"images/send-button.9a2f1afb472850bcbe0e.png",le=i.p+"images/send-button@2x.c3fa7b1abd6479a0cf52.png";const ce=(0,oe.Ay)("div",{target:"e1lpdmtp5"})("padding:5px 15px;border-top:1px solid ",(0,oe.w4)("containerEmphasisNeutral"),";"),de=(0,oe.Ay)("div",{target:"e1lpdmtp4"})(),pe=(0,oe.Ay)("div",{target:"e1lpdmtp3"})("position:relative;display:table;width:100%;div{display:table-cell;vertical-align:top;}",de.className,"{width:40px;}"),ue=(0,oe.Ay)("div",{target:"e1lpdmtp2"})("position:relative;max-width:180px;textarea,pre{box-sizing:border-box;height:100%;width:100%;padding:12px;font-size:14px;font-family:",(0,oe.w4)("fontSansSerif"),";border:none;line-height:19px;white-space:pre-wrap;word-wrap:break-word;}textarea{position:absolute;top:0;left:0;color:",(0,oe.w4)("textDefault"),";resize:none;overflow-y:hidden;&::placeholder{color:",(0,oe.w4)("textMuted"),";font-style:",(0,oe.w4)("fontSansSerif"),";font-size:14px;font-weight:400;line-height:19px;opacity:0.7;}}pre{visibility:hidden;max-height:140px;}"),he=(0,oe.Ay)("div",{target:"e1lpdmtp1"})("position:absolute;top:2px;bottom:0;width:40px;height:40px;cursor:pointer;transition:transform 300ms linear,opacity 150ms ease;background-position:center;background-repeat:no-repeat;opacity:0.8;",(0,se.op)(ae,le,"20px","20px")," &:hover{opacity:1;}"),me=(0,oe.Ay)("div",{target:"e1lpdmtp0"})({name:"1yx6u7l",styles:"width:40px;height:40px;border:none;transition:border-radius 300ms,opacity 300ms 600ms,height 400ms 1000ms"});var ge=i(91067);function xe({initialValue:e="",placeholder:t,onSubmit:i,onChange:n}){const[r,o]=(0,s.useState)(e),a=(0,s.useContext)(ge.X),l=(0,s.useRef)(null),c=(0,s.useRef)(null),d=(0,s.useRef)(null);(0,s.useEffect)((()=>()=>{a&&a.setComposerShouldFocus(!0),d.current&&clearTimeout(d.current)}),[a]);const p=e=>{e.preventDefault(),u()},u=()=>{var e;i(r),null==(e=c.current)||e.blur()};return(0,m.jsx)(ce,{ref:l,children:(0,m.jsxs)(pe,{children:[(0,m.jsxs)(ue,{children:[(0,m.jsxs)("pre",{children:[r,(0,m.jsx)("br",{})]}),(0,m.jsx)("textarea",{autoFocus:!0,ref:c,name:"intercom-conversation-rating-remark",value:r,placeholder:t,onFocus:e=>{if(a&&a.setComposerShouldFocus(!1),(0,q.rr)())d.current=setTimeout((()=>{if(!l.current)return;const e=l.current.closest(".intercom-conversation-body-parts");e&&(0,F.o2)(l.current,e)}),1e3);else{const t=e.target.value;e.target.value="",e.target.value=t}},onKeyDown:e=>{(e=>"Enter"===e.key&&!(e.altKey||e.shiftKey))(e)&&(u(),e.preventDefault())},onChange:e=>{const{value:t}=e.target;o(t),n()},onBlur:()=>{a&&a.setComposerShouldFocus(!0),(0,G.BW)()},"aria-label":t})]}),(0,m.jsx)(de,{children:(0,m.jsx)(me,{onTouchEnd:p,onClick:p,"aria-label":(0,j.Tl)("submit"),children:(0,m.jsx)(he,{})})})]})})}const fe=(0,oe.Ay)("span",{target:"e1aseij90"})("&,&:hover{width:18px;height:18px;display:inline-block;background-size:contain;vertical-align:sub;}",(({images:e})=>(0,se.op)(e.file,e.file2x,"28px","28px")),";");const ve=(0,oe.Ay)("span",{target:"e1ri5tng4"})("display:inline-block;width:28px;height:28px;",(({images:e})=>e&&(0,se.op)(e.file,e.file2x,"28px","28px"))," ",(({emoji:e})=>e&&(e=>(0,oe.AH)("&::before{content:'",e,"';width:28px;height:28px;display:flex;justify-content:center;align-items:center;scale:1.7;}"))(e)),";"),ye=(0,oe.Ay)("div",{target:"e1ri5tng3"})("margin-top:5px;cursor:pointer;font-size:13px;color:",(0,oe.w4)("textMuted"),";text-align:center;opacity:0;transition:opacity 0.3s;"),be=(0,oe.Ay)("div",{target:"e1ri5tng2"})({name:"1r5gb7q",styles:"display:inline-block"}),we=(0,oe.Ay)("div",{target:"e1ri5tng1"})("width:30px;margin:6px 0;display:flex;flex-direction:column;align-items:center;justify-content:space-between;&:hover{",ye.className,"{opacity:1;}",ve.className,"{transform:scale(1.28);filter:none;}}",(({chosen:e})=>e&&(0,oe.AH)(ve.className,"{transform:scale(1.28);}"))," ",(({otherChosen:e})=>e&&(0,oe.AH)(ve.className,"{filter:grayscale(1) opacity(0.3);}")),";"),je=(0,oe.Ay)("div",{target:"e1ri5tng0"})("width:30px;margin:6px 0;padding-bottom:20px;display:flex;flex-direction:column;align-items:center;justify-content:space-between;",ve.className,"{filter:grayscale(1) opacity(0.3);}"),ke={1:{emoji:"😠",unicode:"1f620",tooltipKey:"terrible",images:{file:i.p+"images/rating-1.d14c91d3298565dcb077.png",file2x:i.p+"images/rating-1@2x.46e26adecfc1e0becb0d.png"}},2:{emoji:"🙁",unicode:"1f615",tooltipKey:"bad",images:{file:i.p+"images/rating-2.201a3dfa4584a329e131.png",file2x:i.p+"images/rating-2@2x.e2aa8930c7a14a762e2e.png"}},3:{emoji:"😐",unicode:"1f610",tooltipKey:"ok_description",images:{file:i.p+"images/rating-3.9c7c37190153ebbba2db.png",file2x:i.p+"images/rating-3@2x.ae07cbf691bfb14bbecd.png"}},4:{emoji:"😃",unicode:"1f603",tooltipKey:"great",images:{file:i.p+"images/rating-4.9b73ce6448824805204f.png",file2x:i.p+"images/rating-4@2x.feedb834bfb39f53739e.png"}},5:{emoji:"🤩",unicode:"1f929",tooltipKey:"amazing",images:{file:i.p+"images/rating-5.9cfe7955263a855a08a8.png",file2x:i.p+"images/rating-5@2x.ba07ebeee93582adccba.png"}}},Ae=({ratingIndex:e,chosen:t,otherChosen:i,onRatingChosen:n,isDisabled:r})=>{const[o,a]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(()=>{const t=ke[e].images;try{Object.keys(t).forEach((i=>{const n=t[i],r=new Image;r.src=n,r.onerror=()=>{a(!0),(0,u.uo)(`Error loading image: ${n} for rating ${e}`)}}))}catch(e){return}})()}),[e]);const l=()=>(0,j.Tl)(ke[e].tooltipKey),c=(0,s.useCallback)((t=>{t.preventDefault(),n(e)}),[n,e]),d=()=>{const t=ke[e];return(0,m.jsx)(ve,{className:"intercom-anchor",onClick:c,"aria-label":l(),role:"button",emoji:o&&t.emoji,images:!o&&t.images})},p=()=>{const t=ke[e];return(0,m.jsx)(ve,{className:"intercom-anchor","aria-label":l(),"aria-disabled":"true",role:"button",emoji:o&&t.emoji,images:!o&&t.images})},h=l();return(0,m.jsx)(be,{children:r?(0,m.jsx)(je,{children:p()}):(e=>(0,m.jsxs)(we,{chosen:t,otherChosen:i,children:[d(),(0,m.jsx)(ye,{children:e})]}))(h)})},Ce=Ae;Ae.propTypes={ratingIndex:I().number.isRequired,chosen:I().bool,otherChosen:I().bool,onRatingChosen:I().func.isRequired,isDisabled:I().bool};function Se({ratingIndex:e}){return(e=>!!e&&e in ke)(e)?(0,m.jsx)(fe,{role:"img",images:ke[e].images,"aria-label":ke[e].tooltipKey}):null}var Te=i(96808),_e=i(79868),Ee=i(26265);var Ne=i(80607);function Be(e,t,i,n){return(r,o)=>{r(function(e,t,i){return{type:Ne.aQ5,conversationId:e,ratingIndex:i,ratingUuid:t}}(t,i,n));const{session:s}=o();return e.changeConversationRatingIndex(s,t,i,n)}}function Ie(e,t,i,n){return(r,o)=>{if(r(function(e,t,i){return{type:Ne.ze_,conversationId:e,remark:i,ratingUuid:t}}(t,i,n)),void 0===n||""===n)return Promise.resolve();const{session:s}=o();return e.addConversationRatingRemark(s,t,i,n)}}const Re=(0,n.Ng)((e=>({conversationId:(0,ee.Vy)(e)})),(e=>({onRemarkSubmit:(t,i,n)=>{e(Ie(R.Ay,t,i,n))},onRatingChosen:(t,i,n)=>{e(Be(R.Ay,t,i,n))}})),((e,t,i)=>{const{conversationId:n}=e,{chosenRating:r,remark:o,submitted:s,uuid:a,blockRating:l}=i.part.conversationRating,c={onRemarkSubmit:e=>t.onRemarkSubmit(n,a,e),onRatingChosen:e=>t.onRatingChosen(n,a,e),chosenRating:r,remark:o,submitted:s,blockRating:l};return Object.assign({},i,e,t,c)}))((function({chosenRating:e,remark:t,submitted:i,nextPart:n,onRemarkSubmit:r,onRatingChosen:o,blockRating:a,useNewConversationStyle:l,groupingPosition:c}){const d=(0,s.useRef)(null),[p,u]=(0,s.useState)(void 0),h=(0,s.useCallback)((t=>void 0===t&&void 0!==e),[e]),g=(0,s.useCallback)((()=>{if(void 0!==n||!d.current)return;const e=d.current.closest(".intercom-conversation-body-parts");e&&(0,F.cs)(e)}),[n]),x=(0,s.useRef)();(0,s.useEffect)((()=>{h(x.current)&&g(),x.current=e}),[e,h,g]);const f=()=>{g()},v=(0,s.useCallback)((({height:e})=>{u(e)}),[]),y=()=>!!e&&e>0,b=t=>e===t,w=()=>(0,m.jsx)(_e.u9,{children:t}),k=()=>{const e=[];for(let i=1;i<=5;i++)e.push((0,m.jsx)(Ce,{ratingIndex:i,chosen:b(i),otherChosen:(t=i,y()&&!b(t)),onRatingChosen:o,isDisabled:!y()&&a},i));var t;return(0,m.jsxs)(_e.Iu,{children:[(0,m.jsx)(_e.AM,{children:(0,m.jsx)(_e.tV,{children:(0,j.Tl)("rate_your_conversation")})}),(0,m.jsx)(_e.rs,{children:e})]})},A=()=>(0,m.jsx)(xe,{placeholder:(0,j.Tl)("tell_us_more"),onChange:f,onSubmit:r},"remark-input");return(0,m.jsx)(_e.w5,{ref:e=>d.current=e,useNewConversationStyle:l,groupingPosition:c||Ee.L3.standalone,children:(0,m.jsx)(Te.A,{onChange:v,children:(0,m.jsx)("div",{children:(0,m.jsx)(ne.A,{appearDelay:300,children:i||void 0!==e&&void 0!==t?(0,m.jsxs)("div",{children:[(0,m.jsxs)(_e.ZM,{children:[(0,m.jsxs)(_e.WS,{children:[(0,j.Tl)("you_rated_the_conversation")," ",(0,m.jsx)(Se,{ratingIndex:e})]}),(0,m.jsx)(_e.Qy,{children:(0,j.Tl)("thanks_for_letting_us_know")})]}),void 0!==t&&""!==t.trim()?w():null]},"conversation-rating-thanks"):(0,m.jsxs)("div",{children:[k(),(0,m.jsx)(re.A,{duration:500,animationKey:"conversation-rating",children:y()?A():null})]},"form")})})})})}));var Pe=i(66501);const ze=({isBorderless:e=!1,part:t,nextPart:i,hasAvatar:n=!1,useNewConversationStyle:r=!1,groupingPosition:o=Ee.L3.standalone})=>(0,m.jsxs)(Pe.E,{isBorderless:e,useNewConversationStyle:r,children:[n&&(0,m.jsx)(Pe.t,{isBorderless:e,children:(0,m.jsx)(w.h,{author:t.author})}),(0,m.jsx)(Re,{nextPart:i,part:t,useNewConversationStyle:r,groupingPosition:o})]});var Me=i(51457),Oe=i(32490);function He({part:e,appName:t,frameWindow:i}){const{author:n,body:r}=e;return(0,m.jsx)(Oe.d,{className:"intercom-pointer",isInbox:!0,children:(0,m.jsx)(c.A,{appName:t,isReplyStyle:!1,author:n,children:(0,m.jsxs)(Oe.Pj,{className:"intercom-pointer-body",children:[(0,m.jsx)(d.A,{blocks:r,frameWindow:i}),(0,m.jsx)(Me.kG,{isInsideInbox:!0})]})})})}const De=(0,oe.Ay)("div",{target:"e1eq5ax27"})("background:",(0,oe.w4)("containerBaseNeutral"),";margin:0 -20px;width:calc(100% + 40px);max-width:none;"),Le=(0,oe.Ay)("div",{target:"e1eq5ax26"})({name:"1671ndx",styles:"display:flex;gap:12px;overflow-x:auto;overflow-y:hidden;padding:4px 20px"}),Ve=(0,oe.Ay)("div",{target:"e1eq5ax25"})("display:flex;flex-direction:column;flex-shrink:0;width:200px;min-height:260px;border-radius:20px;background:",(0,oe.w4)("containerBaseNeutral"),";cursor:pointer;transition:all 0.2s ease;overflow:hidden;"),Fe=(0,oe.Ay)("div",{target:"e1eq5ax24"})("padding:15px;display:flex;flex-direction:column;gap:4px;flex:0 0 auto;border:1px solid ",(0,oe.w4)("borderNeutral"),";border-top:none;border-radius:0 0 20px 20px;"),qe=(0,oe.Ay)("div",{target:"e1eq5ax23"})("width:100%;height:auto;overflow:hidden;background:",(0,oe.w4)("containerBaseNeutral"),";display:flex;align-items:center;justify-content:center;flex-shrink:0;border-radius:20px 20px 0 0;img{width:100%;object-fit:cover;}"),Ge=(0,oe.Ay)("h4",{target:"e1eq5ax22"})("font-size:14px;font-weight:600;margin:0;color:",(0,oe.w4)("textDefault"),";line-height:1.3;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"),Ue=(0,oe.Ay)("p",{target:"e1eq5ax21"})("font-size:14px;font-weight:400;margin:0;color:",(0,oe.w4)("textMuted"),";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"),$e=(0,oe.Ay)("p",{target:"e1eq5ax20"})("font-size:12px;font-weight:400;color:",(0,oe.w4)("textMuted"),";margin:4px 0 0 0;line-height:1.4;overflow:hidden;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;"),We=({part:e})=>{const t=e=>{e&&window.open(e,"_blank","noopener,noreferrer")};return e.carousel&&0!==e.carousel.length?(0,m.jsx)(De,{children:(0,m.jsx)(Le,{children:e.carousel.map((e=>(0,m.jsxs)(Ve,{onClick:()=>t(e.url),role:"button",tabIndex:0,onKeyDown:i=>{"Enter"!==i.key&&" "!==i.key||(i.preventDefault(),t(e.url))},children:[e.image&&(0,m.jsx)(qe,{children:(0,m.jsx)("img",{src:e.image,alt:e.title})}),(0,m.jsxs)(Fe,{children:[(0,m.jsx)(Ge,{children:e.title}),e.subtitle&&(0,m.jsx)(Ue,{children:e.subtitle}),e.description&&(0,m.jsx)($e,{children:e.description})]})]},e.id)))})}):null};var Ke=i(1082),Ye=i(88911),Xe=i(79501),Je=i(32485),Ze=i.n(Je);class NotificationChannelCollectorCardControls extends s.PureComponent{constructor(...e){super(...e),this.handleEmailChannelClick=e=>{e.preventDefault(),this.props.onChannelChange("email")},this.handlePhoneNumberChannelClick=e=>{e.preventDefault(),this.props.onChannelChange("phone")},this.isSaved=()=>{const{isEmailSaved:e,isPhoneNumberSaved:t}=this.props;return e||t},this.isSelected=e=>e===this.props.channel}getClassName(){return Ze()({"intercom-notification-channel-collector-card-controls":!0,"intercom-notification-channel-collector-card-controls-saved":this.isSaved()})}getChannelClassName(e){return Ze()({"intercom-anchor":!0,"intercom-notification-channel-collector-card-controls-channel":!0,"intercom-notification-channel-collector-card-controls-channel-selected":this.isSelected(e)})}renderChannels(){return(0,m.jsxs)(U.Jd,{className:"intercom-notification-channel-collector-card-controls-channels",children:[(0,m.jsx)(U.ao,{isSelected:this.isSelected("email"),className:this.getChannelClassName("email"),onClick:this.handleEmailChannelClick,children:(0,j.Tl)("email")}),(0,m.jsx)(U.ao,{isSelected:this.isSelected("phone"),className:this.getChannelClassName("phone"),onClick:this.handlePhoneNumberChannelClick,children:(0,j.Tl)("sms")})]})}renderPrompt(){return(0,m.jsx)(U.j3,{className:"intercom-notification-channel-collector-card-controls-prompt",children:this.props.isPhoneNumberEnabled?(0,j.Tl)("get_notified"):(0,j.Tl)("get_notified_by_email")})}renderMessage(){return(0,m.jsx)(U.gZ,{className:"intercom-notification-channel-collector-card-controls-message",children:this.props.isEmailSaved?(0,j.Tl)("youll_be_notified_here_and_by_email"):(0,j.Tl)("youll_be_notified_here_and_by_sms")})}render(){return(0,m.jsxs)(U.rQ,{isSaved:this.isSaved(),className:this.getClassName(),children:[this.renderMessage(),this.renderPrompt(),this.props.isPhoneNumberEnabled?this.renderChannels():null]})}}var Qe=i(48368),et=i(1017);class NotificationChannelCollectorCard extends s.PureComponent{constructor(...e){super(...e),this.state={channel:"saved"===this.props.phoneNumberSaveState?"phone":"email",prevProps:this.props},this.handleChannelChange=e=>{this.setState({channel:e})}}componentDidMount(){const{part:e,conversationId:t}=this.props,{form:i}=e;i&&i.attributes.forEach((({identifier:n})=>{(0,u.A5)("received","operator_reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:t,part_id:e.id,attribute_identifier:n,attribute_type:n,form_type:i.type,attribute_is_custom_data:!1})}))}static getDerivedStateFromProps(e,t){if(!t||L()(e,t.prevProps))return null;let i;return"saved"===e.emailSaveState?i="email":"saved"===e.phoneNumberSaveState&&(i="phone"),i?{channel:i,prevProps:e}:{prevProps:e}}renderAvatar(){return(0,m.jsx)(U.w$,{children:(0,m.jsx)(w.h,{author:this.props.part.author})})}renderControls(){const{emailSaveState:e,phoneNumberSaveState:t,isPhoneNumberEnabled:i}=this.props,n="saved"===e,r="saved"===t;return(0,m.jsx)(NotificationChannelCollectorCardControls,{channel:this.state.channel,isEmailSaved:n,isPhoneNumberSaved:r,isPhoneNumberEnabled:i,onChannelChange:this.handleChannelChange})}renderAttribute(){var e;const{part:t,disabled:i,email:n,phoneNumber:r,emailSaveState:o,phoneNumberSaveState:s,defaultCountryCode:a,onEmailSubmit:l,onPhoneNumberSubmit:c}=this.props,d=null==(e=t.form)?void 0:e.attributes.find((({identifier:e})=>e===this.state.channel));return"email"===this.state.channel?(0,m.jsx)(Qe.A,{disabled:i,value:n,saveState:o,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:l}):(0,m.jsx)(et.A,{disabled:i,value:r,saveState:s,errorCode:null==d?void 0:d.errorCode,defaultCountryCode:a,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:c},r)}renderDisabledMessage(){const{disabled:e,disabledMessage:t}=this.props;return e&&t?(0,m.jsx)(U.Ve,{children:t}):null}isSaved(){const{emailSaveState:e,phoneNumberSaveState:t}=this.props;return"saved"===e||"saved"===t}render(){const{isBorderless:e}=this.props;return(0,m.jsxs)(U.No,{children:[this.props.hasAvatar?this.renderAvatar():null,(0,m.jsxs)(U.vl,{isBorderless:e,children:[this.renderControls(),this.renderAttribute(),this.renderDisabledMessage()]})]})}}var tt=i(1200);const it=(e,t)=>e.attributes.find((e=>e.identifier===t)),nt=(0,n.Ng)(((e,t)=>{const{part:i}=t,{id:n,form:r}=i,o=e.user.countryCode||"us",s=(0,ee.Vy)(e),a=it(r,"email"),l=it(r,"phone"),c=void 0!==l,{value:d,saveState:p}=a;let u,h;return c&&(u=l.value,h=l.saveState),{conversationId:s,partId:n,email:d,phoneNumber:u,emailSaveState:p,phoneNumberSaveState:h,isPhoneNumberEnabled:c,defaultCountryCode:o}}),(e=>({onAttributeSubmit(t,i,n,r,o){const s=n;e((0,tt.DX)(R.Ay,t,i,n,r,s,o,!1))}})),((e,t,i)=>Object.assign({},e,t,i,{onEmailSubmit(n){t.onAttributeSubmit(e.conversationId,e.partId,"email",n,i.part.form.type)},onPhoneNumberSubmit(n){t.onAttributeSubmit(e.conversationId,e.partId,"phone",n,i.part.form.type)}})))(NotificationChannelCollectorCard);var rt=i(98099);const ot=(0,n.Ng)((e=>({conversation:(0,rt.Gm)(e)||(0,rt.BJ)(e),userId:e.user.id})))((function(e){return(0,m.jsx)("div",{className:"intercom-attribute-collector",children:(()=>{const{conversation:t,part:i,hasAvatar:n,isBorderless:r,useNewConversationStyle:o}=e,{form:s}=i,a=t.preventEndUserReplies||(null==s?void 0:s.disabled),l=(null==s?void 0:s.disabledMessage)||null;return s&&"notification_channel"===s.type?(0,m.jsx)(nt,{disabled:a,disabledMessage:l,part:i,hasAvatar:n,isBorderless:r}):s&&"upfront_collection"===s.type?(0,m.jsx)(Xe.Ay,{disabled:a,disabledMessage:l,part:i,hasAvatar:n,isBorderless:r,hideNumbering:!0,useNewConversationStyle:o},JSON.stringify(i)):(0,m.jsx)(Xe.Ay,{disabled:a,disabledMessage:l,part:i,hasAvatar:n,isBorderless:r,useNewConversationStyle:o},i.id)})()})}));var st=i(45134);const at=(0,oe.w4)("textMuted"),lt="\n  display: flex;\n  justify-content: center;\n",ct=(0,oe.Ay)("div",{target:"e11tr6da3"})("max-width:100%;padding:0 12px;font-size:12px;line-height:18px;position:relative;",lt," ",st.D.className,"{bottom:-17px;left:45px;}.intercom-block-paragraph{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;white-space:normal;text-align:center;max-width:100%;margin-bottom:4px;}"),dt=(0,oe.Ay)("div",{target:"e11tr6da2"})("flex-shrink:0;",lt," margin-right:6px;margin-bottom:4px;"),pt=(0,oe.Ay)("div",{target:"e11tr6da1"})("color:",at,";text-align:center;overflow-wrap:break-word;word-break:break-word;letter-spacing:0.048px;min-width:0;",lt," margin-bottom:4px;white-space:pre;"),ut=(0,oe.Ay)("div",{target:"e11tr6da0"})(lt," align-items:center;text-align:center;flex-wrap:wrap;padding:3px 0;max-width:100%;color:",at,";line-height:18px;position:relative;");var ht=i(29500);const mt=(0,s.memo)((({part:e})=>{const{createdAt:t}=e;if("object"!=typeof(i=e.eventData)||null===i||!("participant"in i)||!("eventAsPlainText"in i)||"string"!=typeof i.eventAsPlainText)return null;var i;const n=e.eventData,r=t?(0,ht.Bv)(t):"";return(0,m.jsxs)(ct,{children:[(0,m.jsxs)(ut,{children:[(0,m.jsx)(dt,{children:(0,m.jsx)(w.h,{author:n.participant,size:20})}),n.eventContent&&n.eventContent.length>0?(0,m.jsx)(pt,{children:n.eventContent.map(((e,t)=>"paragraph"===e.type?(0,m.jsx)(d.A,{blocks:[e],autoPlay:!1},`${e.text}-${t}`):(0,m.jsx)(pt,{children:e.text},`${e.text}-${t}`)))}):(0,m.jsx)(pt,{children:n.eventAsPlainText})]}),(0,m.jsx)(st.D,{hasBody:!1,isSingleBlock:!1,children:r})]})}));mt.displayName="ParticipantEvent";const gt=mt;var xt=i(69771),ft=i(53074),vt=i(65318),yt=i(1187),bt=i(35867),wt=i(79986),jt=i(79597);const kt=(0,oe.Ay)("div",{target:"e1bs48ky5"})("text-align:center;font-weight:bold;",(({theme:e})=>`border-bottom: 1px solid ${e.appColorSemiTransparent30}`),";"),At=(0,oe.Ay)("div",{target:"e1bs48ky4"})({name:"cso1wt",styles:"padding:16px 24px 16px 24px"}),Ct=(0,oe.Ay)("div",{target:"e1bs48ky3"})({name:"16yasoo",styles:"text-align:center;text-decoration:underline;cursor:pointer;margin-top:-16px"}),St=(0,oe.Ay)("div",{target:"e1bs48ky2"})({name:"12hzqv8",styles:"font-weight:bold;margin-bottom:6px"}),Tt=(0,oe.Ay)("div",{target:"e1bs48ky1"})("p{margin-top:4px;line-height:10px;}span{",(({theme:e})=>`color: ${e.textMuted};\n\t\tfont-size: 12px;\n\t\tdisplay: block`),";}"),_t=(0,oe.Ay)("div",{target:"e1bs48ky0"})({name:"125lw3i",styles:"font-size:13px;font-weight:bold"});var Et=i(70400),Nt=i(57492);const Bt=({ticket:e,part:t})=>{var i,n;return(0,m.jsxs)(jt.l,{children:[(0,m.jsx)(kt,{children:(0,m.jsx)(At,{children:e.name})}),(0,m.jsxs)(At,{children:[e.attributes.title&&(0,m.jsx)(St,{children:null==(i=e.attributes.title.value)?void 0:i.toString()}),e.attributes.status&&(0,m.jsxs)(Tt,{children:[(0,m.jsxs)(_t,{children:[(0,j.Tl)("status"),":"]}),(0,m.jsx)("p",{children:null==(n=e.attributes.status.value)?void 0:n.toString()}),(0,m.jsx)("span",{children:(0,ht.iw)(t.createdAt)})]})]}),(0,m.jsx)(At,{children:(0,m.jsx)(Et.Link,{to:(0,Nt.sq)(e.id),children:(0,m.jsx)(Ct,{children:(0,j.Tl)("view_more_details")})})})]})},It=({part:e,conversationId:t})=>{const i=(0,wt.GV)((e=>(0,rt.VN)(e,t)));if(!i)return null;const{ticket:n}=i;return n?(0,m.jsx)(Bt,{part:e,ticket:n}):null};var Rt=i(88204),Pt=i(83285);const zt=(0,oe.Ay)("p",{target:"e1mwygkl2"})("font-size:13px;color:",(({theme:e})=>e.textMuted),";display:flex;align-items:center;justify-content:center;width:100%;padding:8px 0;box-sizing:border-box;line-height:16px;text-align:center;svg{min-width:16px;margin-right:8px;}",(({isBorderless:e,theme:t})=>e&&(0,oe.AH)("background:",t.containerBaseNeutral,";border-radius:",t.conversationPartBorderRadiusPx,";box-shadow:",t.shadowMedium,";padding:8px;")),";"),Mt=(0,oe.Ay)("span",{target:"e1mwygkl1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),Ot=(0,oe.Ay)("span",{target:"e1mwygkl0"})({name:"1m5hyg0",styles:"word-break:break-all"});function Ht({status:e,timestamp:t,teammate:i,isBorderless:n,customStatePrefix:r,customStateLabel:o}){const s=e===Ee.S5.submitted?"tickets_status_event_submitted":"tickets_status_change_event",a=(0,Rt.JN)(e),l=(0,j.Tl)(s,{teammate:i,submitted_status:a,status:a,timestamp:(0,ht.iw)(t)||""});return(0,m.jsx)(zt,{"data-testid":"inline-status",isBorderless:n,children:(0,m.jsx)("span",{children:(0,m.jsx)("span",{children:o?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(Mt,{children:[(0,m.jsx)(Pt.A,{}),(0,m.jsxs)("span",{children:[r," • ",(0,ht.iw)(t)]})]}),(0,m.jsxs)("span",{style:{display:"block",marginTop:"4px"},children:[" ",(0,m.jsx)(Mt,{children:(0,m.jsx)(Ot,{children:(0,m.jsx)("strong",{children:o})})})]})]}):(0,m.jsxs)(Mt,{children:[(0,m.jsx)(Pt.A,{}),(0,m.jsx)("span",{children:l})]})})})})}const Dt=(0,oe.Ay)("div",{target:"e1lvkyc82"})({name:"5283xc",styles:"text-align:center;font-size:0.9rem;padding:1rem 0 0.7rem"}),Lt=(0,oe.Ay)("div",{target:"e1lvkyc81"})("color:",(0,oe.w4)("textDefault"),";display:block;"),Vt=(0,oe.Ay)("a",{target:"e1lvkyc80"})("display:inline-block;padding-top:0.3rem;font-weight:600;color:",(0,oe.w4)("textDefault"),";");var Ft=i(95970);const qt=({mergedConversationId:e,description:t})=>{const i=(0,wt.jL)();return(0,m.jsxs)(Dt,{children:[(0,m.jsx)(Lt,{children:t}),(0,m.jsx)(Vt,{onClick:()=>{i((0,tt.QL)(R.Ay,e,{requestOrigin:"Link to merged conversation"})),i((0,Ft.p)(e))},children:(0,j.Tl)("view_conversation")})]})};var Gt=i(83034),Ut=i(23218),$t=i(60729),Wt=i(85530);const Kt=oe.i7`
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: 200px 0;
  }
`,Yt=(0,oe.Ay)("div",{target:"e1sik60r1"})("font-size:14px;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:4px;padding:8px 0;background:linear-gradient(90deg, black 0%, gray 25%, lightgray 45%, gray 65%, black 100%);background-size:200px 100%;background-clip:text;color:transparent;animation:",Kt," 3s infinite linear;"),Xt=oe.i7`
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
`,Jt=(0,oe.Ay)("div",{target:"e1sik60r0"})("width:12px;height:12px;background-color:",(0,oe.w4)("iconDefault"),";border-radius:50%;animation:",Xt," 1.5s infinite ease-in-out;margin:0 4px;"),Zt=({part:e})=>{const{body:t}=e;return(0,m.jsxs)(Yt,{children:[(0,m.jsx)(Jt,{"data-testid":"pulsing-circle"}),(0,m.jsx)(d.A,{blocks:t})]})},Qt=({part:e,isBorderless:t})=>!e.partType||t||-1===["participant_added","participant_removed","temporary_expectations","teammate_joined"].indexOf(e.partType)?null:(0,m.jsx)(gt,{part:e}),ei=(e,t,i,n)=>{const r=!!i&&(0,xt.EU)(i);return e&&t&&!r&&!n},ti=({part:e,isLastPart:t,hasAvatar:i,isBorderless:n,isMobile:r,partHasMetadata:o,groupingPosition:s,onImageClick:a,appName:l,lastAdminOrBotPart:c})=>(0,ft.A)(e.partType)?(0,m.jsx)(Qt,{part:e,isBorderless:n}):(0,m.jsx)(Ke.D,{isLastPart:t,part:e,hasAvatar:i,isBorderless:n,isMobile:r,groupingPosition:s,showInlineMetadata:ei(o,n,e.body,"failed"===e.saveState),onImageClick:a,appName:l,lastAdminOrBotPart:c});const ii=(0,Ut.d)((function({isLastPart:e,part:t,nextPart:i,reactionsReply:n,appName:r,conversationId:l="",hasAvatar:c,grouped:d,groupingPosition:p,partHasMetadata:h,isBorderless:g=!1,isMobile:f=!1,conversationHasScrolled:v,setPartRef:w,onArticleCardClick:k,onImageClick:A,onRetry:C,onReactionSelect:S,frameWindow:T,forwardedRef:_,lastAdminOrBotPart:E}){var B,I,R;const P=(0,s.useRef)(null),z=e=>{const i=e.target;if("a"!==i.tagName.toLowerCase())return;const n=i.getAttribute("href");n&&((e,t,i)=>{(0,u.A5)("clicked","link","messenger","in_conversation",{conversation_id:e,[t.isMessage?"message_id":"comment_id"]:t.id,url:i,partType:t.messageType})})(l,t,n)},M="failed"===t.saveState,O=M&&!(0,o.Xc)(t.saveFailureReason)&&!(0,o.mn)(t.saveFailureReason),H=!!t.body&&(0,xt.EU)(t.body),D=null==(B=t.author)?void 0:B.isSelf,L=h&&(!g&&!(0,vt.MU)(t)||M&&D),V=h&&g&&!H&&!M,F=(0,$t.Th)(),q=(0,$t.M5)(),G=F&&(0,vt.vz)(t),U=F&&(0,vt.MU)(t),$=(()=>{var e;let i=null==(e=t.author)?void 0:e.firstName;return""!==i&&null!=i||(i="user"),M?(0,j.Tl)("failed_message"):(0,j.Tl)("user_says",{firstName:i})})();return(0,m.jsx)(Wt.e,{sources:t.sources,children:(0,m.jsxs)(bt.q,{onClick:e=>{z(e),O&&C(t)},role:"article","aria-roledescription":(0,j.Tl)("message"),"aria-label":$,ref:(0,Gt.A)(_,(e=>w&&w(e,t))),isAdmin:null==(I=t.author)?void 0:I.isAdmin,isSelf:null==(R=t.author)?void 0:R.isSelf,isBorderless:g,grouped:d,groupingPosition:p,isLastPart:!i,isFailedPart:M,isRetryable:O,conversationHasScrolled:v,isTicketStatusUpdate:"ticketStatusUpdate"===t.messageType,flatConversationStyle:G,"data-testid":"conversation-part",children:[(()=>{var o;switch(t.messageType){case"post":return(0,m.jsx)(x,{appName:r,conversationId:l,part:t,reactionsReply:n,onReactionSelect:S,frameWindow:T,isBorderless:g,noShadow:q});case"note":return(0,m.jsx)(y,{appName:r,part:t,frameWindow:T});case"link":return(0,m.jsx)(N,{appName:r,part:t,hasAvatar:c,isBorderless:g,onArticleCardClick:k});case"finThought":return(0,m.jsx)(Zt,{part:t});case"carousel":return(0,m.jsx)(We,{part:t});case"notificationChannels":return(0,m.jsx)(ie,{part:t,nextPart:i,hasAvatar:c,isBorderless:g});case"conversationRating":return f?(0,m.jsx)(ti,{part:t,isLastPart:e,hasAvatar:c,isBorderless:g,isMobile:f,groupingPosition:p,partHasMetadata:h,onImageClick:A,appName:r,lastAdminOrBotPart:E}):(0,m.jsx)(ze,{part:t,nextPart:i,hasAvatar:c&&!U,isBorderless:g,useNewConversationStyle:U,groupingPosition:p});case"attributeCollector":return(0,m.jsx)(ot,{part:t,hasAvatar:c&&!U,isBorderless:g,useNewConversationStyle:U});case"video":case"chat":case"adminReply":case"inlineAnswer":case"relevantArticles":case"finAnswer":return g&&!F?(0,m.jsx)(b.A,{appName:r,part:t,hasAvatar:c,isBorderless:g,isMobile:f,groupingPosition:p,showInlineMetadata:V,frameWindow:T}):(0,m.jsx)(ti,{appName:r,part:t,isLastPart:e,hasAvatar:c,isBorderless:g,isMobile:f,groupingPosition:p,partHasMetadata:h,onImageClick:A,lastAdminOrBotPart:E});case"pointer":return(0,m.jsx)(He,{appName:r,part:t,frameWindow:T});case"ticketCard":return(0,m.jsx)(It,{part:t,conversationId:l});case"ticketStatusUpdate":return(0,m.jsx)(Ht,{status:t.eventData.status,customStatePrefix:t.eventData.customStatePrefix,customStateLabel:t.eventData.customStateLabel,teammate:null==(o=t.author)?void 0:o.firstName,timestamp:t.createdAt,isBot:t.author.isBot,isBorderless:g},`${t.eventData.status}-${t.createdAt}`);case"mergedPrimaryConversation":return(0,m.jsx)(qt,{mergedConversationId:t.eventData.mergedConversationId,description:t.eventData.description});default:return(0,m.jsx)(ti,{part:t,isLastPart:e,hasAvatar:c,isBorderless:g,isMobile:f,groupingPosition:p,partHasMetadata:h,onImageClick:A,appName:r,lastAdminOrBotPart:E})}})(),"attribute_collector"===t.replyType?(0,m.jsx)(Xe.Ay,{part:t,hasAvatar:!1,isBorderless:g,isReplyType:!0},(0,yt.A)(JSON.stringify(t))):null,(0,m.jsx)(a.F,{children:L?(0,m.jsx)(a.B1,{classNames:"intercom-conversation-part-metadata",timeout:300,nodeRef:P,children:(0,m.jsx)(Ye.q,{ref:P,part:t})}):null})]})})}));var ni=i(48179),ri=i(86629),oi=i(5945),si=i(99459),ai=i(16645),li=i(13555);const ci="53px",di=oe.i7`
  from {
    opacity: 0;
    height: ${ci};
  } to {
    opacity: 0;
    height: 0;
  }
`,pi=oe.i7`
  0% {
    opacity: 0;
    transform: scale(0.6);
  }
  50% {
    opacity: 0;
    transform: scale(0.6);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
`,ui=(0,oe.Ay)("div",{target:"e1fbt4ds5"})("position:relative;padding-left:0px;padding-bottom:24px;min-height:",ci,";&.intercom-conversation-part-enter-active{transition:transform 100ms;}&.intercom-conversation-part-exit-active{animation:",di," 300ms 300ms ease-in;}"),hi=(0,oe.Ay)("div",{target:"e1fbt4ds4"})("padding:0;background:",(0,oe.w4)("containerNeutral"),";position:relative;transform-origin:bottom left;",ui.className,".intercom-conversation-part-enter &{animation:",pi," 300ms ease-in;}",ui.className,".intercom-conversation-part-exit-active &{animation:",pi," 300ms ease-in reverse;}top:10px;width:56px;height:32px;border-radius:16px;display:inline-flex;justify-content:center;align-items:center;gap:4px;"),mi=(0,oe.Ay)("div",{target:"e1fbt4ds3"})({name:"1nzgo6k",styles:"width:56px;height:35px;display:flex;align-items:center;justify-content:center"}),gi=(0,oe.Ay)("img",{target:"e1fbt4ds2"})({name:"19mhhmu",styles:"width:100%;height:35px;object-fit:contain;@media (prefers-reduced-motion: reduce){display:none;}"}),xi=(0,oe.Ay)("div",{target:"e1fbt4ds1"})({name:"3t8lgr",styles:"display:none;align-items:center;justify-content:center;gap:4px;@media (prefers-reduced-motion: reduce){display:flex;}"}),fi=(0,oe.Ay)("div",{target:"e1fbt4ds0"})("width:6px;height:6px;border-radius:3px;background-color:",(0,oe.w4)("textMuted"),";opacity:0.7;");var vi=i(5351),yi=i(38081),bi=i(37363);const wi=({className:e})=>{const t=(0,vi.A)(),i="dark"===t.themeMode?bi:yi;return(0,m.jsxs)(mi,{className:e,children:[(0,m.jsx)(gi,{src:i,draggable:!1,"aria-label":(0,j.Tl)("typing"),"data-theme":t.themeMode,"data-testid":"typing-indicator-animation"}),(0,m.jsxs)(xi,{"aria-label":(0,j.Tl)("typing"),"data-testid":"typing-indicator-static",children:[(0,m.jsx)(fi,{}),(0,m.jsx)(fi,{}),(0,m.jsx)(fi,{})]})]})},ji=(0,s.forwardRef)((function({admin:e},t){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(ui,{"data-testid":"typing-admin",ref:t,style:{marginTop:e.isBot?"-12px":"0px"},children:(0,m.jsxs)(hi,{children:[(0,m.jsx)(wi,{}),(0,m.jsx)(li.D,{children:(0,j.Tl)("typing")})]})})})}));var ki=i(49756);const Ai=e=>(0,wt.GV)((t=>(0,ki.A)(t,e)));var Ci=i(70951),Si=i(14783);const Ti=({conversation:e,isBorderless:t})=>{var i,n;const r=(0,s.useRef)(null);let o=Ai(e.id||"LATEST");const l=e.parts.length?e.parts[e.parts.length-1]:null;!e.id&&null!=l&&l.clientId&&o&&(null==(i=o)?void 0:i.clientId)!==l.clientId&&(o=void 0);const c=(0,ri.nR)(Object.assign({},e,{lastTypingAdmin:o}),t);((e,t)=>{const[,i]=(0,s.useState)(0);(0,s.useEffect)((()=>{if(!e)return;const n=setInterval((()=>{i((e=>e+1))}),t);return()=>clearInterval(n)}),[e,t])})(!!o,null!=(n=o)&&n.isBot?800:1e3),(0,s.useEffect)((()=>{c&&o&&Si.f.onAdminTyping(e.id)}),[c,o,e.id]);const{state:d}=(0,Ci.t)()||{};return"exiting"===d?null:(0,m.jsx)(a.B1,{classNames:"intercom-conversation-part",timeout:3200,exit:!1,nodeRef:r,in:c,children:c&&o?(0,m.jsx)(ji,{ref:r,admin:o}):(0,m.jsx)(m.Fragment,{})})},_i=(0,oe.Ay)("div",{target:"e1pb27ix0"})("width:100%;height:1px;background-color:",(0,oe.w4)("textError"),";margin:16px 0px;position:relative;text-align:center;&::before{content:'",(0,j.Tl)("new"),"';position:absolute;top:-5px;left:20%;transform:translateX(-50%);background:",(0,oe.w4)("containerBaseNeutral"),";padding:0 8px;color:",(0,oe.w4)("textError"),";font-size:12px;}"),Ei=()=>(0,m.jsx)(_i,{"aria-label":"New messages divider"});var Ni=i(52555);const Bi=({part:e,parts:t,newMessagesLastReadAt:i,children:n})=>{const r=!!((0,s.useMemo)((()=>(0,ri.Uc)(t,e)),[t,e])>0&&i&&e.createdAt&&i<e.createdAt),[o]=(0,Ni.zh)((()=>({from:{opacity:0,transform:"translateY(20px)",height:0},to:{opacity:1,transform:"translateY(0)",height:"auto"},config:{duration:350,easing:Ni.le.easeOutCirc},immediate:!r})));return(0,m.jsx)(Ni.CS.div,{style:o,children:n})},Ii=({part:e,transitionRef:t,children:i})=>{const n=(0,q.nr)()&&"attribute_collector"===e.partType,r=n?"dummy":"intercom-conversation-part",o=n?{enter:0,exit:0}:{enter:3e4,exit:600};return(0,m.jsx)(a.B1,{classNames:r,timeout:o,nodeRef:t,children:i})},Ri=({part:e,parts:t,transitionRef:i,newMessagesLastReadAt:n,children:r})=>(0,vt.MU)(e)?(0,m.jsx)(Bi,{part:e,parts:t,newMessagesLastReadAt:n,children:r}):(0,m.jsx)(Ii,{part:e,transitionRef:i,children:r});var Pi;function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zi.apply(null,arguments)}const Mi=e=>s.createElement("svg",zi({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),Pi||(Pi=s.createElement("path",{fill:"#1A1A1A",d:"M3.472 8.3q.209-.06.418 0l1.614.43c.856.23 1.525.9 1.754 1.76l.428 1.61q.06.21 0 .42l-.597 2.25c-.03.13-.15.22-.29.22H5.605c-.2 0-.339-.19-.29-.38l.788-2.93c.05-.19-.19-.34-.339-.19l-3.407 3.42c-.05.06-.13.09-.21.09l-.03-.02c-.618 0-1.116-.5-1.116-1.12q0-.12.09-.21l3.407-3.42a.2.2 0 0 0-.188-.34c-.738.2-1.904.51-2.93.79a.3.3 0 0 1-.38-.29v-1.2c0-.14.1-.26.23-.29zm8.648 0q.21-.06.419 0l2.242.6c.13.04.219.16.219.29v1.2a.3.3 0 0 1-.379.29c-1.026-.28-2.191-.59-2.929-.79a.201.201 0 0 0-.19.34l3.409 3.42q.09.09.089.21c0 .62-.498 1.12-1.116 1.12l-.02.02a.27.27 0 0 1-.209-.09l-3.408-3.42c-.149-.15-.388 0-.338.19l.787 2.93c.05.19-.09.38-.289.38H9.211a.29.29 0 0 1-.289-.22l-.598-2.25a.76.76 0 0 1 0-.42l.429-1.61a2.48 2.48 0 0 1 1.753-1.76zM2.146 1.02c.08 0 .16.03.21.09l3.407 3.42c.15.15.389 0 .339-.19l-.787-2.93c-.05-.19.09-.38.289-.38H6.8c.14 0 .259.09.289.22l.597 2.25q.06.21 0 .42l-.428 1.61c-.23.86-.898 1.53-1.754 1.76l-1.614.43a.75.75 0 0 1-.418 0l-2.242-.6A.3.3 0 0 1 1 6.83v-1.2c0-.2.19-.34.379-.29 1.026.28 2.192.59 2.93.79a.2.2 0 0 0 .188-.34L1.12 2.36a.3.3 0 0 1-.09-.21c0-.62.499-1.12 1.116-1.12zm11.738 0c.617 0 1.116.5 1.116 1.12q0 .12-.09.21l-3.407 3.42c-.15.15-.01.39.19.34.737-.2 1.902-.51 2.928-.79a.3.3 0 0 1 .379.29v1.2c0 .13-.09.25-.219.29l-2.242.6a.75.75 0 0 1-.418 0l-1.615-.43a2.48 2.48 0 0 1-1.753-1.76l-.43-1.61a.75.75 0 0 1 0-.42l.599-2.25c.03-.13.15-.22.289-.22h1.196c.199 0 .338.19.289.38l-.787 2.93c-.05.19.189.34.338.19l3.408-3.42c.05-.06.13-.09.21-.09z"})));const Oi=(0,oe.Ay)("div",{target:"e1soik1t3"})({name:"46whl4",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:330px;height:100%;margin:0 auto"}),Hi=(0,oe.Ay)(Mi,{target:"e1soik1t2"})("width:21px;height:21px;color:",(0,oe.w4)("iconDefault"),";path{fill:",(0,oe.w4)("iconDefault"),";}"),Di=(0,oe.Ay)("h2",{target:"e1soik1t1"})("margin-top:8px;font-size:14px;line-height:1.33;font-weight:400;text-align:center;color:",(0,oe.w4)("textDefault"),";"),Li=(0,oe.Ay)("h3",{target:"e1soik1t0"})("margin-top:16px;font-size:12px;line-height:1.43;font-weight:400;text-align:center;color:",(0,oe.w4)("textMuted"),";"),Vi=()=>(0,m.jsxs)(Oi,{"data-testid":"conversation-empty-state-for-preview-mode",children:[(0,m.jsx)(Hi,{}),(0,m.jsx)(Di,{children:(0,j.Tl)("ask_fin_something_to_start")}),(0,m.jsx)(Li,{children:(0,m.jsx)("p",{children:(0,j.Tl)("preview_customer_view_empty_state_subtext")})})]});var Fi=i(20169),qi=i(34179);const Gi=e=>`part-${(0,ri.TS)(e)}`,Ui=(e,t)=>{const{ticket:i}=t;return i&&"message"===e.partType&&(0,ri.g4)(e)},$i=(0,s.forwardRef)((({appName:e,conversation:t,isBorderless:i,isMobile:n,onReactionSelect:r,onRetry:o,onArticleCardClick:s,onImageClick:a,frameWindow:l,setPartRef:c,canBeScrolled:d,scrolledToBottom:p,part:u,nextPart:h,prevPart:g,index:x,parts:f,lastAdminOrBotPart:v},y)=>{if(Ui(u,t)&&x<2)return null;const{lastTypingAdmin:b}=t,w=(0,ri.wH)(u,g,h),j=(0,ri.J2)(u,g,h),k=(0,ri.nR)(t,i),A=(0,ri.LR)(u,h,!!i,!!k,b),{reactionsReply:C}=(0,ni.A)(f),S=void 0===h;return(0,m.jsx)(si.A,{errorText:"Something went wrong loading this message",align:"center",style:{margin:"10px 0 20px"},children:(0,m.jsx)(ai.Q.Item,{id:(0,ri.TS)(u),children:(0,m.jsx)(ii,{ref:y,part:u,setPartRef:c,nextPart:h,appName:e,conversationId:t.id,reactionsReply:C,onReactionSelect:r,onRetry:o,hasAvatar:A,grouped:w,groupingPosition:j,isLastPart:S,partHasMetadata:(0,ri.Xl)(u,f,t,k),isBorderless:!!i,isMobile:!!n,frameWindow:l,onArticleCardClick:s,onImageClick:a,conversationHasScrolled:d&&!p,"data-testid":"conversation",lastAdminOrBotPart:v})})})})),Wi=({part:e})=>(0,m.jsx)(oi.ES,{"data-testid":"conversation-part-date-divider",role:"status",tabIndex:-1,children:(0,ri.pk)(e.sentAt||e.createdAt)});var Ki=i(93346);const Yi=(0,n.Ng)(((e,t)=>{const i=(0,r.ed)(e),n=(0,o.JA)(i,null==t?void 0:t.conversation),s=(0,Ki.L9)(e,t.conversation.id);return{activeBot:n?(0,r.Lf)(e):null,animatingConversationPartId:s}}))((e=>{var t;const{conversation:i,activeBot:n,animatingConversationPartId:r,isFaded:o=!1,isBorderless:a=!1,canBeScrolled:l,newMessagesLastReadAt:c,ensureIsScrollableToTopPart:d,clientAreaHeight:p}=e,{parts:u}=i,{showTypingIndicator:h,enabled:g}=(({conversation:e,delay:t=1500})=>{const i=!e.id&&e.parts.length>0,[n,r]=(0,s.useState)(i),[o,a]=(0,s.useState)(e.parts.length);return(0,s.useEffect)((()=>{if(n){const e=setTimeout((()=>{r(!1)}),t);return()=>{clearTimeout(e)}}}),[n,t,i]),(0,s.useEffect)((()=>{e.parts.length>o&&(r(!1),a(e.parts.length))}),[e.parts.length,o]),{showTypingIndicator:n,enabled:i}})({conversation:i}),x=u.length>0&&!a&&(0,ri.K0)(u)&&!Ui(u[0],i),f=(0,s.useRef)({}),v=(0,s.useMemo)((()=>((e,t)=>{let i=e.filter((e=>void 0!==e&&!(0,ri.er)(e)));const n=i.findIndex((e=>void 0!==t&&(0,ri.TS)(e)===t));return-1!==n&&(i=i.filter(((e,t)=>{var i;return!(null!=(i=e.author)&&i.isAdmin&&t>n)}))),i})(u,r)),[u,r]),y=(0,s.useRef)(null),[b,w]=(0,s.useState)(0),j=null==(t=(0,qi.S)())?void 0:t.streamingAnimation;(0,s.useEffect)((()=>{if(d&&("scroll:smooth:fade"===j||"scroll:smooth"===j||"scroll"===j)){const e=y.current,t=f.current[Gi(d)].current;if(e&&t){const i=e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+t.getBoundingClientRect().height;w(p-i-20-12+e.getBoundingClientRect().height)}}}),[d,p,j]);const{keyboardNavigationProps:k,NavigableItem:A}=(()=>{const e=(0,s.useRef)({}),[t,i]=(0,s.useState)(null),n=(0,s.useCallback)((n=>{if(-1===["ArrowUp","ArrowDown","Home","End","Tab"].indexOf(n.key))return;const r="Tab"===n.key,o=r&&n.shiftKey,s=e.current,a=Object.keys(s);if(!a.length)return;let l=t?a.indexOf(t):-1;if(o&&0===l)return;if(r&&!n.shiftKey&&l===a.length-1)return;n.preventDefault(),-1===l&&("ArrowDown"===n.key||"Home"===n.key||o?l=0:("ArrowUp"===n.key||"End"===n.key||r)&&(l=a.length-1));let c=l;switch(n.key){case"ArrowUp":c=Math.max(0,l-1);break;case"ArrowDown":c=Math.min(a.length-1,l+1);break;case"Tab":c=o?0:a.length-1;break;case"Home":c=0;break;case"End":c=a.length-1}if(c>=0&&c<a.length){const e=a[c],t=s[e];t&&(t.focus(),i(e))}}),[t]),r=(0,s.useCallback)((t=>i=>{if(i)e.current[t]=i;else{const i={};Object.keys(e.current).forEach((n=>{n!==t&&(i[n]=e.current[n])})),e.current=i}}),[]),o=(0,s.useCallback)((e=>({ref:r(e),onFocus:()=>i(e),tabIndex:0})),[r]);return{keyboardNavigationProps:{onKeyDown:n},NavigableItem:(0,s.useCallback)((e=>{const{elementId:t,children:i,role:n,ariaRoledescription:r}=e,a=o(t);return(0,s.createElement)("div",Object.assign({},a,{role:n||void 0,"aria-roledescription":r||void 0}),i)}),[o])}})(),C=(0,ni.A)(u.filter((e=>{var t,i;return(null==(t=e.author)?void 0:t.isAdmin)||(null==(i=e.author)?void 0:i.isBot)})));return(0,m.jsxs)(oi.ND,Object.assign({style:{minHeight:b}},k,{"data-testid":"conversation-parts-wrapper",children:[(0,Fi.Z)().conversationEmptyStateEnabled&&!u.length&&(0,m.jsx)(Vi,{}),(0,m.jsxs)(oi.Bp,{ref:y,shouldDisableScrollingAnimation:!l,isFaded:o,isBorderless:a,useUpdatedConversationPadding:!0,children:[x&&(0,m.jsx)(Wi,{part:u[0]}),h?(0,m.jsx)(ji,{admin:{isActive:!0,isBot:!0}}):(0,m.jsx)(oi.Ju,{shouldAnimate:g,children:v.map(((t,i)=>{const n=v[i-1],r=v[i+1],o=Gi(t),l=!a&&(0,ri.tK)(n,t),d=e.firstUnreadPartId&&(0,ri.TS)(t)===e.firstUnreadPartId;f.current[o]||=(0,s.createRef)();const p=f.current[o];return(0,m.jsx)(Ri,{part:t,parts:v,newMessagesLastReadAt:c,transitionRef:p,children:(0,m.jsxs)(m.Fragment,{children:[!!d&&(0,m.jsx)(ai.Q.Item,{id:"divider",children:(0,m.jsx)(Ei,{})}),l&&(0,m.jsx)(Wi,{part:t}),(0,m.jsx)(A,{elementId:o,role:"none",children:(0,m.jsx)($i,Object.assign({},e,{ref:p,part:t,nextPart:r,prevPart:n,index:i,parts:v,lastAdminOrBotPart:C}))})]})},o)}))}),(0,m.jsx)(Ti,{conversation:i,isBorderless:a,activeBot:n})]})]}))}))},51165:(e,t,i)=>{"use strict";i.d(t,{A:()=>x});var n=i(71468),r=i(2404),o=i.n(r),s=i(96540),a=i(26731),l=i(69830),c=i(23043),d=i(96875),p=i(18873),u=i(49651),h=i(70745),m=i(5351),g=i(74848);const x=(0,n.Ng)((e=>{const{composer:t}=e;return{composerContent:t.content}}))((function(e){const{conversation:t,composerContent:i,isBorderless:n,conversationSuggestions:r,onClick:x,onHeightChange:f,onSuggestionsShow:v,setComposerSuggestionsDismissed:y}=e,b=(0,s.useRef)(!1),w=(0,s.useRef)(!0),j=(0,m.A)().textMuted,k=(0,s.useCallback)((()=>{const{uxStyle:e}=r;return"bubble"===(null==e?void 0:e.container)}),[r]),A=(0,s.useCallback)((()=>{const e=r&&r.suggestions.length;var t;e&&!b.current&&((0,l.A5)("received","composer_suggestions","messenger","",Object.assign({},r,{url:null==(t=(0,h.KQ)())?void 0:t.href})),b.current=!0);e&&v&&w.current&&(v(),w.current=!1),e||(w.current=!0)}),[r,b,w,v]);(0,s.useEffect)((()=>{A()}),[A]);const C=()=>{(0,l.A5)("dismissed","composer_suggestions","messenger","",{conversationSuggestions:r,composerContent:i,conversation_id:null==t?void 0:t.id}),y&&y()},S=(0,s.useCallback)((()=>{if(!r)return!1;const{suggestions:e}=r;if(!e.length||"quick_reply"!==e[0].type)return!0;const i=(0,p.iZ)(t);return o()(i,e)}),[r,t]),T=(0,s.useMemo)((()=>S()?r.suggestions:[]),[r,S]),[_,E]=(0,s.useState)(T);(0,s.useLayoutEffect)((()=>{E(T)}),[T]);const N=(0,s.useCallback)((async e=>{E([]),await x(e);const n={conversation_id:null==t?void 0:t.id,conversationSuggestions:r,composerContent:i,suggestion:e};(0,l.A5)("clicked",(e=>{switch(e){case"messenger_suggested_content":return"composer_smart_suggestions";case"predictive_answer":return"predictive_answer";default:return"composer_suggestions"}})(e.type),"messenger","",n)}),[i,null==t?void 0:t.id,r,x]);if(!r)return null;const{isInboundBotSuggestions:B,isTypeaheadSuggestions:I,uxStyle:R}=r,P=k(),z=null==R?void 0:R.alignButtons;return(0,g.jsxs)(c.mc,{className:"composer-suggestions-container",isBorderless:!!n,isTypeaheadSuggestions:!!I,suggestionsVisible:_.length>0,useGroupedUI:P,children:[(()=>{const{isTypeaheadSuggestions:e,welcomeParts:t,uxStyle:i}=r,n=S()?r.prompt:[],o=S()?r.suggestionParts:null;return k()&&null!=i&&i.welcomePartsWithSuggestions&&null!=t&&t.length?(0,g.jsx)(c._e,{foregroundColor:j,children:t.map((e=>(0,g.jsx)(a.A,{autoPlay:!1,blocks:e.body},e.id)))}):o?null:null!=n&&n.length?(0,g.jsx)(c.hE,{children:(0,g.jsx)(a.A,{autoPlay:!1,blocks:n})}):T.length&&e?(0,g.jsxs)(c.o8,{children:[(0,g.jsx)(c.R4,{onClick:C,children:(0,u.Tl)("dont_show_suggestions")}),(0,g.jsx)(c.$e,{onClick:C})]}):null})(),(0,g.jsx)(c.CJ,{children:(0,g.jsx)(d.A,{isInboundBotSuggestions:B,isTypeaheadSuggestions:I,suggestions:_,onSelect:N,onHeightChange:f,isBorderless:n,useNewConversationalUI:!0,suggestionButtonsAlignment:z})})]})}))},71857:(e,t,i)=>{"use strict";i.d(t,{H:()=>s,S:()=>o});var n=i(96540),r=i(74848);const o=(0,n.createContext)({newFooterHeight:0,setNewFooterHeight:()=>{},footerRef:{current:null}});function s({children:e}){const[t,i]=(0,n.useState)(0),s=(0,n.useRef)(null),a=(0,n.useMemo)((()=>({newFooterHeight:t,setNewFooterHeight:i,footerRef:s})),[t]);return(0,r.jsx)(o.Provider,{value:a,children:e})}},85530:(e,t,i)=>{"use strict";i.d(t,{L:()=>a,e:()=>l});var n=i(96540),r=i(74848);const o=(0,n.createContext)(null);o.displayName="ConversationPartSourcesContext";const s={sources:void 0},a=()=>{const e=(0,n.useContext)(o);return e?e.sources:s.sources},l=({children:e,sources:t})=>(0,r.jsx)(o.Provider,{value:{sources:t},children:e})},93573:(e,t,i)=>{"use strict";i.d(t,{g:()=>r,v:()=>n});const n=(e,t,i=!1)=>{let n=e.slice(0,t);i&&(n=n.reverse());return[...n.filter((e=>e.avatar.square128)),...n.filter((e=>!e.avatar.square128))]},r=(e,t)=>{var i,n,r,o,s,a,l;return{imageUrl:t?(null==(i=e.avatar)?void 0:i.darkSquare128)||(null==(n=e.avatar)?void 0:n.square128):(null==(r=e.avatar)?void 0:r.square128)||(null==(o=e.avatar)?void 0:o.imageUrl),initials:(null==(s=e.avatar)?void 0:s.initials)||e.initial||e.firstName[0],label:(null==(a=e.avatar)?void 0:a.label)||`Profile image for ${e.firstName}`,shape:(null==(l=e.avatar)?void 0:l.shape)||"circle"}}},69771:(e,t,i)=>{"use strict";i.d(t,{EU:()=>d,HO:()=>p,Nm:()=>c});var n=i(67098),r=i.n(n),o=i(75959),s=i.n(o);const a=e=>{const t=r()(e).replace("&nbsp;","").trim();return s().isSupportedUnicode(t)||s().isSupportedAscii(t)};var l=i(73669);const c=e=>"paragraph"===e.type&&a(e.text)||"html"===e.type&&a(e.content)||"rawContent"===e.type&&a(e.content),d=e=>!!e&&1===e.length&&((0,l.aN)(e[0])||c(e[0])),p=e=>d(e)&&(0,l.N5)(e[0])},25229:(e,t,i)=>{"use strict";i.d(t,{D:()=>r,J:()=>n});const n=e=>{const t=e.clipboardData||e.originalEvent.clipboardData,{items:i}=t,n=[],r=o(i);for(const e in i){const t=i[e];if("file"===t.kind&&!r){const e=t.getAsFile();n.push(e)}}return n},r=e=>e.dataTransfer.files,o=e=>{if(e.length<=1)return!1;const t=[];for(const i in e)t.push(e[i].kind);return t.indexOf("string")>=0&&t.indexOf("file")>=0}},86629:(e,t,i)=>{"use strict";i.d(t,{J2:()=>w,Jm:()=>T,K0:()=>p,LR:()=>j,TS:()=>A,Uc:()=>_,Xl:()=>k,er:()=>C,g4:()=>S,nR:()=>g,pk:()=>h,tK:()=>u,wH:()=>b});var n=i(29500),r=i(53074),o=i(49651),s=i(48179),a=i(26265);const l=e=>new Date-e,c=18e4,d=["january","february","march","april","may","june","july","august","september","october","november","december"],p=e=>"link"===e[0].messageType?!e.slice(1).every((t=>(0,n.ny)(t.createdAt,e[0].sentAt))):!1!==e[0].showCreatedAt&&!e.every((t=>(0,n.ny)(t.createdAt,e[0].createdAt))),u=(e,t)=>e&&!(0,n.ny)(t.createdAt,e.sentAt||e.createdAt),h=e=>(0,o.Tl)(`${d[e.getMonth()]}_date`,{date:e.getDate().toString()}),m=(e,t)=>{const i=((e,t)=>{let i=e.lastActiveAt;return i&&void 0!==i.getTime&&(i=new Date(i.getTime()),i.setMilliseconds(0)),t.find((t=>{var n,r;return(null==(n=t.author)?void 0:n.isAdmin)&&(null==(r=t.author)?void 0:r.id)===e.id&&i&&t.createdAt>=i}))})(e,t),n=e.isBot?6e4:1e4;return!i&&!!e.lastActiveAt&&l(e.lastActiveAt)<n},g=(e,t=!1)=>{if(t||"messenger"!==(null==e?void 0:e.currentChannel))return!1;const{parts:i=[],lastTypingAdmin:n}=e;if(n&&n.isBot){var r;if(null!=e&&e.footerNotice)return!1;const t=i[i.length-1];if(!n.hasAI){var o;if(!1===(null==e||null==(o=e.composerState)?void 0:o.workflowActive))return!1;return t&&t.author&&!t.author.isAdmin&&!t.author.isBot&&"failed"!==t.saveState&&m(n,i)}const s=t&&l(t.createdAt)>=800;if(t&&null!=(r=t.author)&&r.isBot&&!s)return!1;return i.some((e=>e.author&&!e.author.isBot&&!e.author.isAdmin))&&m(n,i)}return!!n&&m(n,i)},x=(e,t,i=18e4)=>t-e<=i,f=(e,t)=>(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.isAdmin)===(null==t?void 0:t.isAdmin)||!0===(null==e?void 0:e.isSelf)&&!0===(null==t?void 0:t.isSelf)||!0===(null==e?void 0:e.isBot)&&!0===(null==t?void 0:t.isBot),v=(e,t)=>!(0,r.A)(e)&&!(0,r.A)(t),y=(e,t)=>{var i;const r=!!t&&v(e.partType,t.partType)&&(o=e.partType,s=t.partType,"ticket_status_update"!==o&&"ticket_status_update"!==s)&&(0,n.ny)(e.createdAt,t.createdAt)&&f(e.author,t.author)&&((e,t)=>(null==e?void 0:e.container)===(null==t?void 0:t.container))(e.uxStyle,t.uxStyle);var o,s;return null!=(i=e.author)&&i.isAdmin?r:r&&x(e.createdAt,t.createdAt,36e5)},b=(e,t,i)=>{const n=!!i&&y(e,i),r=!!t&&y(t,e);return n||r},w=(e,t,i)=>{if(!b(e,t,i))return a.L3.standalone;const n=!!t&&b(e,t,void 0),r=!!i&&b(e,void 0,i);return!n&&r?a.L3.top:n&&!r?a.L3.bottom:n&&r?a.L3.middle:a.L3.standalone},j=(e,t,i,r,o)=>{if((e=>{var t;return null==(t=e.author)?void 0:t.isSelf})(e)||"video"===e.messageType)return!1;if(!i)return!((e,t)=>!!t&&v(e.partType,t.partType)&&(0,n.ny)(e.createdAt,t.createdAt)&&f(e.author,t.author)&&x(e.createdAt,t.createdAt,c))(e,t);return!!t?!f(e.author,t.author):!(r&&o&&(null==(s=e.author)?void 0:s.id)===o.id);var s},k=(e,t,i,n,r=!1)=>{var o,a,l,c;const d=t.length>0&&(0,s.A)(t).id===e.id,p="comment"===e.partType||"message"===e.partType||"attribute_collector"===e.partType||"bot_intro"===e.partType,u="failed"===e.saveState,h="saving"===e.saveState;if(u)return!0;return!!(((null==i||null==(o=i.uiFlags)?void 0:o.showLastPartMeta)??!0)||null!=(a=e.author)&&a.isBot)&&(!!h||!!d&&((null==(l=e.author)||!l.isAdmin||!n)&&(!((null==(c=e.author)||!c.isAdmin)&&r&&p)&&p)))},A=e=>e.clientId||e.id,C=e=>"quick_reply"===e.partType&&(!e.body||0===e.body.length),S=e=>!(e&&e.body&&e.body[0])||"paragraph"===e.body[0].type&&e.body[0].text&&""===e.body[0].text.trim(),T=e=>e.filter((e=>void 0!==e&&!C(e)&&!S(e))),_=(e,t)=>{const i=(e=>e.findLastIndex((e=>{var t;return"user"===(null==(t=e.author)?void 0:t.type)})))(e);if(-1===i)return 0;const n=e.findIndex((e=>e.id===t.id));return n>i?n-i:0}},84864:(e,t,i)=>{"use strict";i.d(t,{B:()=>a,O:()=>l});var n=i(38221),r=i.n(n),o=i(7350),s=i.n(o);const a=(...e)=>{const t=s()(...e);return function(e){return e.persist(),t(e)}},l=(...e)=>{const t=r()(...e);return function(e){return e.persist(),t(e)}}},82525:(e,t,i)=>{"use strict";i.d(t,{q:()=>l});var n=i(9814),r=i(2292),o=i(96540),s=i(79986),a=i(47335);function l(e){const t=(0,s.jL)(),i=(0,a.A)("checklistsReminders");(0,o.useEffect)((()=>{i&&e&&((e.status!==r.vb.New||e.hasEverBeenNotified)&&!e.shouldRenotify||e.hasUpdatedNotificationDetails||t((0,n.lP)(e.id,e.checklistProgressId)))}),[i,t,e])}},60729:(e,t,i)=>{"use strict";i.d(t,{mK:()=>a,Th:()=>c,M5:()=>l});var n=i(97132);const r=(0,n.Mz)((e=>{var t;return null==(t=e.app)||null==(t=t.openConfig)?void 0:t.layout}),(e=>"default"===e)),o=(0,n.Mz)((e=>{var t;return null==(t=e.app)||null==(t=t.openConfig)?void 0:t.unifiedStyling}),(e=>e));var s=i(79986);function a(){return(0,s.GV)(r)}function l(){return(0,s.GV)(o)}function c(){return l()}},34179:(e,t,i)=>{"use strict";i.d(t,{A:()=>l,S:()=>a});var n=i(70400),r=i(79986),o=i(98099),s=i(72938);const a=()=>{var e;const t=(0,n.useMatch)(`/${s.Ij.id}/conversation/:conversationId`),i=null==t||null==(e=t.params)?void 0:e.conversationId;return(0,r.GV)((e=>(0,o.VN)(e,i)))},l=a},68297:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(96540);function r(e,t){const i=(0,n.useRef)(null);function r(){i.current&&clearInterval(i.current)}(0,n.useEffect)((()=>(r(),i.current=setInterval(e,t),r)),[e,t])}},51965:(e,t,i)=>{"use strict";i.d(t,{M:()=>o});var n=i(79986),r=i(51509);const o=()=>(0,n.GV)(r.c)},43579:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(96540),r=i(38221),o=i.n(r),s=i(56213);const a=100,l=async()=>(0,s.cT)()?ResizeObserver:await i.e(8096).then(i.t.bind(i,7829,23)).then((e=>e.default));function c(e,t,i=a){const r=(0,n.useRef)(null);(0,n.useEffect)((()=>{(async()=>{const e=await l();r.current=new e(o()(t,i))})()}),[r,t,i]),(0,n.useEffect)((()=>{var t;if(e)return null==r||null==(t=r.current)||t.observe(e),()=>{var e;return null==r||null==(e=r.current)?void 0:e.disconnect()}}),[r,e])}},38424:(e,t,i)=>{"use strict";i.d(t,{z:()=>o});var n=i(96540);const r=e=>{e&&(e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),e.focus())},o=(e,t,i=0,o=1)=>{const s=(0,n.useRef)({}),[a,l]=(0,n.useState)(i),c=t=>{switch(t.key){case"ArrowDown":t.preventDefault(),l((t=>{const i=t+o;return i<e?(r(s.current[i]),i):t}));break;case"ArrowRight":t.preventDefault(),l((t=>{const i=Math.min(t+1,e-1);return r(s.current[i]),i}));break;case"ArrowUp":t.preventDefault(),l((e=>{const t=e-o;return t>=0?(r(s.current[t]),t):e}));break;case"ArrowLeft":t.preventDefault(),l((e=>{const t=Math.max(e-1,0);return r(s.current[t]),t}))}};(0,n.useEffect)((()=>{l(i)}),t);return e=>({ref:t=>{t&&(s.current[e]=t)},tabIndex:e===a?0:-1,onKeyDown:c,onClick:()=>l(e)})}},96117:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(96540),r=i(42706);function o(e,t,i){const o=(0,n.useContext)(r.t);(0,n.useEffect)((()=>{if(!i)return null==o||o.document.addEventListener("mouseup",n),()=>{null==o||o.document.removeEventListener("mouseup",n)};function n(i){e.some((e=>{var t;return null==(t=e.current)?void 0:t.contains(i.target)}))||t()}}),[e,t,o,i])}},13625:(e,t,i)=>{"use strict";i.r(t),i.d(t,{appNodeId:()=>hy,default:()=>xy,styleNodeId:()=>my});var n=i(5338),r=i(71468),o=i(70400),s=i(52555),a=i(10389),l=i(25777),c=i(76662),d=i(8375),p=i(72938),u=i(82884),h=i(79986),m=i(14919),g=i(37046),x=i(74848);const f=()=>{const e=(0,h.GV)(m.BU);return(0,g.z)()?null:e&&"/"!==e?(0,x.jsx)(o.Navigate,{to:e,replace:!0}):(0,x.jsx)(o.Navigate,{to:"/messages",replace:!0})};var v=i(96540),y=i(71844);const b=()=>{const e=(0,o.useNavigate)(),t=(0,h.GV)(m.BU),i=(0,h.GV)(m.Ae);return(0,v.useEffect)((()=>{const n=setTimeout((()=>{i||e(t,{replace:!0})}),0);return()=>clearTimeout(n)}),[e,t,i]),(0,x.jsx)("div",{children:(0,x.jsx)(y.A,{})})};var w=i(86923);const j=300,k={type:"fade",direction:"none",time:150},A={type:"none",direction:"none",time:0},C={type:"slide",direction:"forward",time:j},S={type:"slide",direction:"back",time:j};const T=(0,w.Ay)("div",{target:"e11qurlh2"})({name:"1i1zgvg",styles:"display:flex;flex-direction:column;flex-grow:1;overflow:hidden"}),_=(0,w.Ay)("div",{target:"e11qurlh1"})({name:"1k0vitj",styles:"display:flex;flex-direction:column;flex:1;overflow:hidden;position:relative"}),E=(0,w.Ay)("div",{target:"e11qurlh0"})("display:flex;flex-direction:column;flex-grow:1;overflow:hidden;z-index:2;&.fade-enter ",T.className,"{opacity:0;}&.fade-exit ",T.className,"{opacity:1;}&.fade-exit,&.slide-exit,&.sheet-exit.up,&.sheet-enter.down,&.none-exit{position:absolute;display:flex;flex-direction:column;flex-grow:1;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:1;}&.fade-enter-active ",T.className,"{opacity:1;transition:opacity ",150,"ms;}&.fade-exit-active ",T.className,"{opacity:0;transition:opacity ",150,"ms;}&.slide-enter ",T.className,"{opacity:0;}&.slide-enter-active ",T.className,"{opacity:1;transition:opacity ",150,"ms;transition-delay:",150,"ms;}&.slide-exit ",T.className,"{opacity:1;}&.slide-exit-active ",T.className,"{opacity:0;transition:opacity ",150,"ms;}&.slide-enter.forward ",_.className,"{transform:translateX(20px);}&.slide-enter.back ",_.className,"{transform:translateX(-20px);}&.slide-enter.slide-enter-active ",_.className,"{transform:translateX(0);transition:transform ",150,"ms;transition-delay:",150,"ms;}&.slide-exit ",_.className,"{transform:translateX(0px);}&.slide-exit-active.forward ",_.className,"{transform:translateX(-20px);transition:transform ",150,"ms;}&.slide-exit-active.back ",_.className,"{transform:translateX(20px);transition:transform ",150,"ms;}&.sheet-enter.up,&.sheet-enter-appear.up{position:relative;transform:translateY(100%);}&.sheet-enter-active.up{transform:translateY(0%);transition:transform ",450,"ms;}&.sheet-exit.down,&.sheet-exit-appear.down{position:relative;transform:translateY(0%);}&.sheet-exit-active.down{transform:translateY(100%);transition:transform ",450,"ms;}"),N=(0,v.createContext)(null);N.displayName="HeaderContext";const B=()=>{const e=(0,v.useContext)(N);if(!e)throw new Error("useHeaderContext must be used within a HeaderContext.Provider");return e},I=({initialWhiteBackground:e,initialHeight:t,defaultWhiteBackground:i})=>{const[n,r]=(0,v.useState)(e),[o,s]=(0,v.useState)(t);return(0,v.useMemo)((()=>({whiteBackground:n,setWhiteBackground:r,defaultWhiteBackground:i,height:o,setHeight:s})),[n,r,i,o,s])},R=(0,v.createContext)(null);R.displayName="MessengerDynamicHeightContext";const P=()=>{const e=(0,v.useContext)(R);if(!e)throw new Error("useMessengerDynamicHeight must be used within a MessengerDynamicHeightProvider");return e};var z=i(183),M=i(32836),O=i(70951);const H=({transition:e,transitionKey:t,children:i})=>{const n=(0,v.useRef)({});n.current[t]||=(0,v.createRef)();const r=n.current[t],o=B(),s=(0,v.useMemo)((()=>Object.assign({},o,{setHeight:M.K,setWhiteBackground:M.K})),[o]),a=P();return(0,x.jsx)(z.F,{component:null,childFactory:t=>(0,v.cloneElement)(t,{ariaHidden:!0,classNames:`${e.direction} ${e.type}`,timeout:e.time}),children:(0,x.jsx)(z.B1,{timeout:0,unmountOnExit:!0,nodeRef:r,children:t=>(0,x.jsx)(O.u.Provider,{value:{transition:e,state:t},children:(0,x.jsx)(N.Provider,{value:"exiting"===t||"exited"===t?s:o,children:(0,x.jsx)(R.Provider,{value:"exiting"===t||"exited"===t?M.K:a,children:(0,x.jsx)(E,{ref:r,children:i})})})})},t)})},D=()=>{const[e]=(0,v.useState)((0,o.useOutlet)());return e},L=({getTransition:e})=>{const t=(0,o.useLocation)(),[i,n]=(0,v.useState)(t),[r,s]=(0,v.useState)(t);(0,v.useEffect)((()=>{t.pathname!==i.pathname&&(n(t),s(i))}),[t,i]);const a=e(r,i);return(0,x.jsx)(H,{transition:a,transitionKey:i.pathname,children:(0,x.jsx)(D,{})})},V=({header:e,children:t})=>(0,x.jsxs)(T,{children:[null!==e&&e,(0,x.jsx)(_,{children:t})]});const F=(0,w.Ay)("div",{target:"e1ch7n1d3"})("overflow-y:auto;overflow-x:hidden;min-height:100%;overscroll-behavior:contain;scrollbar-color:",(0,w.w4)("alphaBlack40")," transparent;scrollbar-width:thin;&::-webkit-scrollbar{appearance:none;width:5px;}&::-webkit-scrollbar-thumb{background-color:",(0,w.w4)("alphaBlack40"),";border-radius:5px;}&::-webkit-scrollbar-track{background-color:transparent;}"),q=(0,w.Ay)("div",{target:"e1ch7n1d2"})("display:flex;flex-direction:column;gap:10px;margin-top:",(({homeBackgroundType:e})=>(e=>{switch(e){case"colors":case"solid":return"-125px";case"image":return"-55px";default:return"-34px"}})(e)),";"),G=(0,w.Ay)("div",{target:"e1ch7n1d1"})({name:"jxxlxm",styles:"height:159px"});var U={name:"pbbd9q",styles:"padding-bottom:0px"};const $=(0,w.Ay)("div",{target:"e1ch7n1d0"})("display:flex;flex-direction:column;box-sizing:border-box;padding:",(({theme:e})=>`0px ${e.globalHorizontalPadding}px`),";min-height:100%;",(({isIntercomLinkEnabled:e})=>e&&U),";");var W=i(81323),K=i(47452),Y=i(32485),X=i.n(Y),J=i(5821);class HomeScreenMessengerCard extends v.PureComponent{getClassName(){return X()({"intercom-home-screen-messenger-card":!0,[`intercom-home-screen-messenger-card-${this.props.index}`]:!0})}render(){const{cardUri:e,isFetched:t,index:i}=this.props;return t&&(0,x.jsx)("div",{className:this.getClassName(),children:(0,x.jsx)(J.Ay,{cardUri:e,homeScreenIndex:i})})}}var Z=i(14072),Q=i(44458);const ee=(0,w.Ay)("div",{target:"e4hvvep3"})({name:"1nsqd2r",styles:"display:flex;flex-direction:column;gap:8px;padding:8px;font-size:14px;line-height:21px"}),te=(0,w.Ay)("button",{target:"e4hvvep2"})("display:flex;justify-content:space-between;align-items:center;width:100%;height:40px;box-sizing:border-box;padding:10px 12px;font-weight:600;background:",(0,w.w4)("containerNeutral"),";border-radius:8px;color:",(0,w.w4)("textDefault"),";transition:background 250ms;&:hover{color:",(({theme:e})=>e.isPrimaryColorAsTheme?e.textDefault:e.primaryColor),";background:",(({theme:e})=>e.isPrimaryColorAsTheme?e.containerEmphasisNeutral:(0,Z.vf)(e.primaryColor,.1)),";}",(({useDarkBackground:e,theme:t})=>!e&&(0,w.AH)("background:",t.containerBaseNeutral,";&:hover{background:none;}")),";"),ie=(0,w.Ay)("div",{target:"e4hvvep1"})("line-height:1.5;color:",(0,w.w4)("textMuted"),";"),ne=(0,w.Ay)("div",{target:"e4hvvep0"})("display:flex;align-items:center;justify-content:space-between;margin:0 12px 4px;color:",(0,w.w4)("textMuted"),";padding-top:4px;",Q.Z.className,"{width:28px;height:28px;}",(({showDivider:e,theme:t})=>e&&(0,w.AH)("padding-top:12px;border-top:1px solid ",t.borderEmphasisNeutral,";")),";");var re=i(64845),oe=i(93656),se=i(38762),ae=i(86073);var le={name:"2b8jyz",styles:"flex-direction:row-reverse"};const ce=(0,w.Ay)("div",{target:"e85jzrc1"})("display:flex;flex:0 0 auto;align-items:",(({alignItems:e})=>e),";margin-right:",(({marginRight:e})=>e),";white-space:nowrap;width:fit-content;overflow:hidden;line-height:1;",(({theme:e})=>e.isRtlLocale&&le),";",(({useCutout:e,useAppColorForAvatarBorder:t,borderWidth:i,borderPrimaryColor:n,avatarSize:r,avatarPixelsToShow:o,cutoutSize:s,theme:a})=>e?(0,w.AH)(pe.className,":not(:first-of-type) ",Q.Z.className,"{mask:",function(e,t,i){const n=e/2+1;return`radial-gradient(circle at ${e/2-t+i}px, transparent ${n}px, white ${n+1}px)`}(r,o,s),";}"):(0,w.AH)(Q.Z.className,"{border:",i,"px solid ",n?a.primaryColor:t?a.appSecondaryColor:a.borderNeutral,";}")),";");var de={name:"1dk0v5d",styles:"z-index:2"};const pe=(0,w.Ay)("div",{target:"e85jzrc0"})("display:inline-block;z-index:1;",(({front:e})=>e&&de),";&:not(:first-of-type){/* @noflip */margin-left:",(0,w.xk)("marginLeft"),"px;}");var ue=i(55073);const he=(0,v.createContext)(null);he.displayName="AvatarStackContext";const me=()=>{const e=(0,v.useContext)(he);if(!e)throw new Error("AvatarStack compound components cannot be rendered outside the AvatarStack component");return e},ge=({front:e=!1,children:t})=>{const{avatarPixelsToShow:i,avatarSize:n}=me(),r=i-n;return(0,x.jsx)(pe,{front:e,marginLeft:r,"data-testid":"avatar-stack-item",children:t})},xe=({avatarPixelsToShow:e=44,avatarSize:t=52,useAppColorForAvatarBorder:i=!1,marginRight:n="6px",borderWidth:r=2,borderPrimaryColor:o=!1,useCutout:s=!1,cutoutSize:a=0,alignItems:l="center",children:c})=>{const d=(0,v.useMemo)((()=>({avatarPixelsToShow:e,avatarSize:t})),[e,t]);return(0,x.jsx)(ce,{marginRight:n,useAppColorForAvatarBorder:i,borderWidth:r,borderPrimaryColor:o,useCutout:s,avatarSize:t,avatarPixelsToShow:e,cutoutSize:a,alignItems:l,"data-testid":"avatar-stack",children:(0,x.jsx)(he.Provider,{value:d,children:(0,x.jsx)(ue.m.Provider,{value:t,children:c})})})},fe=ge;var ve=i(91889),ye=i(93573);const be=["admins","maxAdmins","solidBackground"];const we=e=>{let{admins:t,maxAdmins:i=6,solidBackground:n}=e,r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,be);const o=(0,h.GV)(W.u5),s=t||o;return(0,x.jsx)(xe,Object.assign({},r,{children:(0,ye.v)(s,i,!0).map(((e,t)=>(0,x.jsx)(fe,{children:(0,x.jsx)(ve.l,{solidBackground:n&&s.length>1,admin:e,size:r.avatarSize})},t)))}))};var je=i(69830),ke=i(84328);const Ae={};function Ce({object:e="",place:t="",context:i=ke.oZ,metadata:n=Ae,sendMetricCondition:r=!0}){const o=(0,h.jL)();(0,v.useEffect)((()=>{r&&o(((r,o)=>{const{user:s}=o();(0,je.Jr)(s,"viewed",e,t,i,n)}))}),[e,t,i,r,o])}function Se(){const e=(0,o.useNavigate)(),t=(0,o.useLocation)(),i=(0,m.wR)(t.pathname),n=(0,v.useCallback)(((t,i)=>{e(`/${t}${i?`?${i}`:""}`)}),[e]),r=(0,h.GV)(m.V$)&&(i.id===p.Zh.id||i.id===p.kG.id);return(0,v.useMemo)((()=>({showSpace:n,currentSpace:i,isCompactHomeShowing:r})),[n,i,r])}var Te=i(57296),_e=i(41817),Ee=i(39502),Ne=i(49651);const Be=({index:e,suggestions:t,metadata:i={}})=>{const n=(0,h.jL)(),{showSpace:r}=Se(),o=(0,h.GV)(W.Jh),s=(0,h.GV)(Ee.wc),a=(0,h.GV)(m.j7),l=(null==t?void 0:t.length)||0,c=null==t?void 0:t.map((({id:e})=>e)),d=!(null==t||!t.length),u=!d&&!o;(0,v.useEffect)((()=>{!a&&s&&n((0,_e.I8)())}),[n,s,a]);return Ce({object:ke.zU,place:ke.mM,context:ke.Ey,metadata:{home_screen_index:e,article_suggestions:Object.assign({loaded:!!t,articles_count:l,articles_shown:c},i)},sendMetricCondition:!0}),Ce({object:ke.pi,place:ke.oq,context:ke.G,metadata:Object.assign({articles_count:l,articles_shown:c},i),sendMetricCondition:l>0}),(0,x.jsx)(re.A,{noPadding:!0,isEntireCardClickable:u,className:"intercom-home-screen-search-browse-card",children:(0,x.jsxs)(ee,{children:[(0,x.jsxs)(te,{useDarkBackground:!u,onClick:()=>{n((0,_e.lm)({object:ke.ef,place:ke.mM,context:ke.Ey})),r(p.ZL.id,"fromHome=true")},children:[(0,x.jsx)("span",{children:(0,Ne.Tl)("search_for_help")}),(0,x.jsx)(ae.Ay,{type:"Search",size:16,color:"linkColor"})]}),d?(0,x.jsx)(oe.A,{noDivider:!0,children:null==t?void 0:t.map(((e,t)=>(0,x.jsx)(se.A,{"data-testid":"search-browse-item",size:"tiny",rightIcon:"RightChevronColorable",rightIconColor:"linkColor",hoverBackground:!0,rounded:!0,onClick:()=>{return r=e,o=t,n((0,_e.lm)({object:ke.eu,place:ke.oq,context:ke.G,metadata:Object.assign({article_id:r.id,position:o},i)})),void n((0,Te.n$)(r.id,{},!0));var r,o},children:(0,x.jsx)(ie,{children:e.title})},t)))}):null,o&&(0,x.jsxs)(ne,{showDivider:d,children:[(0,x.jsx)("span",{children:(0,Ne.Tl)("the_team_can_help_if_needed")}),(0,x.jsx)(we,{avatarSize:24,maxAdmins:3,avatarPixelsToShow:12,useAppColorForAvatarBorder:!1})]})]})})},Ie=(0,w.Ay)("div",{target:"e10s8q3e0"})();var Re=i(31416),Pe=i(52203);const ze=({visible:e,onRetry:t})=>(0,x.jsx)(Ie,{children:(0,x.jsx)(Pe.A,{duration:200,animationKey:"error-message",children:e?(0,x.jsx)(Re.A,{inline:!0,onRetry:t,children:(0,Ne.Tl)("couldnt_load_apps")}):null})});var Me=i(56449),Oe=i.n(Me),He=i(54979);const De=(0,w.Ay)("div",{target:"e2j9h0w9"})({name:"bjn8wh",styles:"position:relative"}),Le=(0,w.Ay)("div",{target:"e2j9h0w8"})("height:",(({height:e})=>`${e}px`),";width:100%;position:fixed;top:0%;left:0;transform:translateZ(0);z-index:-1;",(({backgroundType:e,gradientColors:t})=>"colors"===e&&Oe()(t)&&(0,w.AH)("background-image:",t&&2===(null==t?void 0:t.length)?`linear-gradient(117.67deg, ${t[0]}, ${t[1]})`:"",";background-image:",t&&3===(null==t?void 0:t.length)?`linear-gradient(117.67deg, ${t[0]}, ${t[1]}, ${t[2]})`:"",";")),";",(({backgroundType:e,theme:t})=>"solid"===e&&(0,w.AH)("background-color:",t.homeHeaderBackgroundColor,";")),";",(({imageUrl:e})=>e&&(0,w.AH)("background-image:url(",e,");background-size:",e.endsWith(".gif")?"cover":"100%",";background-position:",e.endsWith(".gif")?"center":"top left",";")),";"),Ve=(0,w.Ay)("canvas",{target:"e2j9h0w7"})({name:"w1atjl",styles:"width:100%;height:100%"}),Fe=(0,w.Ay)("div",{target:"e2j9h0w6"})("padding-top:32px;padding-right:20px;padding-left:20px;box-sizing:border-box;background-repeat:no-repeat;position:relative;",(({theme:e,opacity:t})=>(0,w.AH)("color:",e.headerTitleColor,";opacity:",t,";"))," ",(({size:e})=>e&&(0,w.AH)("padding-bottom:",(e=>{switch(e){case"medium":return"80px";case"long":return"150px";default:return"60px"}})(e),";")),";");var qe={name:"aetk3e",styles:"height:80px"};const Ge=(0,w.Ay)("div",{target:"e2j9h0w5"})("position:absolute;bottom:0;left:0;height:140px;width:100%;opacity:1;z-index:0;/* @noflip */background:linear-gradient(\n    180deg,\n    ",(0,w.w4)("baseAlpha")," 0%,\n    ",(0,w.w4)("containerBaseNeutral")," 100%\n  );",(({short:e})=>e&&qe),";");var Ue={name:"9vhnwp",styles:"img{max-width:100%;object-fit:scale-down;}"},$e={name:"108qp7n",styles:"margin-bottom:-20px"};const We=(0,w.Ay)("div",{target:"e2j9h0w4"})("font-size:25px;font-weight:bold;margin-top:4px;overflow:hidden;img{max-height:32px;max-width:100%;}",(e=>e.logoOnly&&$e)," ",(({showCloseButton:e})=>e&&Ue),";"),Ke=(0,w.Ay)(He.A,{target:"e2j9h0w3"})("color:",(0,w.w4)("introductionTextColor"),";opacity:1;",(({useMutedText:e,theme:t})=>e&&(0,w.AH)("color:",t.greetingTextColor,";"))," ",(({backgroundType:e,textColorType:t,useMutedText:i,theme:n})=>(0,w.AH)("color:","dark"===t?n.textBlack:n.textWhite,";text-shadow:0px 0px 30px ","dark"===t?n.headerTextShadowLight:n.headerTextShadowDark,";opacity:",i?Xe(e):1,";")),";"),Ye=(0,w.Ay)("div",{target:"e2j9h0w2"})("display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:70px;height:40px;",(({reserveSpaceOnRight:e})=>e&&(0,w.AH)(We.className,"{margin-right:40px;}",Ze.className,"{margin-left:0px;}")),";"),Xe=e=>{switch(e){case"colors":case"image":return.6;default:return 1}},Je=(0,w.Ay)("div",{target:"e2j9h0w1"})({name:"1w0b59e",styles:"font-size:28px;line-height:34px;*{overflow-wrap:break-word;font-weight:600;}"}),Ze=(0,w.Ay)("div",{target:"e2j9h0w0"})((({withSpaceForCloseButton:e,scrollbarVisible:t})=>e&&(0,w.AH)("margin-right:",t?"24px":"42px",";margin-left:10px;")),";"),Qe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,et=210,tt=130,it=1e3/60-3,nt=2*Math.PI;class GlowParticle{constructor(e,t,i,n){this.x=void 0,this.y=void 0,this.radius=void 0,this.rgb=void 0,this.vx=void 0,this.vy=void 0,this.firstColor=void 0,this.secondColor=void 0,this.x=e,this.y=t,this.radius=i,this.firstColor=`rgba(${n.r}, ${n.g} ,${n.b}, 1)`,this.secondColor=`rgba(${n.r}, ${n.g} ,${n.b}, 0)`,this.vx=.2*Math.random(),this.vy=.2*Math.random()}update(e,t){this.x+=this.vx,this.y+=this.vy,this.x<=0?(this.vx*=-1,this.x+=1):this.x>=e&&(this.vx*=-1,this.x-=1),this.y<=0?(this.vy*=-1,this.y+=1):this.y>=t&&(this.vy*=-1,this.y-=1)}draw(e){e.beginPath();const t=Math.floor(this.x),i=Math.floor(this.y),n=e.createRadialGradient(t,i,.01*this.radius,t,i,this.radius);n.addColorStop(0,this.firstColor),n.addColorStop(1,this.secondColor),e.fillStyle=n,e.arc(t,i,this.radius,0,nt,!1),e.fill(),e.closePath()}}const rt=({colors:e})=>{const t=(0,v.useRef)(null),[i]=(0,v.useState)((()=>{const t=e.map((e=>{const t=Qe.exec(e.trim());return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}));const i=Math.min(et,tt),n=.8*i,r=.6*i,o=[];let s=0;for(let e=0;e<16;e++){const i=new GlowParticle(Math.random()*et,Math.random()*tt,Math.random()*(n-r)+r,t[s]||{r:0,g:0,b:0});++s>=t.length&&(s=0),o[e]=i}return o})());return(0,v.useEffect)((()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;n.globalCompositeOperation="saturation";let r,o=(new Date).getTime()-it;const s=()=>{const e=(new Date).getTime();e-o>=it&&((()=>{n.clearRect(0,0,et,tt);for(const e of i)e.draw(n),e.update(et,tt)})(),o=e),r=window.parent.requestAnimationFrame(s)};return s(),()=>{cancelAnimationFrame(r)}}),[t,i]),(0,x.jsx)(Ve,{ref:t,width:et,height:tt})};var ot=i(44674);function st({title:e,subtitle:t,logo:i,showAvatars:n=!0,children:r,opacity:o=1,background:s,textColorType:a,closeButtonEnabled:l,scrollbarVisible:c}){const[{height:d},p]=(0,ot.A)(),u="colors"===(null==s?void 0:s.type)&&(null==s?void 0:s.animated),h=!("image"!==(null==s?void 0:s.type)||null==s||!s.imageUrl);return(0,x.jsxs)(De,{children:[(0,x.jsxs)(Le,{height:d,backgroundType:null==s?void 0:s.type,gradientColors:null==s?void 0:s.gradient,fadeToTheme:null==s?void 0:s.fadeToTheme,imageUrl:h?s.imageUrl:void 0,children:[u&&null!=s&&s.gradient?(0,x.jsx)(rt,{colors:s.gradient}):null,(null==s?void 0:s.fadeToTheme)&&(0,x.jsx)(Ge,{short:h})]}),(0,x.jsxs)(Fe,{opacity:o,ref:p,size:null!=s&&s.fadeToTheme?h?"medium":"long":"short",children:[(0,x.jsxs)(Ye,{hasLogo:!!i,showCloseButton:l,reserveSpaceOnRight:n||l,children:[i&&(0,x.jsx)(We,{logoOnly:!(e||t),showCloseButton:l,children:(0,x.jsx)("img",{src:i,alt:"logo"})}),n&&(0,x.jsx)(Ze,{withSpaceForCloseButton:l,"data-testid":"home-header-avatars",scrollbarVisible:c,children:(0,x.jsx)(we,{solidBackground:!0,avatarSize:40,useCutout:!0,cutoutSize:1,maxAdmins:3,avatarPixelsToShow:38,useAppColorForAvatarBorder:!0})})]}),(0,x.jsxs)(Je,{children:[e&&(0,x.jsx)(Ke,{"data-testid":"title",text:e,tagName:"p",useMutedText:!!t,backgroundType:null==s?void 0:s.type,textColorType:a}),t&&(0,x.jsx)(Ke,{"data-testid":"subtitle",text:t,tagName:"p",useMutedText:!1,backgroundType:null==s?void 0:s.type,textColorType:a})]}),r]})]})}var at=i(96808);const lt=(0,w.Ay)("div",{target:"e1b44tca0"})({name:"t26g63",styles:"margin:auto;width:fit-content"});var ct=i(17905);const dt=(0,w.Ay)("div",{target:"etajtt47"})({name:"hxbng4",styles:"font-weight:600;font-size:14px;line-height:21px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal;margin-bottom:4px"}),pt=(0,w.Ay)("div",{target:"etajtt46"})("display:flex;flex-direction:column;box-sizing:border-box;cursor:pointer;transition:box-shadow 150ms;background-color:",(0,w.w4)("containerBaseNeutral"),";color:",(0,w.w4)("textDefault"),";border-radius:12px;box-shadow:",(0,w.w4)("shadowMedium"),";border:1px solid ",(0,w.w4)("borderNeutral"),";",ct.jt.className,"{background-color:transparent;}",(({theme:e})=>(0,w.AH)("&:hover{",dt.className,"{color:",e.isPrimaryColorAsTheme?e.textDefault:e.primaryColor,";}}"))," ",(({theme:e})=>e.isPrimaryColorAsTheme&&(0,w.AH)("&:hover{box-shadow:",e.shadowMedium,";}")),";"),ut=(0,w.Ay)("div",{target:"etajtt45"})({name:"kimquz",styles:"height:140px;display:flex;flex-direction:column;img{width:100%;height:100%;object-fit:cover;overflow:hidden;border-radius:10px 10px 0px 0px;}"}),ht=(0,w.Ay)("div",{target:"etajtt44"})({name:"1r1l02z",styles:"flex:1;display:flex;flex-direction:column;padding:16px 20px"}),mt=(0,w.Ay)("div",{target:"etajtt43"})({name:"pbqhtn",styles:"display:flex;align-items:center;padding-top:12px"}),gt=(0,w.Ay)("div",{target:"etajtt42"})({name:"1t91kdm",styles:"flex:1;display:flex;flex-direction:column"}),xt=(0,w.Ay)("div",{target:"etajtt41"})("display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;font-size:14px;line-height:21px;color:",(0,w.w4)("textDefault"),";"),ft=(0,w.Ay)("div",{target:"etajtt40"})({name:"rh860e",styles:"margin-left:20px;svg{margin-top:20px;min-width:auto;}"});var vt=i(42910),yt=i(80607);function bt(e){return(t,i)=>{const{session:n}=i();return t({type:yt.GGM}),vt.Ay.fetchNewsItemDetails(n,e).then((e=>{t(function(e){return{type:yt.cgs,newsItem:e}}(e))})).catch((()=>{t(function(e){return{type:yt.D8v,newsItemId:e}}(e))}))}}function wt(e,t){return async(i,n)=>{const{session:r}=n();return vt.Ay.recordNewsItemReaction(r,e,t).then((n=>{n&&i(function(e,t){return{type:yt.cRm,newsItemId:e,reactionIndex:t}}(e,t))}))}}const jt=(0,w.Ay)("div",{target:"e1w83g171"})({name:"cl7urv",styles:"display:flex;flex-wrap:wrap;gap:8px"}),kt=(0,w.Ay)("div",{target:"e1w83g170"})("display:flex;flex-direction:row;align-items:center;font-weight:400;font-size:14px;line-height:22px;color:",(0,w.w4)("linkColor"),";padding:0px 6px 0px 6px;background:",(0,w.w4)("labelBackgroundColor"),";border:0px;border-radius:10px;");function At({newsItem:e,preview:t}){let i=e.labels||[];if(0===i.length)return null;if(t&&i.length>2){const[e,...t]=i;i=[e],t.length>0&&i.push({id:-1,name:(0,Ne.Tl)("extra_labels_count",{labels_count:String(t.length)})})}return(0,x.jsx)(jt,{children:i.map((e=>(0,x.jsx)(kt,{children:e.name},e.id)))})}var Ct=i(48365);function St({newsItem:e,isUnread:t,renderingContext:i}){const n=(0,o.useNavigate)(),r=(0,h.jL)(),s=(0,v.useCallback)((()=>{r(function(e){return{type:yt.Pd4,newsItem:e}}(e)),n(`/news/details/${e.id}`,{state:{navigatingFrom:i}})}),[n,r,e,i]);return(0,x.jsxs)(pt,{isUnread:t,onClick:s,"data-testid":"news-item-card",children:[e.coverImageUrl&&(0,x.jsx)(ut,{children:(0,x.jsx)("img",{src:e.coverImageUrl,alt:e.title})}),(0,x.jsxs)(ht,{children:[(0,x.jsx)(At,{newsItem:e,preview:!0}),(0,x.jsxs)(mt,{children:[(0,x.jsxs)(gt,{children:[(0,x.jsx)(dt,{children:e.title}),(0,x.jsx)(xt,{children:(0,x.jsx)(Ct.y,{text:e.description,tagName:"div",className:"intercom-block-paragraph"})})]}),(0,x.jsx)(ft,{children:(0,x.jsx)(ae.Ay,{size:16,type:"RightChevronColorable",color:"linkColor"})})]})]})]})}var Tt=i(72374);function _t(e,t){return t&&e.publishedAt&&t.getTime()>=e.publishedAt.getTime()}var Et=i(28957);function Nt(){const e=(0,h.jL)(),t=(0,h.GV)(Tt.Tm),i=(0,h.GV)(Tt.Xg),n=(0,h.GV)(Tt.RT);return(0,v.useEffect)((()=>{!n&&i&&e((0,Et.L2)())}),[n,i,e]),{loading:n,newsItems:t}}function Bt(){const{loading:e,newsItems:t}=Nt(),i=(0,h.GV)(Tt.AL),n=(0,h.GV)(Tt.DF)||0,r=void 0!==n&&n>0;if(!(e||t&&0!==t.length))return null;if(e&&(!t||0===t.length))return(0,x.jsx)(lt,{children:(0,x.jsx)(y.A,{inline:!0})});if(t){const e=t[0],n=r&&!_t(e,i);return(0,x.jsx)(St,{newsItem:e,isUnread:n,renderingContext:ke.vU})}return null}function It(){const e=(0,h.GV)(Tt.Tm),t=e&&e.length>0&&e[0];return Ce({object:ke.a6,place:ke.mM,context:ke.vU,metadata:{news_item_id:null==t?void 0:t.id},sendMetricCondition:!!t}),(0,x.jsx)(Bt,{})}var Rt=i(94560),Pt=i(26265);const zt=({primaryAvatar:e,secondAvatar:t,thirdAvatar:i,facePileStyle:n="default",size:r=64})=>{const o=r,s=.75*o,a=s/12,l=.5*o,c=i||t,d=i?t:null;return"greeting"===n&&!d&&c?(0,x.jsxs)(xe,{borderWidth:1,marginRight:"0",alignItems:"flex-end",children:[(0,x.jsx)(fe,{children:(0,x.jsx)(ue.m.Provider,{value:o,children:e})}),(0,x.jsx)(fe,{front:!0,children:(0,x.jsx)(ue.m.Provider,{value:l,children:c})})]}):(0,x.jsxs)(xe,{borderWidth:a,marginRight:"0",children:[d?(0,x.jsx)(fe,{children:(0,x.jsx)(ue.m.Provider,{value:s,children:d})}):null,(0,x.jsx)(fe,{front:!0,children:(0,x.jsx)(ue.m.Provider,{value:o,children:e})}),c?(0,x.jsx)(fe,{children:(0,x.jsx)(ue.m.Provider,{value:s,children:c})}):null]})},Mt=({size:e="large"})=>{const t=(0,h.GV)(W.Lf),{activeAdmins:i=[]}=(0,h.GV)(W.rp),n=(0,h.GV)(W._D),r=(0,ye.v)(i||[],2,!0);return(0,x.jsx)(zt,{size:"large"===e?64:32,primaryAvatar:(0,x.jsx)(ve.l,{admin:t.participant}),secondAvatar:n&&r[0]?(0,x.jsx)(ve.l,{admin:r[0]}):null,thirdAvatar:n&&r[1]?(0,x.jsx)(ve.l,{admin:r[1]}):null})};const Ot=(0,w.Ay)("div",{target:"e15cg9301"})({name:"1yfrhj8",styles:"display:flex;flex-direction:row;align-items:center;gap:8px;margin:-3px 0"}),Ht=(0,w.Ay)("div",{target:"e15cg9300"})("color:",(0,w.w4)("textMuted"),";font-size:14px;line-height:1.5;word-wrap:break-word;overflow-wrap:break-word;");const Dt=(0,w.Ay)("span",{target:"ehy464x2"})(),Lt=(0,w.Ay)("span",{target:"ehy464x1"})();var Vt={name:"1u3r55",styles:"padding:10px 26px 10px 24px"};const Ft=(0,w.Ay)(se.A,{target:"ehy464x0"})(Lt.className," path{fill:",(0,w.w4)("linkColor"),";}&:hover{color:",(0,w.w4)("linkColor"),";}",(({theme:e})=>e.isMobileSize&&Vt),";"),qt=({children:e})=>(0,x.jsx)(Lt,{children:e}),Gt=({type:e})=>(0,x.jsx)(Dt,{children:(0,x.jsx)(ae.Ay,{type:e||"RightChevronColorable",color:"iconMuted"})});function Ut({children:e,left:t,onClick:i,rightIcon:n,right:r,truncate:o}){return(0,x.jsx)(Ft,{size:"small",left:(0,x.jsx)(qt,{children:t}),right:r||(0,x.jsx)(Gt,{type:n}),hoverBackground:!0,onClick:i,truncate:o,children:e})}const $t=({title:e,subtitle:t,onClick:i,right:n,rightIcon:r})=>(0,x.jsx)(re.A,{noPadding:!0,isEntireCardClickable:!0,onClick:i,children:(0,x.jsxs)(se.A,{right:n,rightIcon:r,rightIconColor:"linkColor",children:[(0,x.jsx)(re.A.Title,{children:e}),(0,x.jsx)(Ht,{children:t})]})}),Wt=({title:e,onClick:t,icon:i})=>(0,x.jsx)(Ut,{onClick:t,left:(0,x.jsx)(ae.Ay,{type:i,color:"linkColor",size:16}),rightIcon:"RightChevronColorable",children:e}),Kt=({title:e,icon:t,onClick:i})=>{const n=-1!==[Pt.Bn.bot,Pt.Bn.fin,Pt.Bn.facepile].indexOf(t);return(0,x.jsx)(Wt,{title:e,onClick:i,icon:n?"AskQuestion":"ComposerSend"})},Yt=()=>{const e=(0,h.jL)(),t=(0,h.GV)(m.V$),i=(0,h.GV)(K.He),n=(0,h.GV)(W.Lf),r=()=>{(0,je.A5)("clicked","new_conversation","messenger","home"),e((0,Rt.p6)())},o=(0,v.useMemo)((()=>{var e,t;return null!=i&&i.action?{title:i.action.label,subtitle:i.action.subtitle,icon_type:(null==(e=i.action.avatar_details)?void 0:e.type)??i.action.icon??("AskQuestion"===i.action.custom_icon?Pt.Bn.bot:Pt.Bn.teammate),avatars:null==(t=i.action.avatar_details)?void 0:t.avatars,icon:i.action.custom_icon}:{title:(0,Ne.Tl)("send_us_a_message"),subtitle:(0,Ne.Tl)("send_us_a_message_subtitle"),icon_type:Pt.Bn.teammate}}),[i]);if(t)return(0,x.jsx)(Kt,{title:o.title,onClick:r,icon:o.icon_type});if(o.icon_type===Pt.Bn.bot)return(0,x.jsx)($t,{title:o.title||(0,Ne.Tl)("send_us_a_message"),subtitle:o.subtitle,onClick:r,rightIcon:"AskQuestion"});if(o.icon_type===Pt.Bn.fin){const e=(null==n?void 0:n.participant)&&(0,x.jsxs)(Ot,{children:[(0,x.jsx)(ve.l,{size:24,admin:n.participant}),(0,x.jsx)(ae.Ay,{type:"RightChevronColorable",color:"linkColor",size:16})]});return(0,x.jsx)($t,{title:o.title||(0,Ne.Tl)("send_us_a_message"),subtitle:o.subtitle,onClick:r,right:e})}if(o.icon_type===Pt.Bn.facepile&&"RightChevronColorable"===o.icon){const e=(null==n?void 0:n.participant)&&(0,x.jsxs)(Ot,{children:[(0,x.jsx)(Mt,{size:"small"}),(0,x.jsx)(ae.Ay,{type:"RightChevronColorable",color:"linkColor",size:16})]});return(0,x.jsx)($t,{title:o.title||(0,Ne.Tl)("send_us_a_message"),subtitle:o.subtitle,onClick:r,right:e})}if(o.icon_type===Pt.Bn.facepile&&"RightChevronColorable"!==o.icon){const e=(null==n?void 0:n.participant)&&(0,x.jsx)(Mt,{size:"small"});return(0,x.jsx)($t,{title:o.title||(0,Ne.Tl)("send_us_a_message"),subtitle:o.subtitle,onClick:r,right:e})}return(0,x.jsx)($t,{title:o.title||(0,Ne.Tl)("send_us_a_message"),subtitle:o.subtitle,onClick:r,rightIcon:"NewConversation"})};var Xt=i(1200),Jt=i(95970),Zt=i(73669),Qt=i(53074);const ei=e=>{var t;return null==(t=(0,Zt.OO)(e.parts.filter((e=>!(0,Qt.A)(e.partType)))))?void 0:t.summaryText},ti=e=>!(e.read||"whatsapp"===e.currentChannel);const ii=(0,w.Ay)("div",{target:"e18wzgio6"})("overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:",(e=>e.unread?600:400),";"),ni=(0,w.Ay)("div",{target:"e18wzgio5"})({name:"hl0pzu",styles:"display:flex;flex-direction:column;cursor:pointer"}),ri=(0,w.Ay)("span",{target:"e18wzgio4"})({name:"ym8ki1",styles:"display:flex;max-width:calc(100% - 20px);align-items:center"}),oi=(0,w.Ay)("span",{target:"e18wzgio3"})("overflow:hidden;text-overflow:ellipsis;margin-right:3px;white-space:nowrap;font-weight:",(e=>e.unread?600:400),";margin-left:4px;color:",(0,w.w4)("textMuted"),";"),si=(0,w.Ay)("div",{target:"e18wzgio2"})("font-weight:400;font-size:14px;color:",(0,w.w4)("textMuted"),";display:flex;white-space:break-spaces;div{white-space:nowrap;}"),ai=(0,w.Ay)("div",{target:"e18wzgio1"})({name:"epecso",styles:"overflow:hidden;text-overflow:ellipsis;margin-right:4px"});var li={name:"1najnlf",styles:"padding:18px 26px 18px 16px"},ci={name:"fc2hic",styles:"padding:14px 16px 14px 8px"},di={name:"1tk44vi",styles:"padding:16px 20px 16px 20px"},pi={name:"lel7ab",styles:"padding-top:8px;padding-bottom:8px;margin-top:0px"};const ui=(0,w.Ay)(se.A,{target:"e18wzgio0"})("position:relative;padding-right:23px;padding-left:23px;svg{min-height:15px;}",(({displayAsConversational:e})=>e&&pi)," ",(({inHomescreenCard:e})=>e&&di)," ",(({displayAsCompact:e})=>e&&ci)," ",(({displayAsCompact:e,theme:t})=>t.isMobileSize&&e&&li)," &:hover ",ii.className,"{",(({unread:e,theme:t,displayAsConversational:i})=>(0,w.AH)({color:i?`${t.textDefault}`:e?`${t.linkColor}`:`${t.textDefault}`},"")),";}",Q.Z.className,",",Q.Z.className," img{cursor:pointer;",(({displayAsCompact:e})=>(0,w.AH)({width:(e?32:40)+"px",height:(e?32:40)+"px"},"")),";}");var hi=i(29500),mi=i(45892);const gi=({unread:e=!1,ticket:t,lastMessage:i,lastPartCreatedAt:n,assigneeName:r,assignedAdmins:o,onClick:s,displayAsCompact:a,displayAsConversational:l,hoverBackground:c=!0,showUnreadBadge:d=!0,showDivider:p=!1,inHomescreenCard:u=!1})=>{const h=e&&d?"UnreadIndicator":"RightChevronColorable",m=e&&d?void 0:"linkColor";return(0,x.jsx)(ui,{"data-testid":"conversation-list-item",unread:e,displayAsCompact:a,displayAsConversational:l,size:a?"tiny":"default",align:"start",rightIcon:h,rightIconColor:a?"iconMuted":m,left:o&&o[0]&&((null==o?void 0:o.length)>1?(0,x.jsx)(mi.A,{admins:o}):(0,x.jsx)(ve.l,{admin:o[0],size:a?32:36,solidBackground:"squircle"!==o[0].avatar.shape})),divider:p,inHomescreenCard:u,hoverBackground:c,useGlobalHorizontalPadding:!0,onClick:s,children:(0,x.jsxs)(ni,{children:[t&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(ri,{children:[(0,x.jsx)(ae.Ay,{type:"TicketSmall",color:"iconMuted"}),(0,x.jsx)(oi,{unread:e,children:t.name})]})}),i&&(0,x.jsx)(ii,{unread:e,children:(0,x.jsx)(He.A,{text:i})}),r&&(0,x.jsxs)(si,{children:[(0,x.jsx)(ai,{children:r}),n&&(0,x.jsxs)("div",{children:["• ",`${(0,hi.iw)(n)}`]})]})]})})},xi=({conversation:e,onClick:t,displayAsCompact:i,displayAsConversational:n,hoverBackground:r,showUnreadBadge:o,showDivider:s=!0,inHomescreenCard:a=!1})=>{const{assigneeName:l,assignedAdmins:c}=(e=>{const{name:t,activeAdmins:i=[]}=(0,h.GV)(W.rp),n=(0,h.GV)(W.ed);if(!e||"unassigned"===e.uxStyle)return{assigneeName:t,assignedAdmins:i};const{lastParticipatingAdmin:r}=e;if(r&&((e.uxStyle?"bot"===e.uxStyle:n)||!r.isBot))return{assigneeName:r.firstName,assignedAdmins:[r]};const o=e.parts[0];if(!o)return{assigneeName:t,assignedAdmins:i};const s=o.teamAuthor;return s?{assigneeName:s.name,assignedAdmins:s.admins}:{assigneeName:t,assignedAdmins:i}})(e),d="lastPartCreatedAt"in e?e.lastPartCreatedAt:void 0;return(0,x.jsx)(gi,{ticket:e.ticket,assigneeName:l,assignedAdmins:c,lastMessage:ei(e),lastPartCreatedAt:d,unread:ti(e),showUnreadBadge:o,onClick:t,displayAsCompact:i,displayAsConversational:n,hoverBackground:r,showDivider:s,inHomescreenCard:a})};var fi=i(39586);var vi={name:"13a3csp",styles:"&&{padding-bottom:4px;}"};const yi=(0,w.Ay)(re.A.Title,{target:"eksjkn92"})((({smallBottomPadding:e})=>e&&vi),";"),bi=(0,w.Ay)(re.A,{target:"eksjkn91"})((({theme:e,fullCardClickable:t,unread:i,pointer:n,displayAsCompact:r,displayAsConversational:o})=>(0,w.AH)(t?`\n      &:hover ${yi.className} {\n        color: ${i?e.textDefault:`${e.linkColor}`};\n        ${n&&"cursor: pointer;"}\n      }`:""," ",r&&"\n      && {\n        padding: 0;\n      }\n    "," ",o&&"\n      && {\n        padding-top: 12px;\n        padding-bottom: 12px;\n      }\n    ",";")),";");var wi={name:"1m5g76d",styles:"&&{margin:0;}"},ji={name:"1yjqrpx",styles:"padding-bottom:12px"};const ki=(0,w.Ay)(oe.A,{target:"eksjkn90"})((({displayAsConversational:e})=>e?ji:(0,w.AH)("&& ",fi.ck.className,":first-of-type{margin-top:-8px;}"))," ",(({displayAsCompact:e})=>e&&wi),";"),Ai=({conversations:e,onClick:t,unread:i,displayAsCompact:n=!1,showUnreadBadge:r,conversationsToShow:o=1,title:s=(0,Ne.Tl)("your_recent_message"),displayAsConversational:a=!1})=>{const l=1===o;return(0,x.jsxs)(bi,{unread:i,pointer:!0,onClick:l?()=>{const i=e[0];t(null==i?void 0:i.id,i.ticket)}:void 0,displayAsCompact:n,displayAsConversational:a,isEntireCardClickable:!n,"data-testid":"recent-conversations",fullCardClickable:l,tabIndex:-1,children:[n?null:(0,x.jsx)(yi,{noPadding:!1,smallBottomPadding:!!a,children:s}),(0,x.jsx)(ki,{displayAsCompact:n,displayAsConversational:a,children:e.slice(0,o).map((e=>(0,x.jsx)(xi,{conversation:e,onClick:()=>t(e.id,e.ticket),displayAsCompact:n,displayAsConversational:a,hoverBackground:n||a,showUnreadBadge:r,showDivider:!1,inHomescreenCard:!a},e.id)))})]})},Ci=()=>{const e=(0,h.jL)(),t=(0,h.GV)(K.DT),i=(0,h.GV)(K.Yn),n=(0,h.GV)(m.V$),r=t.map((e=>e.id)),o=(0,h.GV)(m.UT);Ce({object:ke.HZ,place:ke.mM,context:ke.Ey,metadata:{conversation_ids:r},sendMetricCondition:(null==t?void 0:t.length)>0});return 0===(null==t?void 0:t.length)?null:(0,x.jsx)(Ai,{conversations:t,hasMoreConversations:i,onClick:(t,i)=>{((e,t)=>{(0,je.A5)("clicked","conversation","messenger","home",{status:null==t?void 0:t.status,ticket_type_id:null==t?void 0:t.ticketTypeId,conversation_id:e})})(t,i),e((0,Xt.QL)(vt.Ay,t,{requestOrigin:"Home - Recent Conversations Click"})),e((0,Jt.p)(t))},unread:ti(t&&t[0]),showUnreadBadge:!o,displayAsCompact:n})};var Si={name:"16ceglb",styles:"font-weight:600"};const Ti=(0,w.Ay)("div",{target:"e8gr99g1"})((({bold:e})=>e&&Si),";"),_i=(0,w.Ay)("a",{target:"e8gr99g0"})("cursor:pointer;*{cursor:pointer!important;}&,&:visited{color:",(0,w.w4)("textDefault"),";}&:hover ",Ti.className,"{color:",(0,w.w4)("linkColor"),";}"),Ei=({link:e})=>(0,x.jsx)(_i,{href:e.href,target:"_blank",children:(0,x.jsx)(Ut,{left:(0,x.jsx)(ae.Ay,{type:"ExternalLink",color:"linkColor",size:16}),children:(0,x.jsx)(Ti,{children:e.label})})}),Ni=({boldLabel:e=!1,links:t,linkSize:i="tiny",listPadding:n=8})=>{const r=t.length>0;return(0,x.jsx)(re.A,{noPadding:!0,isEntireCardClickable:!r,children:(0,x.jsx)(oe.A,{padding:n,children:t.map(((t,n)=>(0,x.jsx)(_i,{href:t.href,target:"_blank",children:(0,x.jsxs)(se.A,{size:i,rounded:!0,hoverBackground:r,rightIcon:"ExternalLink",rightIconColor:"linkColor",children:[(0,x.jsx)(Ti,{bold:e,"data-testid":"link-label",children:t.label}),t.subLabel&&(0,x.jsx)(Ti,{"data-testid":"link-sublabel",children:t.subLabel})]})},n)))})})};var Bi=i(72977);var Ii={name:"zjik7",styles:"display:flex"};const Ri=(0,w.Ay)("div",{target:"e1d02mrs0"})("display:none;z-index:",(0,Bi.fE)(3),";padding:10px;border-radius:10px;align-items:center;justify-content:center;cursor:pointer;background-color:",(({background:e})=>e),";transition:background-color 150ms;",(({theme:e})=>(0,w.AH)("&:hover{background-color:",e.alphaBlack10,";}"))," i{display:inline;}",(({enabled:e})=>e&&Ii)," ",(({isOnHomeHeader:e,theme:t})=>e&&(0,w.AH)("position:fixed;top:32px;right:20px;&:hover{background-color:",t.alphaBlack20,";}"))," ",(({rightMargin:e,isOnHomeHeader:t})=>e&&t&&(0,w.AH)("right:",e,"px;")),";");var Pi=i(70745);const zi=/^https?:\/\/via.intercom.(com|io|test)\/msgr\//;function Mi(){const e=!(null==(t=(0,Pi.KQ)())||!t.href.toLowerCase().match(zi));var t;return!(0,g.z)()&&!e}var Oi=i(5351);const Hi=({onHomeHeader:e,enabled:t,parallaxOpacity:i=1,rightMargin:n})=>{const r=(0,h.jL)(),o=Mi()||!!t,s=(0,h.GV)(m.qB),a=(0,Oi.A)(),l=(0,h.GV)(K.Ch),{textColorType:c="dark"}=(0,h.GV)(K.qF)??{},d="solid"===(null==l?void 0:l.type),p="light"===c?"whiteColor":"blackColor",u=e||!1,g=e=>"dark"===a.themeMode?"iconDefault"===e?"iconOnInverse":"iconDefault":e;return(0,x.jsx)(Ri,{onClick:()=>{(0,je.A5)("clicked","close_button","messenger","",{space_opened:null==s?void 0:s.id,source:"close_button"}),r((0,Rt.Mu)(!0))},tabIndex:o?0:-1,"aria-hidden":!o,"aria-label":(0,Ne.Tl)("close"),enabled:o,isOnHomeHeader:u,background:(()=>{if(!e)return"";return`rgba(0, 0, 0, ${Math.abs(.2*(i-1))})`})(),rightMargin:n,"data-testid":"close-button",children:(0,x.jsx)(ae.Ay,{type:"CloseIcon",size:16,color:(()=>{if(e){if(d?a.homeHeaderBackgroundColorIsLight:"blackColor"===p){return g(1-i<.5?"iconDefault":"iconOnInverse")}return g("iconOnInverse")}return"headerButtonColor"})()})})};var Di=i(26731);const Li=(0,w.Ay)("div",{target:"e1kboq666"})("padding:16px 20px;border-radius:10px;cursor:pointer;&:hover h2{color:",(0,w.w4)("linkColor"),";}"),Vi=(0,w.Ay)("div",{target:"e1kboq665"})({name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"}),Fi=(0,w.Ay)("h2",{target:"e1kboq664"})("font-size:14px;font-weight:600;line-height:21px;color:",(0,w.w4)("textDefault"),";"),qi=(0,w.Ay)("div",{target:"e1kboq663"})({name:"cn3xcj",styles:"margin-bottom:12px"}),Gi=(0,w.Ay)("div",{target:"e1kboq662"})("font-size:14px;font-weight:400;line-height:20px;color:",(0,w.w4)("textDefault"),";"),Ui=(0,w.Ay)("span",{target:"e1kboq661"})({name:"16ceglb",styles:"font-weight:600"}),$i=(0,w.Ay)("div",{target:"e1kboq660"})({name:"1r5gb7q",styles:"display:inline-block"});var Wi=i(24762),Ki=i(79145),Yi=i(9814),Xi=i(2292),Ji=i(95752);const Zi=({title:e,checklistTasks:t,completedTasks:i,estimatedTimeRemaining:n,onClick:r,nextStepTitle:o,checklistStatus:s})=>{const a=i>0?(0,Ne.Tl)("checklist_card_next_step"):(0,Ne.Tl)("checklist_card_first_step"),l=s===Xi.vb.New;return(0,x.jsxs)(re.A,{as:Li,onClick:r,children:[(0,x.jsxs)(Vi,{children:[(0,x.jsx)(Fi,{children:(0,x.jsx)(Di.A,{blocks:e})}),(0,x.jsx)(ae.Ay,{type:l?"UnreadIndicator":"RightChevronColorable",color:l?void 0:"linkColor"})]}),(0,x.jsx)(qi,{children:(0,x.jsx)(Wi.A,{checklistTasks:t,completedChecklistTasks:i,estimatedTimeRemaining:n,condensed:!0,prefillProgressIfEmpty:!0})}),(0,x.jsxs)(Gi,{children:[(0,x.jsxs)(Ui,{children:[a,": "]}),(0,x.jsx)($i,{children:(0,x.jsx)(Di.A,{blocks:o})})]})]})},Qi=()=>{const e=(0,h.jL)(),t=(0,h.GV)(Ki.V9),i=(0,Ji.Sg)(t),n=(0,Ji.zE)(i),r=(0,Ji.fp)(i),o=(0,Ji.M2)(r),s=r.reduce(((e,t)=>e+t.estimatedTime),0);return t&&o?(0,x.jsx)(Zi,{checklistTasks:i.length,completedTasks:n.length,estimatedTimeRemaining:s,nextStepTitle:o.titleBlocks,title:t.titleBlocks,onClick:()=>{t&&e((0,Yi.tB)(t.checklistProgressId))},checklistStatus:t.status}):null};var en=i(43579);var tn=i(49017);function nn(){const e=(0,h.jL)(),t=(0,v.useCallback)((()=>e((0,tn.yM)())),[e]),i=(0,h.GV)(W.Er),{slots:n,isFetched:r,isFailed:o}=(0,h.GV)(K.af);return{fetchHomeContent:t,slots:n,isFetched:r&&i,isFailed:o}}const rn=(0,w.Ay)("div",{target:"ed7ym44"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),on=(0,w.Ay)("div",{target:"ed7ym43"})("max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:",(e=>e.unread?600:400),";"),sn=(0,w.Ay)("div",{target:"ed7ym42"})("color:",(0,w.w4)("textMuted"),";max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),an=(0,w.Ay)("div",{target:"ed7ym41"})("margin:0 auto;border-radius:50%;display:inline-flex;vertical-align:middle;position:relative;width:40px;height:40px;text-align:center;justify-content:center;align-items:center;",(({theme:e,color:t})=>t&&(0,w.AH)("background-color:",(0,Z.vf)(e[t],.13),";")),";");var ln={name:"5byad5",styles:"padding-top:8px;padding-left:20px;padding-right:20px;padding-bottom:8px"};const cn=(0,w.Ay)(se.A,{target:"ed7ym40"})("&:hover ",rn.className,"{color:",(0,w.w4)("textDefault"),";}padding-left:23px;padding-right:23px;",(({homeScreen:e})=>e&&ln),";");var dn=i(88204);const pn=["unread","title","publicTicketId","typeName","status","statusLabel","onClick","homeScreen","shouldHideUnreadBadge","useGlobalHorizontalPadding"];const un=e=>{let{unread:t=!1,title:i,publicTicketId:n,typeName:r,status:o,statusLabel:s,onClick:a,homeScreen:l=!1,shouldHideUnreadBadge:c,useGlobalHorizontalPadding:d=!1}=e,p=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,pn);const u=t&&!c?"UnreadIndicator":"RightChevronColorable",h=t&&!c?void 0:"linkColor",m=i||r,g=s||(0,dn.JN)(o),f=n?`#${n} • ${g}`:g,v=(0,dn.qY)(o);return(0,x.jsx)(cn,Object.assign({"data-testid":"ticket-list-item",left:(0,x.jsx)(an,{color:v,children:(0,x.jsx)(ae.Ay,{type:(0,dn.cR)(o),color:v})}),rightIcon:u,rightIconColor:h,onClick:a,hoverBackground:!0,homeScreen:l,useGlobalHorizontalPadding:d},p,{children:(0,x.jsxs)(rn,{children:[(0,x.jsx)(on,{unread:t,children:m}),(0,x.jsx)(sn,{children:f})]})}))};const hn=(0,w.Ay)(re.A.Title,{target:"e1rs3ksu1"})({name:"1f7m605",styles:"padding-bottom:4px"}),mn=(0,w.Ay)(re.A,{target:"e1rs3ksu0"})("padding-bottom:26px;",(({displayAsConversational:e})=>e&&"\n    padding-top: 12px;\n    padding-bottom: 28px;\n  "),";");var gn=i(21342);const xn=({unresolvedTickets:e,handleTicketClick:t,shouldShowHomescreenCard:i,shouldHideUnreadBadge:n,displayAsConversational:r=!1})=>{const o=e.length>1?(0,Ne.Tl)("recent_tickets"):(0,Ne.Tl)("recent_ticket");return(0,x.jsx)(x.Fragment,{children:i?(0,x.jsxs)(mn,{"data-testid":"recent-tickets",displayAsConversational:r,children:[(0,x.jsx)(hn,{children:o}),(0,x.jsx)(oe.A,{noDivider:!0,children:e.map((e=>(0,x.jsx)(un,{title:e.name,publicTicketId:e.publicTicketId,typeName:e.ticketTypeName,status:e.status,statusLabel:e.statusLabel,unread:!1===e.read,onClick:()=>t(e.id),homeScreen:!0,shouldHideUnreadBadge:n},e.id)))})]}):null})},fn=({shouldHideUnreadBadge:e,displayAsConversational:t})=>{const i=(0,o.useNavigate)(),n=(0,h.GV)(gn.ir)||[],r=(0,h.GV)(m.UT)&&n&&n.length>0;return(0,x.jsx)(xn,{unresolvedTickets:n,handleTicketClick:e=>{i(`/tickets/details/${e}`,{state:{navigatingFrom:ke.vU}})},shouldShowHomescreenCard:r,shouldHideUnreadBadge:e,displayAsConversational:t})};var vn=i(79183);const yn={app:"App",activity:"Activity",bounced:"Bounced","button-pill":"ButtonPill","click-element":"ClickElement",company:"Company","contact-book":"ContactBook",coupon:"Coupon",creditcard:"CreditCard","email-filled":"EmailFilled",event:"Event","large-right-arrow":"LargeRightArrow",insights:"Insights",locked:"Locked",phone:"Phone",person:"PersonType",wrench:"Wrench","slipping-away":"SlippingAway",stars:"Stars"},bn=({link:e})=>{const{showCreateTicket:t}=(0,vn.A)();return(0,x.jsx)(Ut,{onClick:()=>{return i=e.ticket_type_id,(0,je.A5)("clicked","ticketlink","messenger","home",{ticket_type_id:i}),void t(i,"conversation");var i},left:(0,x.jsx)(ae.Ay,{type:yn[e.icon],color:"linkColor",size:16}),children:e.ticket_type_name})},wn=({ticketLinks:e,cardTitle:t})=>{const{showCreateTicket:i}=(0,vn.A)();return(0,x.jsx)(re.A,{title:t,children:(0,x.jsx)(oe.A,{noDivider:!0,padding:8,children:e.map((e=>(0,x.jsx)(se.A,{onClick:()=>{return t=e.ticket_type_id,(0,je.A5)("clicked","ticket_link","messenger","home",{ticket_type_id:t}),void i(t,"conversation");var t},rightIcon:yn[e.icon],rightIconColor:"linkColor",size:"tiny",truncate:!0,children:e.ticket_type_name},e.ticket_type_id)))})})};var jn=i(26865);const kn=()=>(0,x.jsx)(G,{children:(0,x.jsx)(y.A,{})}),An=({logoUrl:e,showAvatars:t,slots:i,isFetched:n,isFailed:r,onRetry:o,onScroll:s,onHeaderHeightChange:a,headerOpacity:l,closeButtonOpacity:c,background:d,textColorType:p,showCloseButton:u,title:h,subtitle:m})=>{const{scrollbarVisible:g,ref:f,handleResize:y}=function(){const e=(0,v.useRef)(null),[t,i]=(0,v.useState)(!1),n=(0,v.useCallback)((()=>{const t=e.current;if(t){const e=t.scrollHeight>t.clientHeight;i(e)}}),[e]);return(0,en.A)(e.current,n),{scrollbarVisible:t,ref:e,handleResize:n}}();(0,v.useEffect)((()=>{y()}),[y,i]);const{globalHorizontalPadding:b}=(0,Oi.A)();return n||r?(0,x.jsx)(F,{ref:f,className:"intercom-home-screen",onScroll:e=>{let t=0;e.currentTarget&&(t=e.currentTarget.scrollTop),s(Math.max(0,t))},children:(0,x.jsxs)($,{isIntercomLinkEnabled:!0,children:[(0,x.jsx)(at.A,{onHeightChange:a,children:(0,x.jsx)(st,{title:h,subtitle:m,logo:e,showAvatars:t,opacity:l,background:d,textColorType:p,closeButtonEnabled:u,scrollbarVisible:g})}),(0,x.jsxs)(q,{homeBackgroundType:null!=d&&d.fadeToTheme?null==d?void 0:d.type:null,children:[i.map(((e,t)=>{switch(e.type){case"recent_conversation":return(0,x.jsx)(Ci,{},"recent-conversation-card");case"recent_tickets":return(0,x.jsx)(fn,{shouldHideUnreadBadge:!0},"recent-tickets");case"ticket_links":return(0,x.jsx)(wn,{ticketLinks:e.links,cardTitle:e.card_title},"ticket-links");case"new_conversation":return(0,x.jsx)(Yt,{},"conversation-card");case"help_center":return(0,x.jsx)(Be,{index:t,suggestions:e.suggested_articles,metadata:e.suggested_articles_metadata},"help-card");case"news_items":return(0,x.jsx)(It,{},"news-items");case"checklists":return(0,x.jsx)(Qi,{},"checklists");case"messenger_app":return(0,x.jsx)(HomeScreenMessengerCard,{cardUri:e.uri,index:t,isFetched:!0},"messenger-app-"+t);case"external_links":return(0,x.jsx)(Ni,{links:e.links},`external-links-${t}`);default:return null}})),(0,x.jsx)(ze,{visible:r,onRetry:o})]}),(0,x.jsx)(Hi,{parallaxOpacity:c,rightMargin:b,onHomeHeader:!0})]})}):(0,x.jsx)(kn,{})},Cn=()=>{const[e,t]=(0,v.useState)(1),{setHeight:i,height:n}=B(),r=(0,h.GV)(K.Ch),{fetchHomeContent:o,slots:s,isFetched:a,isFailed:l}=nn(),c=Mi(),d=(0,h.GV)(K.wu),p=(0,h.GV)(jn.A);(0,v.useEffect)((()=>{d&&p&&o()}),[o,d,p]);const{logoUrl:u,showAvatars:m,greeting:g,introduction:f,textColorType:y}=(0,h.GV)(K.qF),b=(0,h.GV)(W._D),w=((e,t)=>1-Math.min(Math.abs(e/(t-100)),1))(e,n);return(0,x.jsx)(An,{slots:s,title:null==g?void 0:g.content,subtitle:null==f?void 0:f.content,logoUrl:u,showAvatars:m,accessToTeammateEnabled:b,isFetched:a,isFailed:l,onRetry:o,onScroll:e=>{t(e)},onHeaderHeightChange:e=>{i(e)},headerOpacity:w,closeButtonOpacity:w,background:r,textColorType:y,showCloseButton:c})};const Sn=(0,w.Ay)("div",{target:"e12mr2z27"})("display:flex;flex-direction:column;background-color:",(0,w.w4)("containerBaseNeutral"),";max-height:674px;"),Tn=(0,w.Ay)("div",{target:"e12mr2z26"})("margin-top:8px;margin-bottom:8px;overflow-y:auto;",fi.MN.className,"{margin-right:16px;}"),_n=(0,w.Ay)("div",{target:"e12mr2z25"})("border-top:1px solid ",(0,w.w4)("elevation1"),";margin-top:auto;");var En={name:"f9bxyi",styles:"padding-left:18px"},Nn={name:"jab4lt",styles:"justify-content:end"};const Bn=(0,w.Ay)("div",{target:"e12mr2z24"})("display:flex;flex-direction:row;align-items:center;padding:8px 10px;border-bottom:",(0,w.w4)("elevation1")," solid 1px;justify-content:space-between;color:",(0,w.w4)("textDefault"),";",(({onlyCloseButtonVisible:e})=>e&&Nn)," ",(({theme:e})=>e.isMobileSize&&En),";");var In={name:"1d3w5wq",styles:"width:100%"};const Rn=(0,w.Ay)("div",{target:"e12mr2z23"})("display:flex;align-items:center;justify-content:space-between;",(({fullWidth:e})=>e&&In),";");var Pn={name:"2pg1ps",styles:"font-size:18px"};const zn=(0,w.Ay)("div",{target:"e12mr2z22"})("line-height:19px;padding:6px;font-weight:600;overflow:hidden;",(({theme:e})=>e.isMobileSize&&Pn)," word-wrap:break-word;"),Mn=(0,w.Ay)("div",{target:"e12mr2z21"})({name:"eykqtd",styles:"flex:none"}),On=(0,w.Ay)("div",{target:"e12mr2z20"})({name:"plc89f",styles:"margin:8px auto 0;display:table"});var Hn=i(98023),Dn=i.n(Hn);const Ln=(0,w.Ay)("span",{target:"eobnxxl2"})("background:",(0,w.w4)("notificationFill"),";display:flex;justify-content:center;font-size:11px;color:",(0,w.w4)("textOnInverse"),";font-weight:700;border-radius:9px;width:fit-content;min-width:16px;height:16px;box-sizing:border-box;line-height:16px;padding:0 4px;"),Vn=(0,w.Ay)("span",{target:"eobnxxl1"})("background:",(0,w.w4)("notificationFill"),";display:block;width:8px;height:8px;border-radius:50%;"),Fn=(0,w.Ay)("span",{target:"eobnxxl0"})("background:",(0,w.w4)("notificationFill"),";display:flex;justify-content:center;font-size:11px;color:",(0,w.w4)("textOnInverse"),";font-weight:700;border-radius:9px;width:fit-content;min-width:16px;height:16px;box-sizing:border-box;line-height:16px;padding:0 4px;position:absolute;top:-4px;right:-4px;");const qn=function({children:e,className:t=""}){if(e){const i=Dn()(e)&&e>99?"99+":e;return(0,x.jsx)(Ln,{"data-testid":"active-notifications",className:t,children:i})}return(0,x.jsx)(Vn,{"data-testid":"passive-notifications"})},Gn=({item:e})=>{const t=e.iconComponent.active,{showSpace:i}=Se(),n=e.activeNotificationCount>0||e.hasPassiveNotifications;return(0,x.jsx)(Ut,{left:(0,x.jsx)(t,{viewBox:"0 0 24 24",height:"16",width:"16"}),rightIcon:"RightChevronColorable",right:n&&(0,x.jsx)(qn,{children:e.activeNotificationCount>0?e.activeNotificationCount:void 0}),onClick:()=>{i(e.id,"fromHome=true")},children:e.title})};function Un(){const e=(0,h.GV)(m.$P).filter((e=>e.id!==p.Zh.id)),{fetchHomeContent:t,slots:i,isFetched:n,isFailed:r}=nn(),o=Mi(),s=!!i.find((e=>"recent_conversation"===e.type)),a=i.filter((e=>"recent_conversation"!==e.type));(0,v.useEffect)((()=>{t()}),[t]);const{greeting:l,showAvatars:c,compact:{showHeader:d}}=(0,h.GV)(K.qF);return n||r?(0,x.jsx)($n,{spaces:e,greeting:l,slots:a,showAvatars:c,hasRecentConversationSlot:s,showHeader:d,isCloseButtonVisible:o}):(0,x.jsx)(On,{children:(0,x.jsx)(y.A,{})})}const $n=({spaces:e,greeting:t,slots:i=[],showAvatars:n=!0,hasRecentConversationSlot:r,showHeader:o,isCloseButtonVisible:s})=>{const a=o||s;return(0,x.jsxs)(Sn,{children:[a?(0,x.jsx)(Wn,{onlyCloseButtonVisible:!o,greeting:t,isCloseButtonVisible:s,showAvatars:n}):null,(0,x.jsx)(Tn,{children:(0,x.jsxs)(oe.A,{noDivider:!0,children:[e.map((e=>(0,x.jsx)(Gn,{item:e},e.id))),i.map((e=>(e=>{switch(e.type){case"new_conversation":return(0,x.jsx)(Yt,{},e.type);case"external_links":return(0,x.jsx)(Ei,{link:e.links[0]},e.type);case"ticket_links":return(0,x.jsx)(bn,{link:e.links[0]},e.type);default:return null}})(e)))]})}),r&&(0,x.jsx)(_n,{children:(0,x.jsx)(Ci,{})})]})},Wn=({onlyCloseButtonVisible:e,greeting:t,isCloseButtonVisible:i,showAvatars:n})=>(0,x.jsxs)(Bn,{"data-testid":"compactHeader",onlyCloseButtonVisible:e,children:[t&&(0,x.jsx)(zn,{children:t.content}),(0,x.jsxs)(Rn,{fullWidth:n&&i&&!t,children:[n&&(0,x.jsx)(Mn,{"data-testid":"compactAvatars",children:(0,x.jsx)(we,{avatarSize:28,avatarPixelsToShow:24,maxAdmins:3})}),i&&(0,x.jsx)(Hi,{enabled:i})]})]});const Kn=(0,w.Ay)("span",{target:"eu4j8zh3"})(),Yn=(0,w.Ay)("div",{target:"eu4j8zh2"})("align-items:flex-end;display:block;flex-shrink:0;z-index:1;",(({isFadingOut:e})=>e&&(0,w.AH)("@keyframes non-linear-fade-out{0%{opacity:1;}50%{opacity:1;}100%{opacity:0;}}&.exit{opacity:1;}&.exit-active{animation:non-linear-fade-out ",2*k.time,"ms;opacity:0;}&.exit-done{opacity:0;}"))," .powered-by-enter{opacity:0;}.powered-by-enter-active{opacity:1;transition:opacity ",k.time,"ms ease-out;}.powered-by-exit{opacity:1;}",(({showOnSpaces:e,removeVerticalMargin:t})=>(0,w.AH)("margin:",e||t?"0":"11","px auto;"))," ",(({showOnSpaces:e,isFadingOut:t,theme:i})=>e&&!t&&(0,w.AH)("height:",32,";background:",i.containerBaseNeutral,";&:hover{background:",i.containerNeutral,";}"))," ",(({underConstruction:e})=>e&&(0,w.AH)("background-image:url(","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAGCAIAAAAOtlpdAAAANElEQVQoz2P4etGEEnRxi0lHFdXQ8slQYxkGoZsochbt3ES+s2jqJjKdRWs3keMsOrgJiAB4ItlirqqJGgAAAABJRU5ErkJggg==",");background-repeat:repeat-x;background-size:25px 3px;margin-left:-16px;margin-right:-16px;")),";");var Xn={name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"},Jn={name:"wz1gv9",styles:"text-align:center;width:100%"};const Zn=(0,w.Ay)("a",{target:"eu4j8zh1"})("display:inline-block;",(({showOnSpaces:e})=>(0,w.AH)("font-size:13px;border-radius:16px;padding:",e?"8":"0","px ",e?"0":"16","px;"))," transition:all 80ms;",(({foregroundColor:e})=>(0,w.AH)("color:",e,"!important;")),";",(({showOnSpaces:e,theme:t})=>!e&&(0,w.AH)("&:hover{color:",t.textDefault,"!important;}"))," ",(({showOnSpaces:e})=>e&&Jn)," ",(({displayAsCompact:e})=>e&&Xn),";"),Qn=(0,w.Ay)("div",{target:"eu4j8zh0"})();var er=i(79148);const tr=()=>{const{pathname:e}=(0,o.useLocation)(),t=-1!==e.indexOf("conversation/"),i=e.startsWith(`/${p.ND.id}/details`),n=e.startsWith(`/${p.Ij.id}/tickets`)||e.startsWith(`/${p.rK.id}/details`),r=e.startsWith(`/${p.Ul.id}/${u.TA.checklists}`),s=(0,h.GV)(Ki.J3),a=e.startsWith(`/${p.Zh.id}/sheet`),l=(0,h.GV)(er._9),c=(0,h.GV)(Ee.qZ),d=!(0,h.GV)(m.j7)&&c;return!(t||i||n||l||a||(0,m.ke)(e)||r&&s||d)},ir=({children:e})=>{const t=P(),i=(0,h.GV)(W.km),n=tr()&&i;(0,v.useEffect)((()=>()=>{t(void 0)}),[t]);return(0,x.jsx)(at.A,{style:{width:"100%"},onHeightChange:e=>{if(t&&e){t(n?e+32:e)}},children:e})},nr=()=>(0,h.GV)(m.V$)?(0,x.jsx)(ir,{children:(0,x.jsx)(Un,{})}):(0,x.jsx)(Cn,{}),rr=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(nr,{})});var or=i(14644),sr=i(97132),ar=i(94870);const lr=(0,w.Ay)("div",{target:"e17mqux90"})("z-index:",(0,w.w4)("messengerSheetZIndex"),";position:fixed;bottom:0;left:0;right:0;top:0;display:flex;flex-direction:column;background:none;");var cr=i(13555);const dr=(0,w.Ay)(at.A,{target:"e1q8fpwq5"})({name:"vysbge",styles:"width:100%;overflow:visible"}),pr=(0,w.Ay)("nav",{target:"e1q8fpwq4"})("z-index:1;display:flex;flex-direction:column;padding:8px 13px;color:",(0,w.w4)("textMuted"),";overflow:visible;button{min-width:38px;min-height:38px;}",(({showBorder:e,theme:t})=>e&&(0,w.AH)("border-bottom:1px solid ",t.borderNeutral,";")),";"),ur=(0,w.Ay)("div",{target:"e1q8fpwq3"})("svg path{fill:",(0,w.w4)("textMuted"),"!important;}"),hr=(0,w.Ay)("div",{target:"e1q8fpwq2"})("display:flex;flex-grow:1;flex-direction:row;align-items:center;justify-content:space-between;gap:2px;font-size:18px;color:",(0,w.w4)("headerTitleColor"),";",(({whiteBackground:e,theme:t})=>e&&(0,w.AH)("color:","dark"===t.themeMode?t.textOnInverse:t.textDefault,";")),";");var mr={name:"11g4mt0",styles:"font-size:16px"};const gr=(0,w.Ay)("h1",{target:"e1q8fpwq1"})("padding:8px 4px;font-weight:600;text-align:center;font-size:18px;overflow:hidden;text-overflow:ellipsis;display:flex;gap:8px;align-items:center;",(({smallText:e})=>e&&mr),";");var xr={name:"1yvcaec",styles:"padding-right:4px"};const fr=(0,w.Ay)("div",{target:"e1q8fpwq0"})("display:flex;flex:1;justify-content:",(({align:e})=>"right"===e?"flex-end":"flex-start"),";",(({align:e})=>"right"!==e&&xr),"&:first-child:empty{min-width:8px;}");var vr=i(83140),yr=i(64234),br=i(12129),wr=i(71982);function jr(e){const t=(0,h.jL)(),i=(0,h.GV)(wr.l);return(0,yr.IS)()?null:(0,x.jsx)(Tr.Button,{iconType:i?"CollapseIcon":"ExpandIcon","data-testid":"toggle-expansion",iconSize:16,onClick:()=>t((0,br.D)(!i,e.object,e.place)),"aria-label":i?(0,Ne.Tl)("expanded_mode_disable"):(0,Ne.Tl)("expanded_mode_enable")})}var kr=i(40085);const Ar=(0,v.forwardRef)(((e,t)=>{const{round:i=!1}=e,n=i?"100%":10;return(0,x.jsx)(vr.A,Object.assign({ref:t,variant:"header",iconSize:16,padding:8,borderRadius:n},e))})),Cr=({onBack:e,chevronDirection:t="left",round:i=!1})=>(0,x.jsx)(Ar,{onClick:e,"aria-label":"go back","data-testid":"go-back",round:i,children:(0,x.jsx)(ae.In,{type:"left"===t?"ThinLeftArrowIcon":"ThinDownArrowIcon",size:16,flipInRtl:!0})}),Sr=gr,Tr={Content:({children:e,whiteBackground:t=!1,showBorder:i=!1})=>{const n=(0,Oi.A)(),{whiteBackground:r,setWhiteBackground:o,setHeight:s}=B(),a=(0,v.useRef)(r);a.current=r,(0,v.useEffect)((()=>{(null==a?void 0:a.current)!==t&&o(t)}),[t,a,o]);const l=t?Object.assign({},n,{appSecondaryColor:n.containerBaseNeutral,headerTitleColor:n.textDefault,headerButtonColor:n.linkColor}):n;return(0,x.jsx)(kr.T.Provider,{value:l,children:(0,x.jsx)(dr,{onHeightChange:e=>s(e),children:(0,x.jsx)(pr,{showBorder:i,children:e})})})},ButtonSpacer:fr,Button:Ar,Title:Sr,BackButton:Cr,TitleArea:({onBack:e,title:t,children:i,showExpandButton:n,showCloseButton:r,smallText:o,leftButtonArea:s,rightButtonArea:a,backDirection:l="left"})=>{const c=(0,yr.IS)(),d=Mi(),{whiteBackground:p}=B(),u=d||r;return(0,x.jsxs)(hr,{whiteBackground:p,children:[(0,x.jsxs)(fr,{"data-testid":"header-left-area",children:[e&&(0,x.jsx)(Cr,{onBack:e,chevronDirection:l}),s]}),i||null,!i&&(0,x.jsx)(Sr,{smallText:!!o,children:t}),(0,x.jsxs)(fr,{align:"right","data-testid":"header-right-area",children:[a,n&&!c&&(0,x.jsx)(jr,{}),u&&(0,x.jsx)(ur,{children:(0,x.jsx)(Hi,{enabled:u})})]})]})}},_r=({title:e,onBack:t,showExpandButton:i,isSubView:n,backDirection:r="left"})=>(0,x.jsx)(Tr.Content,{whiteBackground:!1,showBorder:!0,children:(0,x.jsx)(Tr.TitleArea,{onBack:t,showExpandButton:i,title:e,smallText:n,backDirection:r})});var Er=i(72853);const Nr=(0,w.Ay)("div",{target:"e1n2vqdo0"})((({headerHeight:e,heightChangeDuration:t,whiteBackground:i,theme:n})=>(0,w.AH)("transition:min-height ",t,"ms ease-out,max-height ",t,"ms ease-out,background-color ",t,"ms ease-in-out;min-height:",e,"px;max-height:",e,"px;background-color:",i?"transparent":n.secondaryColor,";position:absolute;top:0;right:0;left:0;")),";");function Br(){const{whiteBackground:e,height:t}=B();return(0,x.jsx)(Nr,{headerHeight:Math.max(t,64),heightChangeDuration:Er.qZ,whiteBackground:e||!1})}function Ir(e){return(0,x.jsx)(_r,{onBack:e.onBackClick,title:e.sheetTitle||""})}const Rr=(0,w.Ay)("div",{target:"etflgg20"})("z-index:",(0,w.w4)("messengerSheetLoaderZIndex"),";position:absolute;top:0;left:0;right:0;height:2px;background:",(0,w.w4)("appColor"),";",(({transform:e})=>(0,w.AH)("transform:",e,";"))," ",(({transition:e})=>(0,w.AH)("transition:",e,";"))," ",(({opacity:e})=>(0,w.AH)("opacity:",e,";")),";");function Pr(e,t){var i,n,r;return"number"!=typeof t&&(t=e>=0&&e<.2?.1:e>=.2&&e<.5?.04:e>=.5&&e<.8?.02:e>=.8&&e<.99?.005:0),i=e+t,n=0,r=.994,e=Math.min(r,Math.max(i,n))}class ProgressBar extends v.PureComponent{constructor(...e){super(...e),this.incrementInterval=void 0,this.state={percent:0,opacity:1,withTransition:!1}}componentDidMount(){this.props.isLoading&&this.startTrickleWork()}componentDidUpdate(e){const{isLoading:t}=e;this.props.isLoading&&!t&&(this.resetBar(),this.startTrickleWork()),t&&!this.props.isLoading&&this.finishLoading()}componentWillUnmount(){this.clearInterval()}startTrickleWork(){const{trickleSpeed:e}=this.props;this.clearInterval(),this.incrementInterval=setInterval((()=>{this.setState({percent:Pr(this.state.percent),withTransition:!0})}),e)}finishLoading(){const{speed:e}=this.props;this.setState({percent:1,withTransition:!0}),setTimeout((()=>{this.setState({opacity:0})}),e)}resetBar(){this.setState({percent:0,opacity:1,withTransition:!1})}clearInterval(){this.incrementInterval&&clearInterval(this.incrementInterval)}getTransform(){const{percent:e}=this.state;return`translate3d(${t=e,(100*(-1+t)).toFixed(2)}%,0,0)`;var t}getTransition(){const{withTransition:e}=this.state,{speed:t,easing:i}=this.props;return e?`all ${t}ms ${i}`:"none"}render(){return(0,x.jsx)(Rr,{transform:this.getTransform(),transition:this.getTransition(),opacity:this.state.opacity})}}ProgressBar.defaultProps={trickleSpeed:200,speed:200,easing:"linear",isLoading:!1};var zr={name:"1im0r96",styles:"overflow-y:scroll"};const Mr=(0,w.Ay)("div",{target:"eihbrxe1"})("position:relative;flex:1;outline-offset:-5px;",(({theme:e})=>e.isMobileSize&&zr),";"),Or=(0,w.Ay)("iframe",{target:"eihbrxe0"})({name:"ytsxkx",styles:"position:absolute;width:100%;height:100%;outline-offset:-5px"}),Hr=i(76141),Dr=(e={})=>{const t=window.crossOriginIsolated||!1,i=new URLSearchParams(Object.assign({},e,{cross_origin_isolated:t.toString()})).toString();return`${Hr.sheets_proxy_path}?${i}`};class MessengerSheetProxy extends v.Component{constructor(...e){super(...e),this.frameNode=void 0,this.sheetProxyNode=void 0,this.timeout=void 0,this.state={loadFrame:!1}}componentDidMount(){this.timeout=setTimeout((()=>{this.setState({loadFrame:!0},(()=>{this.setupSheetFrame()})),this.sheetProxyNode&&this.sheetProxyNode.focus()}),this.props.transitionTimeout)}setupSheetFrame(){var e;if(!this.state.loadFrame)return;const{startNavigation:t,receiveSheetMessage:i}=this.props;t(),this.frameNode&&(null==(e=this.frameNode.ownerDocument.defaultView)||e.addEventListener("message",i,!1))}componentWillUnmount(){var e;this.timeout&&clearTimeout(this.timeout);const{setProxyLoadedStatus:t}=this.props;t(!1),this.frameNode&&(null==(e=this.frameNode.ownerDocument.defaultView)||e.removeEventListener("message",this.props.receiveSheetMessage))}render(){const{onFrameLoad:e,isNavigating:t}=this.props;return(0,x.jsxs)(Mr,{tabIndex:0,ref:e=>this.sheetProxyNode=e,children:[(0,x.jsx)(ProgressBar,{isLoading:t}),this.state.loadFrame?(0,x.jsx)(Or,{ref:e=>this.frameNode=e,name:"intercom-messenger-sheet-proxy",sandbox:"allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-downloads",src:Dr(),onLoad:e,allowFullScreen:!0,allow:"microphone *; camera *; autoplay *; display-capture *",title:"Messenger app"}):null]})}}var Lr=i(719),Vr=i(31837),Fr=i(51543),qr=i(13194);class MessengerSheetBody extends v.PureComponent{constructor(...e){super(...e),this.node=void 0,this.form=void 0,this.focusTrap=null,this.state={isSubmitted:!1},this.handleEscape=e=>{(0,d.nx)(e)&&this.handleCloseSheet()},this.handleCloseSheet=()=>{this.props.closeSheet();const e=(0,Fr.fx)();e&&(e(),(0,Fr.x6)(null))},this.setFormRef=e=>{this.form=e},this.submitForm=()=>{if(!this.form)return null;this.form.submit(),this.setState({isSubmitted:!0})},this.handleIframeLoad=()=>{this.props.setProxyLoadedStatus(!0);const{isSheetsDataLoaded:e,isProxyLoaded:t}=this.props;setTimeout((()=>{e&&t||(0,qr.l2)("Sheet failed to load after 30 seconds.")}),3e4)}}componentDidMount(){if(this.props.frameWindow&&(0,d.q2)(this.props.frameWindow,"keydown",this.handleEscape),this.node){const e=()=>(0,Vr.tW)();this.focusTrap=new Lr.A({document:this.node,firstElement:e,lastElement:e})}}componentDidUpdate(){this.shouldSubmitForm()&&this.submitForm()}componentWillUnmount(){this.props.frameWindow&&(0,d.f)(this.props.frameWindow,"keydown",this.handleEscape),this.focusTrap&&this.focusTrap.restore()}shouldSubmitForm(){const{isSheetsDataLoaded:e,isProxyLoaded:t}=this.props;return!this.state.isSubmitted&&e&&t}renderSheetForm(){const{url:e,sheetsData:t}=this.props;return t?(0,x.jsx)("form",{ref:this.setFormRef,action:e,method:"post",style:{margin:"0"},target:"intercom-messenger-sheet",children:(0,x.jsx)("input",{type:"hidden",name:"intercom_data",value:t,readOnly:!0})}):null}render(){const{sheetTitle:e}=this.props;return(0,x.jsxs)(lr,{ref:e=>this.node=e,children:[(0,x.jsx)(Ir,{onBackClick:this.handleCloseSheet,sheetTitle:e}),(0,x.jsx)(MessengerSheetProxy,{isNavigating:this.props.isNavigating,onFrameLoad:this.handleIframeLoad,startNavigation:this.props.startNavigation,receiveSheetMessage:this.props.receiveSheetMessage,setProxyLoadedStatus:this.props.setProxyLoadedStatus,transitionTimeout:this.props.transitionTimeout}),this.renderSheetForm(),(0,x.jsx)(cr.C,{"aria-label":(0,Ne.Tl)("close"),onClick:this.handleCloseSheet})]})}}var Gr=i(42706);class MessengerSheet extends v.PureComponent{constructor(...e){super(...e),this.context=void 0}render(){const{isSheetsDataLoaded:e,isProxyLoaded:t,isOpen:i,isNavigating:n,url:r,closeSheet:o,sheetsData:s,startNavigation:a,setProxyLoadedStatus:l,sheetTitle:c,receiveSheetMessage:d}=this.props,p={isSheetsDataLoaded:e,isProxyLoaded:t,isNavigating:n,url:r,sheetsData:s,closeSheet:o,setProxyLoadedStatus:l,sheetTitle:c,startNavigation:a,receiveSheetMessage:d,transitionTimeout:300,frameWindow:this.context};return i?(0,x.jsx)(MessengerSheetBody,Object.assign({},p),"sheet"):null}}MessengerSheet.contextType=Gr.t;var Ur=i(51537);const $r=(0,sr.j8)({isSheetsDataLoaded:Ur.d,isProxyLoaded:Ur.Lm,isOpen:Ur.IP,url:Ur.Uh,sheetsData:Ur.b0,sourceCard:Ur.XS,isNavigating:Ur.aW,sheetTitle:Ur.$I});const Wr=(0,r.Ng)($r,(function(e){const t=ar.wv.bind(null,vt.Ay),i=ar.SQ.bind(null,vt.Ay);return(0,or.zH)({startNavigation:ar.J,finishNavigation:ar.gl,closeSheet:ar.QK,submitSheet:i,setProxyLoadedStatus:ar.Gn,setSheetTitle:ar.iu,receiveSheetMessage:t},e)}))(MessengerSheet),Kr=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(Wr,{})});var Yr=i(7350),Xr=i.n(Yr);const Jr=(0,w.Ay)("div",{target:"e1m6yto50"})({name:"xhp8uo",styles:"display:flex;position:relative;flex:1 1 auto;min-width:100%;overflow:hidden"});var Zr=i(81170),Qr=i(20681),eo=i.n(Qr),to=i(77047),io=i(51165);const no=(0,w.Ay)("div",{target:"e17wp0pa1"})("display:grid;color:",(0,w.w4)("textMuted"),";padding:20px;gap:4px;font-size:13px;line-height:15px;text-align:center;"),ro=(0,w.Ay)("div",{target:"e17wp0pa0"})({name:"1u4pyxi",styles:"text-align:center;display:flex;align-items:center;justify-content:center;gap:6px"}),oo=(e,t,i)=>{if(i)return e.darkSquare128||e.square128;return t.type===Pt.Bn.logo?e.imageUrl:e.square128},so=(e,t,i,n,r)=>({initials:t.initials,label:t.label,shape:t.shape,imageUrl:oo(t,i,n),showStatus:e,isInactive:r}),ao=({avatarSize:e,avatarGroup:t,cutoutSize:i=0,displayActiveIndicator:n=!1,facePileStyle:r="default",isInactive:o=!1})=>{const s="dark"===(0,Oi.A)().themeMode;if(null==t||!t.avatars)return null;if(t.type===Pt.Bn.facepile&&t.avatars.length>0){const[i,o,a]=t.avatars;return(0,x.jsx)(zt,{size:e,facePileStyle:r,primaryAvatar:(0,x.jsx)(ue.e,Object.assign({},so(n,i,t,s))),secondAvatar:o&&(0,x.jsx)(ue.e,Object.assign({},so(n,o,t,s))),thirdAvatar:a&&(0,x.jsx)(ue.e,Object.assign({},so(n,a,t,s)))})}return(0,x.jsx)(xe,{useCutout:!0,cutoutSize:i,avatarPixelsToShow:e-4,avatarSize:e,marginRight:"0",children:t.avatars.map(((i,r)=>(0,x.jsx)(fe,{children:(0,x.jsx)(ue.e,Object.assign({solidBackground:t.avatars.length>1},so(n,i,t,s,o),{size:e}))},r)))})},lo=({footerNotice:e,setFooterNoticeHeight:t=()=>{}})=>{const i=(0,v.useRef)(null),n=(0,v.useCallback)((()=>{i.current&&t(i.current.offsetHeight)}),[i,t]);return(0,en.A)(i.current,n,0),(0,v.useEffect)((()=>{n()}),[n]),(0,x.jsxs)(no,{ref:i,children:[(0,x.jsxs)(ro,{children:[(0,x.jsx)(ao,{avatarSize:16,cutoutSize:1,avatarGroup:e.avatarGroup,displayActiveIndicator:!1,facePileStyle:"default"}),e.title]}),e.subtitle&&(0,x.jsx)("p",{children:e.subtitle})]})},co=(0,w.Ay)("div",{target:"eidngzh0"})("left:0;right:0;z-index:3;",(({bottomSpace:e})=>e&&(0,w.AH)("position:absolute;bottom:",e,"px;"))," &.enter{transform:translateY(55px) scale(0.8);}&.enter-active{transform:translateY(0) scale(1);transition:transform 150ms ease-in-out;}&.exit{transform:translateY(0) scale(1);}&.exit-active{transform:translateY(55px) scale(0.8);transition:transform 150ms ease-in-out;}");var po=i(71857);const uo=({isComposerEnabled:e,isConversationEnded:t,show:i=!0,children:n,conversationButtonShowing:r})=>{const o=(0,v.useRef)(null),{newFooterHeight:s}=(0,v.useContext)(po.S);let a;if(t){a=(r?106:40)+30}else a=e?s+12:30;return(0,x.jsx)(z.B1,{in:i,classNames:"",nodeRef:o,timeout:150,unmountOnExit:!0,children:(0,x.jsx)(co,{ref:o,bottomSpace:a,children:n})})};var ho=i(99459);const mo=(0,w.Ay)("div",{target:"eml9w7g0"})("border-radius:0 0 6px 6px;display:flex;flex-direction:column;gap:8px;align-items:center;padding-bottom:8px;margin-top:-",20,"px;z-index:3;transition:translate 300ms;",(({theme:e,isIntercomLinkEnabled:t})=>e.isMobileBrowser&&t&&(0,w.AH)("&:focus-within:not(:has(button:focus-within)){translate:0 ",26,"px;}")),";");const go=(0,w.Ay)("div",{target:"eqx2a4a2"})("display:flex;flex-direction:column;flex:1;overflow:hidden;-webkit-overflow-scrolling:touch;.intercom-conversation-body-header{position:relative;display:flex;flex-direction:column;flex-grow:0;overflow:hidden;}.intercom-conversation-body-main-group{position:relative;display:flex;flex-direction:column;flex-grow:1;overflow:hidden;padding-bottom:",20,"px;}"),xo=(0,w.Ay)("div",{target:"eqx2a4a1"})({name:"9mli0n",styles:"position:sticky;z-index:3;top:0;padding:14px;padding-bottom:0;text-align:center"}),fo=(0,w.Ay)("div",{target:"eqx2a4a0"})({name:"1yjx7km",styles:"padding:20px"});const vo=(0,w.Ay)("div",{target:"e1nw6qnr1"})({name:"zigog8",styles:"display:flex;flex-direction:column;align-items:center"}),yo=(0,w.Ay)(vr.A,{target:"e1nw6qnr0"})("transition:transform 150ms;&:hover{transform:scale(1.1);background:",(0,w.w4)("containerBaseNeutral"),";}"),bo=({onClick:e,notificationCount:t})=>(0,x.jsx)(vo,{children:(0,x.jsx)(yo,{variant:"primary_light",iconType:"ChevronDown",borderRadius:24,padding:"8px",onClick:e,className:"intercom-conversation-body-bottom-button","aria-label":"Scroll to bottom",children:t>0&&(0,x.jsx)(Fn,{"aria-label":"Scroll badge",children:t>99?"99+":t})})});var wo=i(83285);const jo=["name"];function ko(e){let{name:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,jo);return(0,x.jsx)(Ao,{children:(0,x.jsx)(Co,Object.assign({},i,{children:(0,x.jsxs)(So,{children:[(0,x.jsx)(To,{children:(0,x.jsx)(wo.A,{})}),(0,x.jsx)(_o,{children:t})]})}))})}const Ao=(0,w.Ay)("div",{target:"efz1axl4"})({name:"zl1inp",styles:"display:flex;justify-content:center"}),Co=(0,w.Ay)(o.Link,{target:"efz1axl3"})("display:flex;align-items:center;padding:0 16px;height:40px;width:fit-content;box-shadow:",(0,w.w4)("shadowXSmall"),";min-width:86px;max-width:326px;justify-content:center;line-height:16px;font-size:13px;font-family:",(0,w.w4)("fontSansSerif"),";font-weight:600;border-radius:20px;background-color:",(0,w.w4)("containerBaseNeutral"),";transition:all 120ms;cursor:pointer;border:1px solid ",(0,w.w4)("lightBorder"),";&:link{background-color:",(0,w.w4)("containerBaseNeutral"),";}&:hover{box-shadow:",(0,w.w4)("shadowSmall"),";color:inherit;}&:active{border-color:",(0,w.w4)("buttonBackgroundColorActive"),";box-shadow:",(0,w.w4)("shadowSmall"),";transform:translateY(2px);}"),So=(0,w.Ay)("div",{target:"efz1axl2"})("display:flex;align-items:center;color:",(0,w.w4)("linkColor"),";"),To=(0,w.Ay)("span",{target:"efz1axl1"})({name:"nkt64x",styles:"margin-right:10px"}),_o=(0,w.Ay)("span",{target:"efz1axl0"})({name:"1g7g7c1",styles:"max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis"});var Eo=i(79630),No=i(86629),Bo=i(56341);var Io={name:"1azpx8r",styles:"margin-bottom:20px"};const Ro=(0,w.Ay)("ul",{target:"e1753f488"})("list-style-type:none;display:flex;gap:3px;margin-top:'20px';",(({inline:e})=>!e&&Io),";"),Po=(0,w.Ay)("div",{target:"e1753f487"})({name:"1d3w5wq",styles:"width:100%"});var zo={name:"ihsmyf",styles:"border-top-right-radius:50px;border-bottom-right-radius:50px"},Mo={name:"1ewu4nf",styles:"border-top-left-radius:50px;border-bottom-left-radius:50px"};const Oo=(0,w.Ay)("div",{target:"e1753f486"})("height:4px;width:100%;background-color:",(({theme:e})=>e.borderEmphasisNeutral),";margin-bottom:8px;",(({colored:e,color:t,theme:i})=>e&&(0,w.AH)("background-color:",i[t],";"))," ",(({roundedSide:e})=>"left"===e?Mo:"right"===e?zo:null),";"),Ho=(0,w.Ay)("li",{target:"e1753f485"})("width:auto;flex-basis:0;flex-grow:1;",(({isCurrent:e})=>e&&(0,w.AH)("font-weight:",e?"600":"400",";"))," font-size:14px;line-height:21px;text-align:center;",(({diminished:e,theme:t})=>e&&(0,w.AH)("color:",t.iconMuted,";")),";");var Do={name:"pp0jbi",styles:"font-size:16px;line-height:24px;font-weight:600"};const Lo=(0,w.Ay)(Bo._,{target:"e1753f484"})("text-align:center;margin-bottom:15px;font-weight:400;color:",(0,w.w4)("textDefault"),";",(({big:e})=>e&&Do),";"),Vo=(0,w.Ay)("div",{target:"e1753f483"})({name:"10q28bl",styles:"width:auto;margin-bottom:10px"}),Fo=(0,w.Ay)("div",{target:"e1753f482"})({name:"oxkz62",styles:"display:flex;justify-content:center;padding:0"}),qo=(0,w.Ay)("div",{target:"e1753f481"})("text-align:center;font-size:14px;line-height:21px;font-weight:600;margin-bottom:4px;color:",(({color:e})=>(0,w.w4)(e)),";"),Go=(0,w.Ay)("div",{target:"e1753f480"})("font-size:14px;margin-bottom:18px;display:flex;justify-content:center;color:",(0,w.w4)("textDefault"),";svg{margin-right:8px;}");var Uo,$o,Wo,Ko;function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yo.apply(null,arguments)}const Xo=e=>v.createElement("svg",Yo({xmlns:"http://www.w3.org/2000/svg",width:12,height:13,fill:"none",viewBox:"0 0 12 13"},e),Uo||(Uo=v.createElement("path",{fill:"currentColor",d:"M6 4.333c.553 0 1.096.155 1.568.447.471.293.854.711 1.105 1.21a3.06 3.06 0 0 1-.246 3.16L6 7.367zm5.186-1.575.401.508c.097.072.069.23-.055.318l-1.529 1.122c-.07.097-.23.068-.316-.056l-.401-.508c-.097-.072-.069-.23.055-.318l1.581-1.113c.062-.044.22-.015.264.047"})),$o||($o=v.createElement("rect",{width:4.286,height:1.3,x:3.857,fill:"currentColor",rx:.5})),Wo||(Wo=v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 11.7c2.367 0 4.286-1.94 4.286-4.333S8.366 3.033 6 3.033c-2.367 0-4.286 1.94-4.286 4.334S3.633 11.7 6 11.7M6 13c3.077 0 5.571-2.522 5.571-5.633S9.077 1.733 6 1.733.428 4.255.428 7.367C.428 10.477 2.923 13 6 13",clipRule:"evenodd"})),Ko||(Ko=v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.429.867V2.6h-.857V.867z",clipRule:"evenodd"}))),Jo={[Pt.S5.submitted]:"inProgressFill",[Pt.S5.inProgress]:"inProgressFill",[Pt.S5.waiting]:"waitingOnYouFill",[Pt.S5.resolved]:"onlineFill"};function Zo({history:e,assignee:t,estimatedResolution:i,inline:n=!1}){const r=t=>0===t?"left":t===e.length-1?"right":null,o=e.find((e=>e.isCurrent)),s=o?e.indexOf(o):0;return(0,x.jsxs)(Po,{children:[n?null:(0,x.jsx)(Fo,{children:(0,x.jsx)(Vo,{children:t?(0,x.jsx)(ve.l,{size:64,admin:t}):(0,x.jsx)(we,{solidBackground:!0,avatarSize:50,maxAdmins:3,avatarPixelsToShow:20})})}),(0,x.jsx)(qo,{color:Jo[null==o?void 0:o.type],"data-testid":"status-info",children:`${null==o?void 0:o.title} ${(null==o?void 0:o.relativeTime)&&"• "+(null==o?void 0:o.relativeTime)}`}),n&&i?null:(0,x.jsx)(Lo,{"data-testid":"ticket-detail",children:null==o?void 0:o.detail}),i?(0,x.jsxs)(Go,{children:[(0,x.jsx)(Xo,{})," ",i]}):null,(0,x.jsx)(Ro,{inline:n,children:e.map(((e,t)=>{const i=t<=s;return(0,x.jsx)(Ho,{"data-testid":e.isCurrent?"current-status":`${e.type}-status`,diminished:s!==t,isCurrent:!!e.isCurrent,children:(0,x.jsx)(Oo,{colored:i,color:Jo[null==o?void 0:o.type],roundedSide:r(t)})},e.type)}))})]})}const Qo=(0,w.Ay)(Bo._,{target:"e1yk4gt43"})("text-align:center;color:",(0,w.w4)("textMuted"),";margin-bottom:'12px';"),es=(0,w.Ay)("div",{target:"e1yk4gt42"})("border:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";border-radius:10px;padding:16px 13px 0px;box-shadow:",(0,w.w4)("shadowMedium"),";border-color:",(0,w.w4)("borderEmphasisNeutral"),";"),ts=(0,w.Ay)("div",{target:"e1yk4gt41"})("font-size:16px;display:flex;justify-content:center;align-items:center;margin-bottom:4px;line-height:24px;font-weight:600;color:",(0,w.w4)("textDefault"),";svg{margin-right:8px;}"),is=(0,w.Ay)(o.Link,{target:"e1yk4gt40"})("margin-top:16px;display:flex;padding:16px 0;border-top:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";width:100%;text-align:center;font-size:14px;font-weight:400;align-items:center;justify-content:center;color:",(0,w.w4)("linkColor"),"!important;svg{margin-right:9px;}");var ns=i(57492);function rs({ticket:e}){return(0,x.jsxs)("div",{children:[(0,x.jsx)(Qo,{children:e.inlineStatusHeaderText||(0,Ne.Tl)("your_ticket")}),(0,x.jsxs)(es,{children:[(0,x.jsx)(ts,{children:e.name}),(0,x.jsx)(Zo,{history:e.history,currentStatus:e.status,estimatedResolution:e.sla,inline:!0}),(0,x.jsxs)(is,{to:(0,ns.sq)(e.id),children:[(0,x.jsx)(wo.A,{}),(0,Ne.Tl)("tickets_view_ticket")]})]})]})}const os=(0,w.Ay)("div",{target:"e13fyoou2"})("margin:",(({theme:e})=>e.conversationHorizontalPadding),"px ",(({theme:e})=>e.globalHorizontalPadding),"px 0px;display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:flex-start;max-width:100%;position:relative;border-radius:20px;border:1px solid ",(0,w.w4)("alphaBlack10"),";color:",(0,w.w4)("textDefault"),";background-color:",(0,w.w4)("containerBaseNeutral"),";padding:12px 16px;"),ss=(0,w.Ay)("span",{target:"e13fyoou1"})("font-size:13px;line-height:19px;font-weight:400;white-space:pre-wrap;color:",(0,w.w4)("textMuted"),";word-wrap:break-word;a,a:visited,a:hover,a:active{color:inherit;text-decoration:underline;}"),as=(0,w.Ay)("div",{target:"e13fyoou0"})({name:"3motwv",styles:"margin-right:8px;margin-top:2px"}),ls=({textContent:e})=>(0,x.jsxs)(os,{role:"complementary",tabIndex:0,children:[(0,x.jsx)(as,{children:(0,x.jsx)(ae.Ay,{type:"Info",color:"linkColor"})}),(0,x.jsx)(ss,{"data-testid":"special-notice-text",children:(0,x.jsx)(Ct.y,{text:e,tagName:"div",className:"intercom-block-paragraph",align:"left",noMargin:!0})})]});var cs=i(16645);var ds=i(38221),ps=i.n(ds);const us=(e,{threshold:t=50,debounceTime:i=500})=>{const[n,r]=(0,v.useState)(!0);return(0,v.useEffect)((()=>{const n=e.current,o=()=>{if(!n)return;const{scrollTop:e,scrollHeight:i,clientHeight:o}=n;r(e+o>=i-t)},s=ps()(o,i),a=Xr()(o,100,{leading:!0,trailing:!0});return n&&(n.addEventListener("scroll",s),n.addEventListener("wheel",a),s()),()=>{n&&(n.removeEventListener("scroll",s),n.removeEventListener("wheel",a))}}),[e,t,i]),n};var hs=i(46531),ms=i(93346),gs=i(90933);const xs=(0,w.Ay)("div",{target:"e7p3sj51"})({name:"1jocp2f",styles:"display:flex;flex-direction:column;align-items:center;padding:0px 20px"}),fs=(0,w.Ay)("div",{target:"e7p3sj50"})("cursor:pointer;color:",(0,w.w4)("textMuted"),";background-color:",(0,w.w4)("containerBaseNeutral"),";border-radius:50vh;box-shadow:",(0,w.w4)("shadowSmall"),";border:1px solid ",(0,w.w4)("borderNeutral"),";padding:10px;gap:6px;font-size:13px;line-height:19.5px;text-align:center;display:flex;align-items:center;justify-content:center;transition:transform ",150,"ms;&:hover{transform:scale(1.02);}"),vs=({onClick:e,avatarGroup:t,title:i})=>(0,x.jsx)(xs,{"data-testid":"FloatingNotice",children:(0,x.jsxs)(fs,{onClick:e,children:[(0,x.jsx)(ao,{avatarSize:16,cutoutSize:1,avatarGroup:t,displayActiveIndicator:!1,facePileStyle:"default"}),i]})});var ys=i(56213),bs=i(75285);const ws=(0,w.Ay)("p",{target:"ejd6b4u0"})("display:flex;flex-direction:column;align-items:center;gap:6px;font-size:13px;text-wrap:balance;color:",(0,w.w4)("textMuted"),";padding:16px 20px 0px;text-align:center;line-height:21px;"),js=({text:e})=>(0,x.jsx)(ws,{role:"complementary",tabIndex:0,children:e});var ks=i(20169);const As=({conversation:e,conversationSuggestions:t,onSuggestionClicked:i,setComposerSuggestionsDismissed:n,onRetry:r,onReactionSelect:o,onArticleCardClick:s,conversationButtonShowing:a})=>{var l,c;const d=(0,Gr.x)(),{isFetching:p,isUpdating:u,parts:m,ticket:g,ticketId:f,readAt:b}=e,w=p&&!u,{name:j,isIntercomLinkEnabled:k}=(0,h.GV)(W.rp),A=!!(0,h.GV)((t=>(0,ms.L9)(t,null==e?void 0:e.id))),C=e.teamIntro,S=e.specialNotice,T=0===(0,v.useMemo)((()=>(0,No.Jm)(m).length),[m]),_={conversation:e,setComposerSuggestionsDismissed:n,onClick:i,onHeightChange:()=>{}},E=e.footerNotice,N=(k||t||E)&&!A,B=!e.id,I=(0,v.useMemo)((()=>T&&e.ticket?Object.assign({},e,{parts:e.parts.filter((e=>"ticket_status_update"!==e.partType))}):e),[e,T]),{anchor:R,setAnchor:P,canScroll:z}=(0,cs.r)(),[M,O]=(0,v.useState)(b||void 0),H=(0,v.useMemo)((()=>m.filter((t=>{if("ticket_status_update"===t.partType){var i;const n=(0,bs.kU)(null==(i=e.ticket)?void 0:i.readAt);return M&&t.createdAt>M&&(!n||t.createdAt>n)}var n,r;return M&&M<t.createdAt&&(null==(n=t.author)?void 0:n.type)&&"user"!==(null==(r=t.author)?void 0:r.type)&&"quick_reply"!==t.partType&&"merged_primary_conversation"!==t.partType}))),[m,null==(l=e.ticket)?void 0:l.readAt,M]),D=()=>{P(H[0]?{type:"item",id:"divider"}:{type:"bottom"}),O(new Date)},L=eo()(m,(e=>void 0!==e.tokenSequenceIndex)),[V,F]=(0,v.useState)(!1);(0,v.useLayoutEffect)((()=>{w||R||V||(B||(H[0]?P({type:"item",id:"divider",initialBehavior:"instant"}):P({type:"bottom",initialBehavior:"instant"})),V||F(!0))}),[w,V,F,H,R,P,B]);const q=(0,gs.zN)(e)&&!t.composerDisabled,G=(0,v.useRef)(null),U=us(G,{debounceTime:200}),$=!U&&"bottom"!==(null==R?void 0:R.type),[K,Y]=(0,v.useState)(0),X=(({scrollViewRef:e,isComposerEnabled:t,footerNoticeHeight:i,didInitialScroll:n,anchor:r})=>{let o=i;t&&(o-=20);const s=us(e,{threshold:o,debounceTime:50});return n&&!s&&"bottom"!==(null==r?void 0:r.type)})({scrollViewRef:G,isComposerEnabled:q,footerNoticeHeight:K,didInitialScroll:V,anchor:R}),[J,Z]=(0,v.useState)(null);(0,v.useEffect)((()=>{if(L&&0===L.tokenSequenceIndex){if(U&&("item"!==(null==R?void 0:R.type)||"item"===(null==R?void 0:R.type)&&(null==R?void 0:R.id)!==L.id&&(null==R?void 0:R.id)!==L.clientId)){const e=eo()(m,(e=>{var t;return"user"===(null==(t=e.author)?void 0:t.type)}));Z(e||L),P({type:"item",id:(0,No.TS)(L)})}}}),[L,R,P,U,m]),(e=>{const t=(0,h.jL)(),i=(0,v.useCallback)((e=>{t((0,Xt.QL)(vt.Ay,e,{requestOrigin:"Conversation Body Fetch for Prevent Replies"}))}),[t]),{preventEndUserReplies:n,preventEndUserRepliesTimestamp:r,id:o}=e;(0,v.useEffect)((()=>{let e=null;if(n){let t=-1;r&&!isNaN(r)&&(t=Math.min(1e3*r+500-Date.now(),2147483647)),t>0&&(e=setTimeout((()=>{i(o)}),t))}return()=>{e&&clearTimeout(e)}}),[o,n,r,i])})(e);(0,v.useEffect)((()=>($&&O(new Date),()=>{})),[$]),(0,v.useEffect)((()=>{var e;const t=m[m.length-1];t&&(null==(e=t.author)?void 0:e.isSelf)&&!!M&&t.createdAt>M&&!(0,ys.rr)()&&P({type:"bottom"})}),[m,P,M]);const[Q,ee]=(0,v.useState)(m.length),[te,ie]=(0,v.useState)(H[0]?(0,No.TS)(H[0]):null);(0,v.useEffect)((()=>{const e=H[0]?(0,No.TS)(H[0]):null;m.length>Q&&(ie(U?null:e),ee(m.length))}),[U,Q,m.length,H]);const{isMobileLandscape:ne}=(()=>{const[e,t]=(0,v.useState)({isMobileSize:(0,yr.IS)(),isMobileLandscape:(0,yr.rx)()}),i=(0,v.useCallback)((()=>{t({isMobileSize:(0,yr.IS)(),isMobileLandscape:(0,yr.rx)()})}),[t]);return(0,v.useLayoutEffect)((()=>(window.parent.addEventListener("resize",i),()=>{window.parent.removeEventListener("resize",i)})),[i]),e})(),re=E&&!ne;return(0,x.jsxs)(go,{className:"intercom-conversation-body",children:[(0,x.jsx)(hs.p,{}),(0,x.jsxs)(cs.Q.Content,{ref:G,onWheel:e=>{(0,Eo.Xr)(e)},tabIndex:0,"aria-live":"assertive","aria-atomic":"false",role:"alert",children:[!w&&!T&&g&&f&&(0,x.jsx)(xo,{children:(0,x.jsx)(ko,{to:(0,ns.sq)(f),name:g.name})}),(0,x.jsx)("div",{className:"intercom-conversation-body-header",children:!w&&!(0,ks.Z)().headerDisabled&&(0,x.jsxs)(x.Fragment,{children:[C&&(0,x.jsx)(js,{text:C}),S&&(0,x.jsx)(ls,{textContent:S}),T&&g&&(0,x.jsx)(fo,{children:(0,x.jsx)(rs,{ticket:g})})]})}),(0,x.jsx)("div",{className:"intercom-conversation-body-main-group",children:w?(0,x.jsx)(y.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ho.A,{errorText:"Something went wrong loading the conversation",align:"center",style:{marginTop:"20px",flex:1},children:(0,x.jsx)(to.A,{appName:j,conversation:I,scrolledToBottom:U,canBeScrolled:z,frameWindow:d,onRetry:r,onReactionSelect:o,onArticleCardClick:s,firstUnreadPartId:te,newMessagesLastReadAt:M,ensureIsScrollableToTopPart:J,clientAreaHeight:(null==(c=G.current)?void 0:c.clientHeight)??596})}),N&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ho.A,{errorText:"Something went wrong loading the suggestions",align:"center",style:{marginBottom:"10px"},children:t&&(0,x.jsx)(io.A,Object.assign({},_,{conversationSuggestions:t}))}),E&&(0,x.jsx)(lo,{footerNotice:E,setFooterNoticeHeight:Y})]})]})})]}),(0,x.jsx)(uo,{show:re?X:$,isComposerEnabled:q,isConversationEnded:e.preventEndUserReplies,conversationButtonShowing:a,children:re?(0,x.jsx)(vs,{onClick:()=>D(),avatarGroup:E.avatarGroup,title:E.title}):(0,x.jsx)(bo,{onClick:()=>D(),notificationCount:H.length})})]})};var Cs=i(36215),Ss=i(28381),Ts=i(98099),_s=i(18873),Es=i(63156),Ns=i(86655),Bs=i(5209);const Is=({displayAsCompact:e})=>{const t=(0,Oi.A)();return(0,x.jsxs)(Bs.C,{displayAsCompact:e,focusable:"false","aria-hidden":"true",viewBox:"0 0 585 585",children:[(0,x.jsx)("mask",{id:"mask0_3355_332",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"585",height:"585",children:(0,x.jsx)("path",{d:"M585 0H0V585H585V0Z",fill:t.textWhite})}),(0,x.jsxs)("g",{mask:"url(#mask0_3355_332)",children:[(0,x.jsx)("path",{d:"M538.092 0.0234302C534.741 0.0234302 531.507 1.35899 529.143 3.72552L386.165 146.701C380.074 152.793 369.813 146.889 372.06 138.547L404.911 15.933C407.066 7.89622 400.999 0 392.681 0H342.422C336.704 0 331.689 3.84268 330.188 9.37236L304.977 103.424C303.456 109.141 303.456 115.163 304.977 120.88L323.066 188.385C332.696 224.281 360.72 252.328 396.617 261.934L464.122 280.023C469.84 281.546 475.859 281.546 481.577 280.023L575.629 254.811C581.159 253.335 585.003 248.321 585.003 242.58V192.298C585.003 184.003 577.151 177.958 569.138 180.114C526.049 191.665 477.127 204.763 446.43 212.987C438.112 215.213 432.209 204.974 438.301 198.882L581.299 55.8828C583.667 53.5162 585.003 50.2828 585.003 46.9322C585.048 21.0644 564.029 0.0234302 538.092 0.0234302Z",fill:t.alphaBlack100}),(0,x.jsx)("path",{d:"M538.092 584.748C534.741 584.748 531.507 583.412 529.143 581.045L386.165 438.07C380.074 431.979 369.813 437.882 372.06 446.224L404.911 568.838C407.066 576.876 400.999 584.769 392.681 584.769H342.422C336.704 584.769 331.689 580.928 330.188 575.399L304.977 481.347C303.456 475.629 303.456 469.606 304.977 463.891L323.066 396.387C332.696 360.49 360.72 332.442 396.617 322.835L464.122 304.746C469.84 303.225 475.859 303.225 481.577 304.746L575.629 329.958C581.159 331.435 585.003 336.45 585.003 342.192V392.474C585.003 400.768 577.151 406.812 569.138 404.657C526.049 393.105 477.127 380.007 446.43 371.785C438.112 369.558 432.209 379.798 438.301 385.89L581.299 528.888C583.667 531.256 585.003 534.487 585.003 537.837C585.003 563.775 563.961 584.817 538.023 584.817L538.092 584.748Z",fill:t.alphaBlack100}),(0,x.jsx)("path",{d:"M46.9791 0C50.3296 0 53.563 1.33556 55.9297 3.70209L198.905 146.678C204.997 152.77 215.26 146.865 213.01 138.524L180.16 15.9096C178.005 7.89623 184.073 0 192.391 0H242.651C248.368 0 253.382 3.84266 254.882 9.37237L280.093 103.424C281.616 109.141 281.616 115.163 280.093 120.88L262.004 188.385C252.374 224.281 224.351 252.327 188.455 261.934L120.95 280.023C115.233 281.546 109.212 281.546 103.494 280.023L9.44267 254.811C3.84266 253.382 0 248.368 0 242.627L0 192.344C0 184.05 7.8728 177.981 15.8862 180.137C58.9521 191.688 107.853 204.786 138.547 213.011C146.888 215.236 152.793 204.997 146.678 198.905L3.70209 55.9296C1.33556 53.5396 0 50.3295 0 46.979C0 21.041 21.041 0 46.9791 0Z",fill:t.alphaBlack100}),(0,x.jsx)("path",{d:"M46.9789 584.745C50.3295 584.745 53.5632 583.412 55.9295 581.045L198.905 438.07C204.997 431.976 215.26 437.882 213.011 446.224L180.16 568.838C178.005 576.876 184.073 584.769 192.391 584.769H242.651C248.368 584.769 253.382 580.928 254.881 575.399L280.093 481.347C281.616 475.629 281.616 469.606 280.093 463.891L262.005 396.387C252.374 360.49 224.351 332.442 188.455 322.835L120.95 304.746C115.233 303.225 109.211 303.225 103.494 304.746L9.44267 329.958C3.84266 331.39 0 336.402 0 342.12L0 392.402C0 400.697 7.8728 406.764 15.8862 404.609C58.9522 393.057 107.852 379.96 138.547 371.737C146.889 369.51 152.793 379.75 146.678 385.842L3.70209 528.841C1.33556 531.208 0 534.418 0 537.792C0 563.73 21.041 584.769 46.9789 584.769V584.745Z",fill:t.alphaBlack100})]})]})};function Rs({icon:e,displayAsCompact:t}){return"fin"===e?(0,x.jsx)(Is,{displayAsCompact:t}):(0,x.jsx)(Ns.A,{displayAsCompact:t})}const Ps=(e,t)=>{const i=new URL(e),n=new URLSearchParams(i.search);return((e,t)=>{if(e.has("user_id")||e.set("user_id",t.userId||""),e.has("powered_by_app_id")||e.set("powered_by_app_id",t.appId||""),e.has("company")||e.set("company",t.appName),e.has("solution")||e.set("solution",t.intercomLinkSolution||""),e.has("utm_medium")||e.set("utm_medium","messenger"),e.has("utm_campaign")||e.set("utm_campaign","intercom-link"),!e.has("utm_content")){let i="4+";(t.location||t.currentView)&&(i+=`${t.location||t.currentView}+`),i+=t.isDeveloperWorkspace?"developer-workspace":"we-run-on-intercom",e.set("utm_content",i)}var i,n;e.has("utm_source")||e.set("utm_source",(0,ys.rr)()?"mobile-web":"desktop-web"),e.has("utm_referrer")||e.set("utm_referrer",encodeURI((null==(i=window)||null==(i=i.parent)||null==(i=i.location)?void 0:i.origin)+(null==(n=window)||null==(n=n.parent)||null==(n=n.location)?void 0:n.pathname)))})(n,t),i.search=n.toString(),i.toString()},zs=(0,v.forwardRef)((function(e,t){const i=(0,h.GV)(m.V$),n=e.poweredBy,{userId:r,appName:o,intercomLinkSolution:s,appId:a,currentView:l="conversation",isDeveloperWorkspace:c,showOnSpaces:d,className:p,removeVerticalMargin:u=!1,isFadingOut:g}=e,f=()=>{const e=c?"developer_workspace":"we_run_on_intercom";(0,je.A5)("clicked",e,"messenger",l,{})},y=(0,v.useCallback)((()=>null!=n&&n.linkUrl?Ps(n.linkUrl,{userId:r,appId:a,appName:o,intercomLinkSolution:s,currentView:l,isDeveloperWorkspace:c}):null),[n,r,a,o,s,l,c]),b=(0,Oi.A)(),w=b.textMuted,j=b.elevation1;return(0,x.jsx)(Yn,{underConstruction:c,showOnSpaces:d,"data-testid":"intercom-link",ref:t,className:p,removeVerticalMargin:u,isFadingOut:g,children:(0,x.jsx)(Qn,{children:n&&(()=>{const e=y();return(0,x.jsx)(z.B1,{in:!!n,timeout:150,classNames:"powered-by",children:(0,x.jsxs)(Zn,{as:e?"a":"div",foregroundColor:w,hoverColor:e?j:w,href:e||void 0,onClick:e?f:void 0,target:e?"_blank":void 0,showOnSpaces:d,displayAsCompact:i,style:{cursor:e?"pointer":"default",pointerEvents:e?"auto":"none"},children:[(0,x.jsx)(Rs,{icon:n.icon,displayAsCompact:i}),(0,x.jsx)(Kn,{id:"intercom-link-text","data-testid":"intercom-link-text",children:c?"Development Workspace":(null==n?void 0:n.text)||""})]})})})()})})}));var Ms=i(34179);(0,Ne.Tl)("powered_by_intercom");const Os=(0,v.forwardRef)(((e,t)=>{const i=(0,h.GV)((e=>{var t;return null==(t=e.session)?void 0:t.appId})),n=(0,h.GV)((e=>{var t;return null==(t=e.user)?void 0:t.id})),r=(0,h.GV)((e=>{var t;return(null==e||null==(t=e.app)?void 0:t.name)||""})),o=(0,h.GV)((e=>{var t;return null==e||null==(t=e.app)?void 0:t.isDeveloperWorkspace})),s=function(){const e=(0,Ms.A)(),t=(0,h.GV)(W.rp);if(!(0,ks.Z)().poweredByDisabled)return null!=e&&e.poweredBy?e.poweredBy:null!=t&&t.poweredBy?t.poweredBy:void 0}();return(0,x.jsx)(zs,Object.assign({ref:t,poweredBy:s,appId:i,appName:r,userId:n,isDeveloperWorkspace:o},e))})),Hs=Os;const Ds=(0,w.Ay)("div",{target:"e6876yz1"})({name:"22wb76",styles:"border-radius:0 0 6px 6px;z-index:3"}),Ls=(0,w.Ay)(Hs,{target:"e6876yz0"})({name:"ti75j2",styles:"margin:0"});const Vs=(0,w.Ay)("div",{target:"e1xe1m622"})("padding-bottom:2px;border-top:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";background-color:",(0,w.w4)("containerBaseNeutral"),";box-shadow:none;border-color:",(0,w.w4)("lightBorder"),";"),Fs=(0,w.Ay)("div",{target:"e1xe1m621"})({name:"98unkj",styles:"padding-bottom:22px;text-align:center;display:flex;justify-content:center"}),qs=(0,w.Ay)("div",{target:"e1xe1m620"})((({theme:e})=>(0,w.AH)("color:",e.isPrimaryColorLight?(0,Z.e$)(e.textMuted,15):e.textMuted,";"))," margin:24px auto 12px;text-align:center;font-size:14px;padding-top:0px;line-height:21px;color:",(0,w.w4)("textMuted"),";");var Gs=i(38330),Us=i(49444),$s=i(27362),Ws=i(84443);function Ks({styleVariant:e="primary",metricsContext:t,metadata:i={}}){const n=(0,h.jL)(),{showSpace:r}=Se(),o=(0,h.GV)(W.Ei),s=(0,h.GV)(W.ed),a=(0,h.GV)(W._D),l=(0,h.GV)(W.TB),c=(0,h.GV)(Us.ow),d=l&&!c,u=(0,h.GV)(er._9),{isStandalone:m}=(0,h.GV)(er.hb),g=(0,h.GV)(Gs.hH),f=(0,h.GV)(Ws.$),v=()=>d?(0,Ne.Tl)("messages_browse_articles_btn"):null!=u&&u.relatedConversationId?(0,Ne.Tl)("continue_the_conversation"):g?g.text:s||!a?(0,Ne.Tl)("ask_a_question"):(0,Ne.Tl)("send_us_a_message");if(!o)return null;const y=d?"ArticleOpenBook":g?g.icon||"NewConversation":s||!a?"AskQuestion":"NewConversation";return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)($s.A,{onClick:()=>{if(d)r(p.ZL.id);else if(null!=u&&u.relatedConversationId)n((0,Xt.QL)(vt.Ay,u.relatedConversationId,{requestOrigin:"Article Related Conversation Click"})),n((0,Jt.p)(u.relatedConversationId));else{let e;!u||null!=f&&f.snapshotId||(e={partType:"article_link",messageType:"link",body:[{type:"link",title:u.title,linkType:"educate.article",articleId:u.id,description:u.description,url:u.url,author:u.author}],createdAt:new Date,sentAt:new Date,isMessage:!0}),n((0,Rt.p6)({articleUrl:null==u?void 0:u.url,articleID:null==u?void 0:u.id,articleIsStandalone:m,articleLinkPart:e})),(0,je.A5)("clicked","new_conversation","messenger",t,i)}},borderRadius:10,variant:e,"data-testid":"send-a-message-button","aria-label":v(),children:[v(),(0,x.jsx)(ae.In,{type:y,flipInRtl:"NewConversation"===y||"ComposerSend"===y})]})})}const Ys=(e,t,i)=>{var n;const r=null==e||null==(n=e.metadata)?void 0:n.merged_into_conversation_id;return t&&!i&&!!r},Xs=({allowNewConversation:e,inboundConversationsDisabled:t,conversationEndedButton:i})=>{var n;const r=(0,h.jL)(),o=(null==i?void 0:i.title)||(0,Ne.Tl)("conversation_has_ended"),s=null==i||null==(n=i.metadata)?void 0:n.merged_into_conversation_id,a=Ys(i,e,t);return(0,x.jsxs)(Vs,{children:[(0,x.jsx)(qs,{children:o}),a&&(0,x.jsx)(Fs,{children:i?(0,x.jsx)(vr.A,{iconType:i.icon,onClick:()=>{"merged_into_conversation"===(null==i?void 0:i.reason)&&s&&(r((0,Xt.QL)(vt.Ay,s,{requestOrigin:"Conversation Ended Button"})),r((0,Jt.p)(s)))},variant:"secondary",children:i.text}):(0,x.jsx)(Ks,{styleVariant:"primary_light"})})]})};var Js=i(32589);const Zs=(0,w.Ay)("a",{target:"e1quee1w1"})("display:inline-block;height:40px;font-size:14px;line-height:40px;pointer-events:auto;cursor:pointer;border-radius:40px;text-align:center;transition:all 120ms;padding:0 24px;span{padding-left:10px;white-space:nowrap;font-weight:600;}",(({variant:e,theme:t})=>"default"===e&&(0,w.AH)("background-color:",t.buttonBackgroundColor,"!important;color:",t.buttonTextColor,"!important;transition:color 0.3s,background-color 0.3s;&:hover{background-color:",t.buttonBackgroundColorHover,"!important;}&:active{background-color:",t.buttonBackgroundColorActive,"!important;}"))," ",(({variant:e,theme:t})=>"default"===e&&t.isPrimaryColorAsTheme&&(0,w.AH)("border:1px solid ",t.borderEmphasisNeutral,";")),";"),Qs=(0,w.Ay)("div",{target:"e1quee1w0"})({name:"8irbms",styles:"display:inline-flex;align-items:center"});class ContinueOnWhatsappButton extends v.PureComponent{constructor(...e){super(...e),this.handleContinueOnWhatsppClick=()=>(this.continueOnWhatsappMetric(),!0),this.continueOnWhatsappMetric=()=>{(0,je.A5)("clicked","continue_on_whatsapp","messenger",this.props.metricsContext,this.props.metadata)}}render(){const{IconComponent:e}=this.props;return(0,x.jsx)(Zs,{href:"https://wa.me",target:"_blank",variant:"default",className:"continue-on-whatsapp-button",onClick:this.handleContinueOnWhatsppClick,children:(0,x.jsxs)(Qs,{children:[(0,x.jsx)(e,{variant:"default"}),(0,x.jsx)("span",{children:(0,Ne.Tl)("continue_on_whatsapp")})]})})}}ContinueOnWhatsappButton.defaultProps={IconComponent:function({variant:e}){return(0,x.jsx)(Js.M,{focusable:"false","aria-hidden":"true",viewBox:"0 0 15 16",variant:e,children:(0,x.jsx)("g",{transform:"translate(-24.000000, -12.000000)",children:(0,x.jsx)("path",{d:"M25.4036262,27.3409362 C24.4176893,27.8509036 23.8195834,27.3951055 24.0683403,26.3201996 L25.0887779,21.910776 C25.2131242,21.3734618 25.7510472,20.8884231 26.3078778,20.8254187 L32.503417,20.1244045 C34.151155,19.9379658 34.1569707,19.6389088 32.503417,19.4549971 L26.3078778,18.7659164 C25.7589338,18.7048617 25.2129433,18.217839 25.0887779,17.6798715 L24.0683403,13.2586546 C23.8198614,12.1820783 24.408944,11.7182276 25.4036262,12.2327184 L38.22304,18.8634497 C39.208977,19.373417 39.2177223,20.1957141 38.22304,20.7102049 L25.4036262,27.3409362 Z"})})})},metadata:{}};const ea=(0,w.Ay)("div",{target:"e2smsy12"})("padding-bottom:2px;border-top:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";background-color:",(0,w.w4)("containerBaseNeutral"),";box-shadow:",(0,w.w4)("shadowXSmall"),";"),ta=(0,w.Ay)("div",{target:"e2smsy11"})({name:"8vudpi",styles:"padding-bottom:22px;text-align:center"}),ia=(0,w.Ay)("div",{target:"e2smsy10"})((({theme:e})=>(0,w.AH)("color:",e.textMuted,";"))," margin:16px auto;text-align:center;font-size:13px;padding-top:4px;");class WhatsappSwitchedFooter extends v.Component{constructor(...e){super(...e),this.composer=void 0}render(){return(0,x.jsxs)(ea,{ref:e=>this.composer=e,children:[(0,x.jsx)(ia,{children:(0,Ne.Tl)("can_continue_whatsapp")}),(0,x.jsx)(ta,{children:(0,x.jsx)(ContinueOnWhatsappButton,{metricsContext:"whatsapp"})})]})}}const na=(0,w.Ay)("div",{target:"e1jolh732"})("height:120px;background-color:",(0,w.w4)("input"),";border-radius:0 0 6px 6px;text-align:center;overflow:hidden;"),ra=(0,w.Ay)("div",{target:"e1jolh731"})("margin-top:20px;font-size:14px;line-height:150%;color:",(0,w.w4)("textDefault"),";"),oa=(0,w.Ay)("div",{target:"e1jolh730"})({name:"zbsgha",styles:"margin:8px 0 32px 0;display:flex;justify-content:center"});function sa({info:e,onJoinConversationClick:t}){const[i,n]=(0,v.useState)(!1);return(0,x.jsxs)(na,{children:[(0,x.jsx)(ra,{children:e}),(0,x.jsx)(oa,{children:i?(0,x.jsx)(y.A,{}):(0,x.jsx)($s.A,{iconType:"NewConversation",onClick:()=>{n(!0),t()},borderRadius:10,"data-testid":"send-a-message-button",children:(0,Ne.Tl)("join_conversation")})})]})}var aa=i(47335);function la({name:e,children:t}){const i=(0,aa.A)(e);return"function"==typeof t?(0,x.jsx)(x.Fragment,{children:t(i)}):i?(0,x.jsx)(x.Fragment,{children:t}):null}var ca=i(18603);const da=({linkUrl:e="http://zapier.com/privacy",linkLabel:t="Privacy Policy"})=>(0,x.jsx)(ca.v,{href:e,onClick:()=>{(0,je.A5)("clicked","privacy_policy","messenger","conversation",{})},target:"_blank","aria-label":e,children:(0,x.jsx)("span",{children:t})});const pa=function(e,t){const[i,n]=(0,v.useState)(!1),r=(0,v.useCallback)((()=>n(!0)),[]),o=(0,v.useCallback)((()=>n(!1)),[]);return(0,v.useEffect)((()=>{const t=e.current;return t&&(t.addEventListener("focusin",r),t.addEventListener("focusout",o)),()=>{t&&(t.removeEventListener("focusin",r),t.removeEventListener("focusout",o))}}),[e,r,o]),(0,v.useEffect)((()=>{t(i)}),[i,t]),i},ua=({isIntercomLinkEnabled:e,children:t})=>{const{setNewFooterHeight:i,footerRef:n}=(0,v.useContext)(po.S),r=pa(n,(e=>{o()})),o=()=>{if(n.current){var e;let t=(null==(e=n.current)?void 0:e.offsetHeight)||0;r&&(0,ys.rr)()&&(t-=26),i(t)}};return(0,en.A)(n.current,o,0),(0,x.jsx)(mo,{isIntercomLinkEnabled:e,ref:n,"data-testid":"footer-container",children:t})};var ha=i(47505),ma=i(91067);const ga=({conversation:e,shouldShowUpfrontEmailComposer:t,onJoinConversationClick:i,onReactionSelect:n,allowNewConversation:r,accessToTeammateEnabledAfterBot:o,composerDisabled:s})=>{var a,l;const c=(0,h.jL)(),d=(0,v.useRef)(null),p=(0,h.GV)(W.km),u=(0,h.GV)(Ts.Vk),m=(0,h.GV)(W.a3),g=(null==e||null==(a=e.composerState)?void 0:a.placeholder)||(0,Ne.Tl)("message_placeholder"),f=(0,h.GV)(W.MK),y=!(void 0===e.id||e.composerState.customBotActive),b=(0,h.GV)(W.xw),w=(0,h.GV)(W.ed),j=null!=e&&e.uxStyle?"bot"===e.uxStyle:w,k=(0,aa.A)("disableFinImageReading"),A=j&&k,C=(0,h.GV)(W.Bf),S=(0,h.GV)(W.WP),T=C&&(0,ys.I1)()&&!A,_=(0,h.GV)(_s.cE)&&!t,E=(0,ma.y)(),N=(0,v.useMemo)((()=>{if(s)return!0;const{parts:t,id:i}=e,n=t.filter((e=>"bot_intro"!==e.partType&&"article_link"!==e.partType&&"failed"!==e.saveState));return(!n||0!==n.length)&&!i}),[s,e]),B="whatsapp"===e.currentChannel,I=!!e.id&&!!u&&e.id===u,[R,P]=(0,v.useState)((null==e?void 0:e.defaultMessage)||Cs.A.loadDraft((null==e?void 0:e.id)||Cs.A.NEW_CONVERSATION_DRAFT_ID)||""),z=(0,h.GV)(W.Nl),M=(0,v.useCallback)((t=>{_&&(""===t.trim()?c((0,Ss.mN)(null,null==e?void 0:e.id)):c((0,Ss.bU)(t,null==e?void 0:e.id)))}),[null==e?void 0:e.id,c,_]),O=(0,v.useCallback)((t=>{P(t),c((0,Xt.GO)(null==e?void 0:e.id,t,new Date)),M(t)}),[null==e?void 0:e.id,c,M]),H=(0,gs.dF)(e),D=H&&H.reactionsReply&&"text"!==H.replyType;if(B)return(0,x.jsx)(Ds,{children:(0,x.jsx)(WhatsappSwitchedFooter,{})});if(D){const{reactionsReply:e}=H,{reactionSet:t,reactionIndex:i}=e;return(0,x.jsx)(Ds,{children:(0,x.jsx)(Es.A,{reactionSet:t,reactionIndex:i,onReactionSelect:n})})}if(e.preventEndUserReplies)return(0,x.jsx)(Ds,{children:(0,x.jsx)(Xs,{allowNewConversation:r,accessToTeammateEnabledAfterBot:o,inboundConversationsDisabled:e.inboundConversationsDisabled,conversationEndedButton:e.conversationEndedButton})});if(null!=(l=e.ticket)&&null!=(l=l.sharing)&&l.canJoin){var L;const t=null==(L=e.ticket)?void 0:L.sharing;return null!=t&&t.info?(0,x.jsx)(Ds,{children:(0,x.jsx)(sa,{info:t.info,onJoinConversationClick:i})}):null}const V={draftKey:(null==e?void 0:e.id)||Cs.A.NEW_CONVERSATION_DRAFT_ID,placeholder:g,disabled:N,autoFocus:!(0,ys.rr)()&&!I&&((null==E?void 0:E.composerShouldFocus)??!0),onSubmit:(t,i,n,r)=>{const o={clientId:(0,Zr.l)(),createdAt:new Date,body:t,file:i};c((0,Xt.yk)(vt.Ay,e.id,o,!1,e.id===u,e.lastParticipatingAdmin,m,n,r))},onChange:O,onTyping:()=>{s||c((0,Xt.xA)(null==e?void 0:e.id))}},F=(0,gs.wX)(e);return F?(0,x.jsx)(mo,{isIntercomLinkEnabled:p,children:p&&!z?(0,x.jsx)(Ls,{ref:d,intercomLinkSolution:e.intercomLinkSolution}):(0,x.jsx)("div",{})}):(0,x.jsxs)(ua,{isIntercomLinkEnabled:p,children:[!F&&(t?(0,x.jsx)(ha.n,Object.assign({initialText:null==e?void 0:e.defaultMessage},V)):(0,x.jsx)(ha.K,Object.assign({initialValue:null==e?void 0:e.defaultMessage,composerContent:R,forceShowSubmitButton:A,allowedActions:{emojis:!(0,ys.rr)(),gifs:!(0,ys.rr)()&&f&&!A,uploads:T?{allowMultipleUploads:y,allowedAttachmentExtensions:b}:void 0,voiceNotes:S},useUpdatedConversationPadding:!0},V))),p&&!z?(0,x.jsx)(Ls,{ref:d,intercomLinkSolution:e.intercomLinkSolution}):(0,x.jsx)("div",{}),!F&&!z&&(0,x.jsx)(la,{name:"customerPrivacyPolicy",children:(0,x.jsx)(da,{})})]})};var xa=i(22989),fa=i(7186),va=i(22973),ya=i(25229),ba=i(5945),wa=i(23043);const ja="cubic-bezier(0.23, 1, 0.32, 1)",ka=320,Aa=230,Ca=w.i7`
  0% {
    opacity: 0;
    transform: translateX(8px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
`,Sa=w.i7`
  0% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
    transform: translateX(8px);
  }
`,Ta=w.i7`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,_a=w.i7`
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
`,Ea=w.i7`
  0% {
    opacity: 0;
    transform: translateY(15px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,Na=w.i7`
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(15px);
  }
`,Ba=(0,w.Ay)("div",{target:"elmmg9z0"})("display:flex;flex-direction:column;flex:1;max-width:100%;",ba.Bp.className,"{",(({transition:e})=>"none"!==(null==e?void 0:e.transition.type)||"entered"!==(null==e?void 0:e.state)&&"entering"!==(null==e?void 0:e.state)?(0,w.AH)("opacity:1;transform:translateX(0);animation-name:",Ca,";animation-duration:",ka,"ms;animation-timing-function:",ja,";animation-delay:",Aa,"ms;animation-fill-mode:backwards;"):null),";}",ba.ND.className,":after{animation-name:",Ta,";animation-duration:",ka,"ms;animation-timing-function:",ja,";animation-delay:",Aa,"ms;animation-fill-mode:backwards;}",Qn.className,"{",(({transition:e})=>"none"!==(null==e?void 0:e.transition.type)&&"fade"!==(null==e?void 0:e.transition.type)||"entered"!==(null==e?void 0:e.state)&&"entering"!==(null==e?void 0:e.state)?(0,w.AH)("opacity:1;transform:translateY(0);animation-name:",Ea,";animation-duration:",ka,"ms;animation-timing-function:",ja,";animation-delay:",230,"ms;animation-fill-mode:both;"):null),";}",Ds.className,",",wa.mc.className,"{opacity:1;transform:translateY(0);animation-name:",Ea,";animation-duration:",ka,"ms;animation-timing-function:",ja,";animation-delay:",230,"ms;animation-fill-mode:both;}.intercom-messenger-from-inline-article-view &.intercom-messenger-body-view-enter,.intercom-messenger-from-browse-mode &.intercom-messenger-body-view-enter{",ba.Bp.className,"{animation-delay:",Aa,"ms;}",ba.ND.className,":after{animation-delay:",Aa,"ms;}",Qn.className,",",Ds.className,",",wa.mc.className,"{animation-delay:",250,"ms;}}&.intercom-messenger-body-view-enter{z-index:",(0,Bi.fE)(),";}&.intercom-messenger-body-view-exit{z-index:",(0,Bi.fE)(1),";",ba.Bp.className,"{animation-name:",Sa,";animation-duration:",ka,"ms;animation-timing-function:",ja,";animation-delay:",20,"ms;animation-fill-mode:both;}",ba.ND.className,":after{animation-name:",_a,";animation-duration:",ka,"ms;animation-timing-function:",ja,";animation-delay:",20,"ms;animation-fill-mode:both;}",Qn.className,",",Ds.className,",",wa.mc.className,"{animation-name:",Na,";animation-duration:",ka,"ms;animation-timing-function:",ja,";animation-delay:",120,"ms;animation-fill-mode:both;}.intercom-messenger-from-conversation &{",Qn.className,",",wa.mc.className,"{animation:none;}}}&.intercom-messenger-body-view-exit-active{",Qn.className,",",wa.mc.className,"{opacity:0;}}",(({isFetching:e,transition:t})=>e&&(0,w.AH)(ba.Bp.className,",",Ds.className,"{opacity:0;animation:none;}",Qn.className,"{opacity:","none"!==(null==t?void 0:t.transition.type)&&"fade"!==(null==t?void 0:t.transition.type)||"entered"!==(null==t?void 0:t.state)&&"entering"!==(null==t?void 0:t.state)?0:1,";animation:none;}")),";");var Ia=i(54196),Ra=i(18166);const Pa=(e,t)=>{var i;const n=null==(i=t.body)||null==(i=i.filter((e=>"createTicketCard"===e.type))[0])?void 0:i.ticket_type_id;(0,je.A5)("received","reply","messenger","in_conversation",{conversation_id:e.id,part_id:t.id,ticket_type_id:n})},za=(e,t)=>{(0,je.A5)("received","operator_reply","messenger","in_conversation",{conversation_id:e.id,part_id:t.id,type:(0,gs.Am)(t)}),Ma(e,t)},Ma=(e,t)=>{const{form:i}=t;i&&i.attributes.forEach((({identifier:n})=>{let r="automated_lead_qualification";return"upfront_collection"===i.type&&(r="upfront_user_collection"),(0,je.A5)("received","operator_reply","messenger","in_conversation",{type:r,conversation_id:e.id,part_id:t.id,attribute_identifier:n,attribute_type:(0,gs.MF)(i,n),form_type:i.type,attribute_is_custom_data:(0,gs.S9)({identifier:n})})}))};var Oa=i(96742),Ha=i(97899);var Da=i(26311);const La=e=>{var t,i;const n=null==(t=e.session)?void 0:t.email,r=null==(i=e.user)?void 0:i.userSuppliedEmail;return n||r},Va=e=>{var t;return null==(t=e.session)?void 0:t.helpCenterSession},Fa=e=>{var t;return null==(t=e.user)?void 0:t.role},qa=e=>{var t;return null==(t=e.user)?void 0:t.userHasEmail},Ga=(0,r.Ng)(((e,{conversation:t})=>{const{userConversationGifsEnabled:i}=e.app,{isPresent:n}=e.user,r=e.app&&e.app.officeHoursResponse,o=e.borderless,{lastParticipatingAdmin:s}=t,a=(0,W.Bf)(e),l=(0,W.K1)(e),c=(0,W.Ei)(e),d=(0,_s.FK)(t)(e),p=(0,_s.cE)(e),u=(0,W._D)(e),h=(e=>(0,sr.Mz)([Ha.Vy,t=>(0,_s.FK)(e)(t),e=>e.botIntro],((e,t,i)=>e||t.isInboundBotSuggestions?null:i.id?i:null)))(t)(e),m=(0,_s.VV)(t)(e),g=(e=>{var t;return null==(t=e.user)?void 0:t.notificationLinkConversationId})(e);return{conversation:t,conversationSuggestions:d,userIsPresent:n,officeHoursResponse:r,isBorderless:o,lastParticipatingAdmin:s,uploadsEnabled:a,gifsEnabled:i,shouldShowUpfrontEmailComposer:l,allowNewConversation:c,selfServeSuggestionsEnabled:p,accessToTeammateEnabledAfterBot:u,eligibleBotIntro:h,eligibleSuggestionParts:m,notificationLinkConversationId:g}}),(e=>({onArticleCardClick:(t,i)=>e((0,Te.Y0)(t,i,!1)),onRetry:(t,i)=>{e((0,Xt.sD)(vt.Ay,t,i))},onReactionSelect:(t,i)=>{e((0,Xt.yf)(vt.Ay,t,i,!0))},setComposerSuggestionsDismissed:t=>{e((0,Ss.B$)(t))},onAttachmentSubmit:(t,i,n,r,o=new Date)=>{const s={clientId:i,createdAt:o,body:n,file:r};e((0,Xt.yk)(vt.Ay,t,s))},onSuggestionClicked:(t,i,n,r)=>e((0,Oa.R)(vt.Ay,t,i,!1,n,!1,r)),onNewConversationClick:()=>{e((0,Rt.p6)("",!0))},deliverBotIntro:t=>{e((0,Da.L)(t))},deliverComposerSuggestionParts:t=>{e((0,Ss.Ak)(t))},onJoinConversationClick:t=>{e((0,Xt.Sh)(vt.Ay,t))}})),((e,t,i)=>{const n=e.conversation.id,r=e.officeHoursResponse,o={onAttachmentSubmit:(e,i)=>{t.onAttachmentSubmit(n,(0,Zr.l)(),e,i)},onRetry:i=>{t.onRetry(e.conversation,i)},onReactionSelect:e=>{t.onReactionSelect(n,e)},setComposerSuggestionsDismissed:()=>{t.setComposerSuggestionsDismissed(n)},onSuggestionClicked:i=>{const{conversation:n}=e,o=(0,_s.xH)(n);return t.onSuggestionClicked(n,i,o,r)},onJoinConversationClick:()=>{t.onJoinConversationClick(n)}};return Object.assign({},i,e,t,o)}))((({conversation:e,conversationSuggestions:t,userIsPresent:i,shouldShowUpfrontEmailComposer:n,allowNewConversation:r,uploadsEnabled:o,onReactionSelect:s,onConversationRead:a,onRetry:l,onArticleCardClick:c,onAttachmentSubmit:d,onJoinConversationClick:p,deliverBotIntro:u,deliverComposerSuggestionParts:m,onSuggestionClicked:g,setComposerSuggestionsDismissed:f,selfServeSuggestionsEnabled:y,accessToTeammateEnabledAfterBot:b,eligibleBotIntro:w,eligibleSuggestionParts:j,notificationLinkConversationId:k})=>{var A,C,S;const T=(0,h.jL)(),_=(0,v.useRef)(null),{isFetching:E,isUpdating:N,fetchState:B,parts:I,composerState:R,ticket:P}=e,z=I.length?I[0]:void 0,M=(0,gs.dF)(e),H=e.parts.length>0&&"reactions"===e.parts[0].replyType,D=R.disabled||!!z&&("saving"===z.saveState||"failed"===z.saveState),L=!!R&&R.visible,V=t.isInboundBotSuggestions&&t.composerDisabled,F=!L||e.preventEndUserReplies||V,q="attribute_collector"===(null==M?void 0:M.replyType)&&!(void 0!==M.form.attributes.find((({value:e})=>null!=e)));const G=!(F&&!e.preventEndUserReplies)&&!q,[U,$]=(0,v.useState)(!0),W=Ys(e.conversationEndedButton,r,e.inboundConversationsDisabled);(0,v.useEffect)((()=>{!e.read&&i&&a&&a()}),[e,i,a]);const K=(0,gs.cG)(e),Y=(0,xa.Z)(K)||0;(0,v.useEffect)((()=>{"all"===B&&K>0&&K>Y&&(e=>{const t=(0,gs.dF)(e);(0,gs.wy)(t)?za(e,t):Pa(e,t)})(e)}),[B,K,Y,e]);const X=(0,xa.Z)(P);(0,v.useEffect)((()=>{void 0===X&&void 0!==P&&(0,je.A5)("received","ticket_details","messenger","in_conversation",{ticket_type_id:P.ticketTypeId})}),[P,X]),((e,t,i,n)=>{const[r,o]=(0,v.useState)(!e.id&&"botIntroId"in e&&!e.botIntroId&&!t.isInboundBotSuggestions&&!e.articleUrl&&n);(0,v.useEffect)((()=>{r&&n&&(i(n),o(!1))}),[r,n,i])})(e,t,u,w),((e,t,i,n)=>{const[r,o]=(0,v.useState)(!e.id&&t.suggestionParts&&n);(0,v.useEffect)((()=>{r&&n&&(i(n),o(!1))}),[r,n,i])})(e,t,m,j),Ce({object:e.id?"conversation":"new_conversation",place:"messenger",context:k?"from_email":"",metadata:{conversation_id:e.id,self_serve_suggestions_enabled:!!y,url:null==(A=(0,Pi.KQ)())?void 0:A.href,ticket_type_id:null==(C=e.ticket)?void 0:C.ticketTypeId,status:null==(S=e.ticket)?void 0:S.status}});const J=async e=>{const t=await(0,fa.kn)(e);if(t){const{width:i,height:n,src:r}=t,o=(0,va.U$)(t.src,e.name,e.type);d((0,Zt.Fp)(r,i,n),o)}else{const{name:t,type:i,size:n}=e;d((0,Zt.VJ)(t,i,n),e)}},Z=t=>{if(D)return;if(F)return;if(n)return;if(!o)return;if(!t||0===t.length)return;if(H)return;const i=t.filter((e=>!(0,fa.SD)(e)));i.length>0&&(t=>{const{customBotActive:i}=R,n=void 0===e.id;if(t.length>5)return void(0,je.oS)("attachment_limit_exceeded",{file_count:t.length,place:"conversation"});const r=Array.from(t);n||i?J(r[0]):r.forEach((e=>J(e)))})(i)};return(0,x.jsx)(Ba,{className:"intercom-conversation",onPaste:e=>{const t=(0,ya.J)(e).filter((e=>!(0,fa.SD)(e)));t.length>0&&Z(t)},onDragOver:e=>{var t;e.preventDefault();Array.from((null==(t=e.dataTransfer)?void 0:t.items)||[]).some((e=>e.type&&(0,fa.SD)({type:e.type})))||e.stopPropagation()},onDrop:async e=>{e.preventDefault(),e.stopPropagation();const t=(0,ya.D)(e),i=Array.from(t).filter((e=>(0,fa.SD)(e))),n=Array.from(t).filter((e=>!(0,fa.SD)(e)));if(n.length>0&&Z(n),i.length>0){const e=i[0],t=await(0,fa.kn)(e);if(t){const{width:i,height:n,src:r}=t,o=(0,va.U$)(t.src,e.name,e.type);if(o){const e={id:Math.random().toString(36).substring(2,11),file:o,src:r,width:i,height:n};T((0,Ia.sr)(e))}}}},tabIndex:-1,role:"presentation",isFetching:E&&!N,transition:(0,O.t)(),ref:_,children:(0,x.jsx)(Ra.x,{children:(0,x.jsx)(ma.X.Provider,{value:{composerShouldFocus:U,setComposerShouldFocus:$},children:(0,x.jsxs)(po.H,{children:[(0,x.jsx)(cs.Q.Root,{children:(0,x.jsx)(As,{conversation:e,conversationSuggestions:t,onArticleCardClick:c,onReactionSelect:s,onRetry:l,onSuggestionClicked:g,setComposerSuggestionsDismissed:f,conversationButtonShowing:W})}),G&&(0,x.jsx)(ga,{composerDisabled:D,conversation:e,accessToTeammateEnabledAfterBot:b,shouldShowUpfrontEmailComposer:n,allowNewConversation:r,onReactionSelect:s,onJoinConversationClick:p})]})})})})}));var Ua=i(68297);const $a=(0,v.createContext)(null);$a.displayName="AppWindowContext";const Wa=$a;const Ka=(0,w.Ay)("div",{target:"ebn4jki0"})({name:"a7jy8",styles:"padding:20px 20px 40px;display:flex;flex-grow:1;justify-content:center;flex-direction:column;align-items:center"});const Ya=(0,w.Ay)("div",{target:"e1vu97tc2"})({name:"a7jy8",styles:"padding:20px 20px 40px;display:flex;flex-grow:1;justify-content:center;flex-direction:column;align-items:center"}),Xa=(0,w.Ay)("p",{target:"e1vu97tc1"})("font-size:18px;font-weight:700;margin-bottom:12px;color:",(0,w.w4)("textDefault"),";"),Ja=(0,w.Ay)("p",{target:"e1vu97tc0"})("font-size:14px;font-weight:400;margin-bottom:16px;color:",(0,w.w4)("textDefault"),";");function Za({errorTitle:e=(0,Ne.Tl)("something_is_wrong"),errorMessage:t=(0,Ne.Tl)("unable_to_load_the_messenger"),retryTitle:i=(0,Ne.Tl)("try_again"),onRetry:n}){return(0,x.jsxs)(Ya,{children:[(0,x.jsx)(Xa,{children:e}),(0,x.jsx)(Ja,{children:t}),(0,x.jsx)($s.A,{onClick:n,variant:"primary",children:i})]})}var Qa=i(52411);function el({children:e}){const t=(0,h.jL)(),i=(0,h.GV)(W.Tf),n=(0,h.GV)(W.mF),r=(0,v.useCallback)((()=>{t((0,Qa.W)())}),[t]);return i?(0,g.z)()?null:(0,x.jsx)(Ka,{"data-testid":"open-content-loading-spinner",children:(0,x.jsx)(y.A,{delay:n?0:300})}):(0,x.jsx)(x.Fragment,{children:n?(0,x.jsx)(Za,{errorTitle:(0,Ne.Tl)("spaces_error_title"),errorMessage:(0,Ne.Tl)("spaces_error_description"),retryTitle:"Reload",onRetry:r}):e})}const tl=()=>{const e=(0,Ms.S)(),t=(0,h.jL)(),i=(0,h.GV)(Ts.BJ),n=null==e?void 0:e.id,r=!(null!=e&&e.read&&null!=e&&e.readAt),o=(null==e?void 0:e.ticket)&&!(null!=e&&e.ticket.read),s=null==e?void 0:e.isFetching,a=(0,h.GV)(jn.A),l=(0,h.GV)(W.ve),c=null==l?void 0:l.nexusAbly,d=(0,v.useMemo)((()=>Xr()((()=>t((0,Xt.QL)(vt.Ay,n,{isUpdating:!0,requestOrigin:"Conversation visibility/focus change"}))),5e3,{leading:!0,trailing:!1})),[t,n]);(e=>{const t=(0,h.jL)(),i=(0,h.GV)(jn.A),{enabled:n,startTimeout:r,syncInterval:o}=(0,h.GV)(W.eI),s=e?(0,gs.dF)(e):void 0,a=null==s?void 0:s.createdAt,l=(0,v.useCallback)((()=>{if(n&&i&&null!=e&&e.id){const i=(new Date).getTime();a&&i-a.getTime()>=r&&t((0,Xt.QL)(vt.Ay,e.id,{isUpdating:!0,requestOrigin:vt.r0,lastAdminPartCreatedAt:a.toISOString(),lastAdminPartId:s.id}))}}),[e,n,i,t,a,r,s]);(0,Ua.A)(l,o)})(e);const p=(0,v.useContext)(Wa);(0,v.useEffect)((()=>{n&&t((0,Xt.Ew)())}),[n,t]),(0,v.useEffect)((()=>{const e=p&&("visible"===p.document.visibilityState||p.document.hasFocus());a&&n&&!s&&(r||o)&&e&&t((0,Xt.$G)(vt.Ay,n))}),[t,a,n,r,s,o,p]);const u=(0,v.useCallback)((()=>{n&&p&&("visible"===p.document.visibilityState||p.document.hasFocus())&&d()}),[n,p,d]);return(0,v.useEffect)((()=>{if(p&&!c)return["focus","visibilitychange"].forEach((function(e){p.addEventListener(e,u)})),()=>{["focus","visibilitychange"].forEach((function(e){p.removeEventListener(e,u)}))}}),[u,p,c]),(0,x.jsx)(el,{children:(0,x.jsx)(Jr,{children:(0,x.jsx)(Ga,{conversation:e||i,frameWindow:window,appWindow:window})})})};let il=function(e){return e.Visible="visible",e.Hidden="hidden",e.Unknown="unknown",e}({});const nl=(0,v.createContext)(null);nl.displayName="ConversationHeroContext";const rl=({initialConversationHeroVisible:e})=>{const[t,i]=(0,v.useState)(e);return(0,v.useMemo)((()=>({conversationHeroVisible:t,setConversationHeroVisible:i})),[t,i])},ol={isLoaded:!1,expanded:null,collapsed:null,displayActiveIndicator:!1,useBotHeader:!1,hideGreeting:!0,isInactive:!1,showSubtitle:!1},sl=(0,w.Ay)("button",{target:"e1jajdke0"})("display:flex;flex-direction:row;justify-content:center;align-items:center;padding:8px 12px;margin-left:10px;margin-right:4px;gap:6px;font-style:normal;font-weight:600;font-size:14px;white-space:nowrap;line-height:20px;color:",(0,w.w4)("textDefault"),";background:",(0,w.w4)("alphaBlack10"),";border-radius:20px;transition:all 0.2s ease-in-out;&:hover{background:",(0,w.w4)("alphaBlack20"),";}"),al=()=>{const e=(0,h.jL)();return(0,x.jsxs)(sl,{onClick:()=>{e((0,Rt.p6)())},children:[(0,x.jsx)(ae.Ay,{type:"Retry",color:"iconDefault"}),(0,x.jsx)("div",{children:"Start again"})]})};var ll=i(33149),cl=i(5994);const dl=(0,w.Ay)("div",{target:"e19u07ry5"})("display:flex;flex-direction:column;justify-content:center;align-items:start;color:",(0,w.w4)("headerTitleColor"),";"),pl=(0,w.Ay)("div",{target:"e19u07ry4"})({name:"1wovfva",styles:"display:flex;flex-direction:row;gap:8px;width:100%"}),ul=(0,w.Ay)("h1",{target:"e19u07ry3"})("font-size:14px;font-weight:600;color:",(0,w.w4)("headerTitleColor"),";line-height:1.1em;overflow:hidden;display:flex;gap:8px;max-height:2.3em;"),hl=(0,w.Ay)("div",{target:"e19u07ry2"})("color:",(0,w.w4)("textMuted"),";padding-right:4px;font-size:14px;overflow:hidden;font-weight:400;display:flex;align-items:center;gap:4px;svg path{fill:",(e=>"clock"===e.iconType?(0,w.w4)("iconMuted")(e):(0,w.w4)("iconOnInverse")(e)),";}"),ml=(0,w.Ay)("p",{target:"e19u07ry1"})({name:"16ev3o0",styles:"overflow:hidden;line-height:1.5em;max-height:2.4em;display:block;font-size:13px"}),gl=(0,w.Ay)("div",{target:"e19u07ry0"})("width:",(({fullWidth:e})=>e?"100%":"auto"),";"),xl=(0,w.Ay)("div",{target:"erximzr0"})((({fullWidth:e})=>e&&"width: 100%;")," &.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity ",150,"ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;transition:opacity ",150,"ms;}"),fl=({transitionKey:e,children:t,fullWidth:i})=>{const n=(0,v.useRef)(null);return(0,x.jsx)(z.wY,{children:(0,x.jsx)(z.B1,{addEndListener:e=>{var t;return null==(t=n.current)?void 0:t.addEventListener("transitionend",e,!1)},classNames:"fade",nodeRef:n,children:(0,x.jsx)(xl,{ref:n,fullWidth:i,children:t})},e)})},vl={clock:"ClockFilled",ai:"AICurved"},yl=({title:e,subtitle:t,icon:i,avatarGroup:n,displayActiveIndicator:r=!1,isInactive:o=!1})=>{const s=i?vl[i]:null,a=!t&&!i&&!n,l=a?"1":"2";return(0,x.jsx)(fl,{transitionKey:l,fullWidth:!a,children:(0,x.jsx)(gl,{fullWidth:!a,children:a?(0,x.jsx)(Tr.Title,{children:e}):(0,x.jsxs)(pl,{children:[(0,x.jsx)(ao,{avatarSize:32,avatarGroup:n,displayActiveIndicator:r,isInactive:o}),(0,x.jsxs)(dl,{children:[(0,x.jsx)(ul,{children:e}),t&&(0,x.jsxs)(hl,{iconType:i,children:[s&&(0,x.jsx)(ae.Ay,{inline:!0,type:s,size:12}),(0,x.jsx)(ml,{children:t})]})]})]})})})};var bl=i(83505),wl=i(34743),jl=i(96117);const kl=(0,v.createContext)(void 0);kl.displayName="DropdownMenuContext";const Al=()=>{const e=(0,v.useContext)(kl);if(void 0===e)throw new Error("useDropdownMenuContext must be used within a DropdownMenuProvider");return e},Cl=["children","onClick"];const Sl=(0,v.forwardRef)(((e,t)=>{let{children:i,onClick:n}=e,r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,Cl);if(v.Children.count(i)>1)throw new Error("Only single element as the trigger");if(!(0,v.isValidElement)(i))throw new Error("Invalid element");return(0,v.cloneElement)(i,Object.assign({},r,i.props,{ref:t,className:`${r.className} ${i.props.className}`,onClick:e=>{n&&n(e),i.props.onClick&&i.props.onClick()}}))})),Tl=["children"];const _l=(0,w.Ay)(re.A,{target:"e18h0w5d0"})({name:"9aeb3p",styles:"padding:28px 20px;z-index:20"}),El=["children"];const Nl=({children:e,defaultOpen:t=!1,offset:i=10,onOpen:n})=>{const{refs:r,floatingStyles:o}=(0,bl.we)({placement:"bottom-end",middleware:[(0,wl.cY)(i),(0,wl.UU)()]}),[s,a]=(0,v.useState)(t),l=(0,v.useCallback)((e=>{a(e),n&&e&&n()}),[n]);return(0,jl.A)([r.floating,r.reference],(0,v.useCallback)((()=>l(!1)),[l]),!s),(0,x.jsx)(kl.Provider,{value:{refs:r,floatingStyles:o,open:s,setOpen:l},children:e})},Bl=e=>{const{refs:t,open:i,setOpen:n}=Al();if("asChild"in e&&!0===e.asChild)return(0,x.jsx)(Sl,Object.assign({onClick:()=>n(!i),ref:t.setReference,"data-state":i?"open":"closed"},e));const{onClick:r}=e;return(0,x.jsx)("button",Object.assign({onClick:e=>{n(!i),r&&r(e)},ref:t.setReference,"data-state":i?"open":"closed"},e,{tabIndex:"0"}))},Il=e=>{let{children:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,Tl);const{refs:n,floatingStyles:r,open:o}=Al();return o?(0,x.jsx)(_l,Object.assign({ref:n.setFloating,style:r},i,{children:(0,x.jsx)(oe.A,{noDivider:!0,children:t})})):null},Rl=e=>{let{children:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,El);return(0,x.jsx)(se.A,Object.assign({size:"small",role:"button"},i,{children:t}))};const Pl=(0,w.Ay)(Nl,{target:"e1s4y8682"})(),zl=(0,w.Ay)(Il,{target:"e1s4y8681"})({name:"mzgeh9",styles:"padding:16px 20px;z-index:110"}),Ml=(0,w.Ay)(Rl,{target:"e1s4y8680"})({name:"1n0y3b6",styles:"font-size:14px;font-weight:normal;line-height:1.5;max-width:260px;padding-top:10px;padding-bottom:10px"});const Ol=(0,w.Ay)(Bl,{target:"e1q6rcge1"})("@media not (hover: hover){&[data-state='open']{background:",(({theme:e})=>e.alphaBlack10),";}}svg{path{fill:",(({theme:e})=>e.iconMuted),";}}@media (hover: hover){transition:outline 0.2s;&:hover{svg{path{fill:",(({theme:e})=>e.iconDefault),";}}}",(({theme:e,whiteBackground:t})=>t?(0,Z.e$)(e.containerBaseNeutral,10):(0,Z.e$)(e.secondaryColor,10)),";}"),Hl=(0,w.Ay)("button",{target:"e1q6rcge0"})({name:"1ka6mps",styles:"position:relative;width:100%;min-height:40px;padding:6px 12px;box-sizing:border-box;text-align:center;font-weight:700;cursor:default"}),Dl=({isActionProcessing:e=!1})=>{const{whiteBackground:t}=B();return(0,x.jsx)(Ol,{asChild:!0,whiteBackground:t,children:e?(0,x.jsx)(Hl,{"data-testid":"more-menu-loading-container",children:(0,x.jsx)(y.A,{size:"small",inline:!0})}):(0,x.jsx)(Tr.Button,{iconType:"EllipsisHorizontalIcon","aria-label":(0,Ne.Tl)("home_space_title"),"data-testid":"more-menu-trigger"})})},Ll=({items:e,defaultOpen:t=!1,onOpen:i})=>{const n=e.some((e=>e.isLoading));return 0===e.length?null:(0,x.jsxs)(Pl,{defaultOpen:t,onOpen:i,children:[(0,x.jsx)(Dl,{isActionProcessing:n}),(0,x.jsx)(zl,{children:e.map((e=>(0,v.createElement)(Vl,Object.assign({},e,{key:e.id}))))})]})},Vl=({onClick:e,icon:t,label:i,disabled:n,id:r})=>{const o=(0,x.jsx)(ae.In,{type:t,color:"linkColor"}),{setOpen:s}=Al(),a=(0,v.useCallback)((()=>{e(),s(!1)}),[e,s]);return(0,x.jsx)(Ml,{hoverBackground:!0,onClick:a,left:o,disabled:n,id:r,children:i},`more-menu-item-${r}`)};var Fl=i(51965),ql=i(63148);const Gl=()=>{const e=(0,aa.A)("conversationsAreExpandable"),t=(0,yr.IS)();return e&&!t};const Ul=(0,w.Ay)("div",{target:"e1izh3060"})({name:"107gg21",styles:"height:64px"}),$l=()=>{const{setHeight:e}=B();return(0,x.jsx)(at.A,{onHeightChange:t=>e(t),children:(0,x.jsx)(Ul,{})})},Wl=()=>{const e=function(){const[e]=(0,o.useSearchParams)(),t=(0,o.useNavigate)(),i=(0,h.jL)(),n=(0,cl.CH)((0,o.useLocation)().search).backFallbackRoute,r=(0,ll.Jl)(-1),s=e.get("fromArticleID"),a="true"===e.get("fromStandaloneArticle"),l=(0,h.GV)(Ts.BJ);return()=>{s&&(null!=l&&l.fromStandaloneArticle||a?i((0,Te.GN)(s,{},!0)):i((0,Te.L7)(s,null,!0))),null!==r&&"/loading"!==r.pathname?t(-1):t(n||"/messages",{replace:!0})}}(),t=(0,Ms.A)(),i=(e=>{var t,i,n,r,o;const s=(0,h.GV)(Gs.CL),a=(null==e?void 0:e.header)||s,l=null==e||null==(t=e.lastParticipatingAdmin)?void 0:t.lastActiveAt;if(!a||!s)return ol;if(e&&"all"!==e.fetchState)return ol;if((0,gs.wX)(e))return ol;const{collapsed:c,hideGreeting:d,useBotHeader:p=!1,displayActiveIndicator:u=!1}=a,m=a.expanded||s.expanded,g=!!c.expandedSubtitle,x=!!(null!=(i=c.avatarGroup)&&null!=(i=i.avatars)&&i.length&&(null==(n=c.avatarGroup)||null==(n=n.avatars)?void 0:n.length)>1),f=p||x,v=!(f||null!=e&&null!=(r=e.lastParticipatingAdmin)&&r.isActive),y=f||null!=e&&null!=(o=e.lastParticipatingAdmin)&&o.isActive?void 0:l;return c&&m?{isLoaded:!0,expanded:m,collapsed:c,displayActiveIndicator:u,useBotHeader:p,hideGreeting:d,lastActiveAt:l,isInactive:v,showSubtitle:!!y||g}:ol})(t),{context:n,meta:r}=(0,Fl.M)(),{isLoaded:s}=i,a=function(){const e=(0,Ms.A)(),t=(0,h.jL)(),i=(0,g.z)(),n=(0,gs.wX)(e),r=(0,aa.A)("endSalesforceConversation"),o=Gl(),s=(0,h.GV)(wr.l),[a,l]=(0,v.useState)(!1),c=(0,v.useCallback)((()=>{null!=e&&e.id&&((0,je.A5)("download_transcript","conversation","messenger","more_menu",{conversation_id:e.id}),t((0,Xt.Cw)(e.id)))}),[e,t]),d=(0,v.useCallback)((()=>{null!=e&&e.id&&(l(!0),t((0,ql.EM)(vt.Ay,e.id)))}),[e,t]),p=[],{composerState:u}=e||{};return o&&p.push({label:s?(0,Ne.Tl)("expanded_mode_disable"):(0,Ne.Tl)("expanded_mode_enable"),icon:s?"CollapseIcon":"ExpandIcon",onClick:()=>{t((0,br.D)(!s))},id:"expand-conversation"}),e&&p.push({label:(0,Ne.Tl)("download_transcript"),icon:"Download",onClick:c,id:"download-transcript"}),!r||i||n||null!=e&&e.inboundConversationsDisabled||null==u||!u.visible||p.push({label:"End conversation",icon:"CloseM5",onClick:d,id:"end-conversation",disabled:a,isLoading:a}),p}(),{hideConversationHeader:l}=(0,h.GV)((e=>e.app)),c=(0,x.jsx)(Ll,{items:a,onOpen:()=>{(0,je.A5)("clicked","more_menu","messenger",n,r)}});if((0,ks.Z)().headerDisabled||l)return(0,x.jsx)(x.Fragment,{});if(!s)return(0,x.jsx)($l,{});const{collapsed:d,displayActiveIndicator:p,isInactive:u}=i,m=(0,g.z)()&&!(null==t||!t.id)&&"state_closed"!==(null==t?void 0:t.state),f=!(0,g.z)(),y=t||m,b=(0,x.jsxs)(x.Fragment,{children:[c,y&&m&&(0,x.jsx)(al,{})]}),w=f&&(0,x.jsx)(Tr.BackButton,{onBack:e});return(0,x.jsx)(Tr.Content,{children:(0,x.jsx)(Tr.TitleArea,{leftButtonArea:w,rightButtonArea:b,showExpandButton:!1,children:(0,x.jsx)(yl,{title:d.title,subtitle:d.subtitle,icon:d.icon,avatarGroup:d.avatarGroup,displayActiveIndicator:p,isInactive:u})})})};var Kl=i(71784);const Yl=300,Xl=600,Jl=(0,w.Ay)("div",{target:"e1q4x2x90"})("display:flex;justify-content:space-between;align-items:center;min-height:",(0,w.xk)("height"),"px;height:",(0,w.xk)("height"),"px;padding-left:18px;padding-right:18px;padding-top:4px;padding-bottom:4px;font-size:13px;",(({connectionState:e,theme:t})=>"connected"===e&&(0,w.AH)("animation:",(({theme:e})=>w.i7`
  from {
    color: ${e.textBlack};
    background-color: ${e.fillNotice};
  }
  to {
    color: ${e.textWhite};
    background-color: ${e.fillSuccess};
  }
`)({theme:t})," 300ms;"))," ",(({connectionState:e,theme:t})=>"connected"===e?(0,w.AH)("color:",t.textWhite,";background-color:",t.fillSuccess,";"):(0,w.AH)("color:",t.textBlack,";background-color:",t.fillNotice,";"))," &.realtime-status-banner{&-enter{opacity:0;min-height:0px;height:0px;padding-top:0px;padding-bottom:0px;transform:translateY(100%);}&-enter-active{opacity:1;transform:translateY(0);min-height:",(0,w.xk)("height"),"px;height:",(0,w.xk)("height"),"px;padding-top:4px;padding-bottom:4px;transition:transform ",Yl,"ms,min-height ",Yl,"ms,height ",Yl,"ms,opacity ",Yl,"ms,padding-top ",Yl,"ms,padding-bottom ",Yl,"ms;}&-exit{opacity:1;min-height:",(0,w.xk)("height"),"px;height:",(0,w.xk)("height"),"px;padding-top:4px;padding-bottom:4px;transform:translateY(0);}&-exit-active{opacity:0;transform:translateY(100%);min-height:0px;height:0px;padding-top:0px;padding-bottom:0px;transition:transform ",Yl,"ms ",Xl,"ms,min-height ",Yl,"ms ",Xl,"ms,height ",Yl,"ms ",Xl,"ms,opacity ",Yl,"ms ",Xl,"ms,padding-top ",Yl,"ms ",Xl,"ms,padding-bottom ",Yl,"ms ",Xl,"ms;}}");var Zl=i(37798),Ql=i(34120);const ec={[Kl.gK]:(0,Ne.Tl)("connecting"),[Kl.w3]:(0,Ne.Tl)("cant_load_new_messages"),[Kl.a$]:(0,Ne.Tl)("successfully_reconnected")};function tc({height:e=44}){const t=(0,h.jL)(),i=(0,h.GV)(Zl.g);Ce({object:"realtime_status_banner_visible",context:"in_conversation",place:"messenger",sendMetricCondition:i===Kl.w3});const n=(0,v.useCallback)((()=>{i===Kl.w3&&(t((0,Ql.t9)()),(0,je.A5)("clicked","realtime_status_banner","messenger","in_conversation",{retry_connection:!0}))}),[t,i]),r=(0,v.useRef)(null);return(0,x.jsx)(z.B1,{in:i===Kl.w3||i===Kl.gK,classNames:"realtime-status-banner",mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:300,exit:900},nodeRef:r,children:(0,x.jsxs)(Jl,{connectionState:i,height:e,ref:r,children:[(0,x.jsx)("span",{children:ec[i]}),i===Kl.w3?(0,x.jsx)("button",{onClick:n,tabIndex:"0",children:(0,x.jsx)("b",{children:(0,Ne.Tl)("reconnect")})}):null]})})}const ic=(0,w.Ay)("div",{target:"e1a1lpa63"})("align-self:center;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:12px 16px;gap:12px;margin-bottom:16px;width:calc(100% - 72px);background:",(0,w.w4)("containerNeutral"),";border-radius:12px;"),nc=(0,w.Ay)("span",{target:"e1a1lpa62"})("font-style:normal;font-weight:400;font-size:13px;line-height:16px;color:",(0,w.w4)("textMuted"),";a,a:visited,a:hover,a:active{color:inherit;text-decoration:underline;}"),rc=(0,w.Ay)("div",{target:"e1a1lpa61"})({name:"1p9mi4i",styles:"width:16px;height:16px;display:flex;justify-content:center;align-items:center"}),oc=(0,w.Ay)("div",{target:"e1a1lpa60"})("cursor:pointer;display:flex;color:",(0,w.w4)("iconMuted"),";"),sc=()=>{const{privacyPolicyNoticeText:e,isEnabled:t}=(0,h.GV)(W.q2),i=(0,h.jL)(),n=(0,v.useCallback)((()=>{i((0,Rt.Pw)())}),[i]);return t&&e&&(0,x.jsxs)(ic,{children:[(0,x.jsx)(nc,{children:(0,x.jsx)(Ct.y,{text:e,tagName:"div",className:"intercom-block-paragraph",align:"left",noMargin:!0})}),(0,x.jsx)(oc,{children:(0,x.jsx)(rc,{"data-testid":"dismiss-privacy-policy-notice","aria-label":(0,Ne.Tl)("dismiss"),onClick:()=>n(),children:(0,x.jsx)(ae.Ay,{type:"Close",size:9})})})]})},ac=()=>{const e=rl({initialConversationHeroVisible:il.Unknown});return(0,x.jsx)(nl.Provider,{value:e,children:(0,x.jsxs)(V,{header:(0,x.jsx)(Wl,{}),children:[(0,x.jsx)(tl,{}),(0,x.jsx)(sc,{}),(0,x.jsx)(tc,{})]})})},lc=()=>{const e=rl({initialConversationHeroVisible:il.Unknown});return(0,x.jsx)(nl.Provider,{value:e,children:(0,x.jsxs)(V,{header:(0,x.jsx)(Wl,{}),children:[(0,x.jsx)(tl,{}),(0,x.jsx)(sc,{}),(0,x.jsx)(tc,{})]})})};const cc=(0,w.Ay)("div",{target:"e1cx53rm0"})({name:"1d3w5wq",styles:"width:100%"});class MessengerTriggerScreen extends v.PureComponent{renderError(){return(0,x.jsx)(Pe.A,{duration:200,animationKey:"error-state",children:(0,x.jsx)(Za,{onRetry:this.props.handleTryAgain})})}renderLoading(){return(0,x.jsx)(y.A,{delay:300})}render(){const{failed:e}=this.props;return(0,x.jsxs)(cc,{children:[e&&this.renderError(),!e&&this.renderLoading()]})}}var dc=i(4908),pc=i(98333);function uc(){return e=>{e((0,dc.dv)(vt.Ay))}}const hc=(0,r.Ng)((function(e){return{failed:(0,pc.WY)(e)}}),(function(e){return(0,or.zH)({handleTryAgain:uc},e)}))(MessengerTriggerScreen),mc=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(hc,{})}),gc=e=>{var t;const i=(0,h.GV)(m.$B);return null==i||null==(t=i.find((t=>t.id===(null==e?void 0:e.id))))?void 0:t.title};function xc({space:e,inSheet:t}){const i=gc(e),n=(0,o.useNavigate)(),r=(0,h.GV)(m.V$);return(0,x.jsx)(_r,{title:i,onBack:r||t?()=>n(-1):void 0,backDirection:t?"down":"left"})}var fc=i(45961);const vc=(0,w.Ay)("div",{target:"e4tjxi33"})("flex:1;width:100%;max-height:100%;overflow-y:scroll;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;scrollbar-color:",(0,w.w4)("alphaBlack40")," transparent;scrollbar-width:thin;&::-webkit-scrollbar{appearance:none;width:5px;}&::-webkit-scrollbar-thumb{background-color:",(0,w.w4)("alphaBlack40"),";border-radius:5px;}&::-webkit-scrollbar-track{background-color:transparent;}"),yc=(0,w.Ay)(oe.A,{target:"e4tjxi32"})((({addBottomPadding:e})=>(0,w.AH)("padding:0 0 ",e?80:0,"px 0;")),";"),bc=(0,w.Ay)("div",{target:"e4tjxi31"})("z-index:",(0,Bi.fE)(1),";text-align:center;position:absolute;bottom:0;left:0;right:0;border-radius:0 0 6px 6px;display:flex;align-items:center;justify-content:center;pointer-events:none;",(({showFade:e,theme:t})=>e&&(0,w.AH)("background:linear-gradient(0deg, ",t.alphaWhite100,", ",t.baseAlpha,");"))," ",(({largeFade:e})=>(0,w.AH)("height:",e?150:90,"px;")),";"),wc=(0,w.Ay)("div",{target:"e4tjxi30"})("display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;margin:0 35px;min-height:100%;color:",(0,w.w4)("textDefault"),";h2{font-size:18px;line-height:24px;font-weight:600;color:",(0,w.w4)("textDefault"),";}span{font-weight:400;line-height:20px;font-size:14px;text-align:center;color:",(0,w.w4)("textDefault"),";}button{position:absolute;bottom:20px;}");function jc(){return(0,x.jsx)(vc,{children:(0,x.jsxs)(wc,{children:[(0,x.jsx)(fc.NoMessagesIcon,{}),(0,x.jsx)("h2",{children:(0,Ne.Tl)("messages_empty_state_title")}),(0,x.jsx)("span",{children:(0,Ne.Tl)("messages_empty_state_text")}),(0,x.jsx)(Ks,{})]})})}const kc=({conversations:e,showFooterFade:t,largeFooterFade:i,onConversationClick:n,onScroll:r})=>{const o=(0,v.useRef)(null),s=(0,v.useMemo)((()=>ps()((e=>{const t=e.target,i=(0,d.T5)(t);r(t.scrollTop,i)}),200)),[r]);return(0,x.jsxs)(vc,{"data-testid":"messages-body",onScroll:s,onWheel:d.b$,ref:o,children:[(0,x.jsx)(yc,{addBottomPadding:t,children:e.map((e=>(0,x.jsx)(xi,{conversation:e,onClick:()=>{return t=e.id,(0,je.A5)("clicked",t?"conversation":"new_conversation","messenger","from_conversation_list",{conversation_id:t}),void n(t);var t}},e.id)))}),(0,x.jsx)(bc,{showFade:t,largeFade:i})]})},Ac=(0,sr.Mz)([W.TB,W.Ei,ms.DP],((e,t,i)=>!i&&(!e&&t)));var Cc=i(79751);const Sc=()=>{const e=(0,h.GV)(ms.dI),t=(0,h.GV)(ms.PE),i=(0,h.GV)(W._D),n=(0,h.GV)(Ac),r=(0,h.GV)(m.$P).length>1,{isFetching:o=!0,pagesFetched:s=0,totalPages:a=0}=(0,h.GV)(ms.bX),l=(0,h.jL)(),c=(0,v.useCallback)((e=>{l((0,Cc.lS)(vt.Ay,"onConversationsPage",e,10))}),[l]),d=(0,v.useCallback)(((e,t)=>{l((0,Cc.xb)(e));!o&&s<a&&t>.5&&c(s+1)}),[l,o,s,a,c]);return Ce({object:"conversation_list",place:"messenger"}),t?(0,x.jsx)(jc,{}):(0,x.jsx)(kc,{conversations:e,accessToTeammateEnabledAfterBot:i,onScroll:d,onConversationClick:e=>{l((0,Xt.QL)(vt.Ay,e,{requestOrigin:"Messages Page - Click Conversation"})),l((0,Jt.p)(e))},showFooterFade:n,largeFooterFade:!r})},Tc=e=>async()=>{const t=e.getState();return 0!==t.conversations.pagesFetched||t.conversations.isFetching||e.dispatch((0,Cc.lS)(vt.Ay,"Messages route loader")),null},_c=()=>{const{isFetching:e=!0,pagesFetched:t=0}=(0,h.GV)(ms.bX),i=e&&0===t;return(0,x.jsx)(V,{header:(0,x.jsx)(xc,{space:p.Ij}),children:i?(0,x.jsx)(y.A,{}):(0,x.jsx)(Sc,{})})},Ec=()=>{const e=(0,o.useNavigate)();return(0,v.useCallback)((()=>{e(-1)}),[e])},Nc=e=>e.ticketForm,Bc=e=>(0,sr.Mz)([Nc],(t=>(null==t?void 0:t[e])||null)),Ic=()=>{const{ticketTypeId:e}=(0,o.useParams)(),t=Ec();(0,v.useEffect)((()=>{e||t()}),[e,t]);const i=(0,h.GV)(Bc(parseInt(e||"")));return(0,x.jsx)(_r,{title:null==i?void 0:i.name,onBack:t,backDirection:"left"})},Rc=()=>{const{ticketId:e=""}=(0,o.useParams)(),t=(0,h.GV)((0,gn.aw)(e)),i=Ec();return(0,x.jsx)(_r,{title:null==t?void 0:t.name,onBack:i,backDirection:"left"})};const Pc=(0,w.Ay)("label",{target:"e1tmiq3k8"})("display:block;margin-bottom:4px;font-size:14px;font-weight:600;line-height:21px;color:",(0,w.w4)("textDefault"),";"),zc=(0,w.Ay)("p",{target:"e1tmiq3k7"})("font-size:14px;color:",(0,w.w4)("textMuted"),";margin-top:8px;line-height:21px;");var Mc={name:"143spw1",styles:"height:105px"};const Oc=(0,w.Ay)("input",{target:"e1tmiq3k6"})("display:block;width:100%;height:40px;box-sizing:border-box;resize:none;padding:10px 10px 9px;border:1px solid ",(0,w.w4)("alphaBlack10"),";border-radius:8px;color:",(0,w.w4)("textDefault"),";background-color:",(0,w.w4)("containerBaseNeutral"),";font-size:14px;line-height:1.5;&::placeholder{color:",(0,w.w4)("textMuted"),";}&[type='datetime-local']{color-scheme:",(e=>"dark"===e.theme.themeMode?"dark":"light"),";&::-webkit-calendar-picker-indicator{opacity:0;}}",(({error:e,theme:t})=>e&&(0,w.AH)("border-color:",t.textError,";"))," ",(({disabled:e,theme:t})=>e&&(0,w.AH)("cursor:not-allowed;border:1px solid ",t.borderEmphasisNeutral,";color:",t.textMuted,";box-shadow:inset 0 1px 3px 0 ",t.elevation1,";background:",t.input,";-webkit-text-fill-color:",t.textMuted,";-webkit-opacity:1;"))," ",(({multiline:e})=>e&&Mc),";"),Hc=(0,w.Ay)("div",{target:"e1tmiq3k5"})("input[type='radio']{opacity:0;position:fixed;width:0;}label{display:block;padding:10px 20px;margin:0 0 8px;font-size:14px;line-height:1.5;color:",(0,w.w4)("textDefault"),";background-color:",(0,w.w4)("containerBaseNeutral"),";border:1px solid ",(0,w.w4)("alphaBlack10"),";border-radius:5px;cursor:pointer;",(({error:e,theme:t})=>e&&(0,w.AH)("border-color:",t.textError,";")),";}input[type='radio']:checked+label{box-shadow:inset 0 0 0 1px ",(0,w.w4)("alphaBlack10"),";background-color:",(0,w.w4)("buttonBackgroundColor"),";color:",(0,w.w4)("buttonTextColor"),";}"),Dc=(0,w.Ay)("div",{target:"e1tmiq3k4"})("position:relative;height:38px;padding:0 8px;border-radius:5px;border:1px solid ",(0,w.w4)("alphaBlack10"),";background-color:",(0,w.w4)("containerBaseNeutral"),";&>path{fill:",(({theme:e})=>e.borderEmphasisNeutral),";}"),Lc=(0,w.Ay)("select",{target:"e1tmiq3k3"})("width:100%;height:100%;appearance:none;background-color:transparent;border:none;color:",(0,w.w4)("textMuted"),";",(({error:e,theme:t})=>e&&(0,w.AH)("border-color:",t.textError,";")),";"),Vc=(0,w.Ay)("i",{target:"e1tmiq3k2"})("position:absolute;top:12px;right:7px;pointer-events:none;color:",(0,w.w4)("iconMuted"),";"),Fc=(0,w.Ay)("p",{target:"e1tmiq3k1"})("display:flex;align-items:center;gap:6px;margin:8px 0;font-size:14px;color:",(({theme:e})=>e.textError),";&>*{fill:",(({theme:e})=>e.textError),";}"),qc=(0,w.Ay)("span",{target:"e1tmiq3k0"})("color:",(({theme:e})=>e.textError),";");function Gc({inputId:e,descriptor:t,onChange:i,error:n,multiline:r,placeholder:o=(0,Ne.Tl)("placeholder_text_inputs")}){const[s,a]=(0,v.useState)();return(0,x.jsx)(Oc,{as:r?"textarea":"input",error:n,id:e,autoComplete:"off",value:s,name:t.id,"aria-label":t.name,"aria-required":t.required,"aria-invalid":!!n,onChange:e=>{const n=e.target.value;a(n),i(t,n)},multiline:r,placeholder:o})}var Uc;function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$c.apply(null,arguments)}const Wc=e=>v.createElement("svg",$c({xmlns:"http://www.w3.org/2000/svg",width:19,height:16,fill:"none",viewBox:"0 0 19 16"},e),Uc||(Uc=v.createElement("path",{fill:"currentColor",d:"M5.559 6.98c-.36-.392-.047-.98.52-.98h7.255c.568 0 .88.588.521.98l-3.28 3.574c-.449.49-1.287.49-1.736 0z"})));function Kc({inputId:e,descriptor:t,value:i,onChange:n,error:r,placeholder:o=(0,Ne.Tl)("please_select")}){var s;return(0,x.jsxs)(Dc,{children:[(0,x.jsxs)(Lc,{name:t.id,id:e,"aria-required":t.required,"aria-label":t.name,"aria-invalid":!!r,onChange:e=>{const i=e.target.value;n(t,i)},value:i||"",error:r,"data-testid":`attribute-list-${t.id}`,children:[(0,x.jsx)("option",{value:"",disabled:!0,children:o}),null==(s=t.listOptions)?void 0:s.map((e=>(0,x.jsx)("option",{value:e.id,children:e.label},`dropdown-${t.id}-${e.id}`)))]}),(0,x.jsx)(Vc,{children:(0,x.jsx)(Wc,{})})]})}function Yc({descriptor:e,onChange:t,error:i}){const[n,r]=(0,v.useState)(null),o=i=>{const n=function(e){return"true"===e}(i.target.value);r(n),t(e,n)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Hc,{error:i,children:[(0,x.jsx)("input",{type:"radio",id:`${e.id}-true`,name:e.id,value:"true",checked:!0===n,onChange:o}),(0,x.jsx)("label",{htmlFor:`${e.id}-true`,children:(0,Ne.Tl)("attribute_collector_positive")})]}),(0,x.jsxs)(Hc,{error:i,children:[(0,x.jsx)("input",{type:"radio",id:`${e.id}-false`,name:e.id,value:"false",checked:!1===n,onChange:o}),(0,x.jsx)("label",{htmlFor:`${e.id}-false`,children:(0,Ne.Tl)("attribute_collector_negative")})]})]})}var Xc=i(80343);const Jc=(0,w.Ay)("div",{target:"e3up0ta1"})({name:"bjn8wh",styles:"position:relative"}),Zc=(0,w.Ay)("div",{target:"e3up0ta0"})("position:absolute;right:12px;top:50%;transform:translateY(-50%);cursor:pointer;color:",(0,w.w4)("iconMuted"),";");function Qc({inputId:e,descriptor:t,onChange:i,error:n}){const[r,o]=(0,v.useState)(""),s=(0,v.useRef)(null);return(0,x.jsxs)(Jc,{children:[(0,x.jsx)(Oc,{ref:s,error:n,id:e,autoComplete:"off",value:r,name:t.id,"aria-label":t.name,"aria-required":t.required,"aria-invalid":!!n,type:"datetime-local",onChange:e=>{const n=e.target.value;o(n),i(t,n)}}),(0,x.jsx)(Zc,{onClick:()=>{s.current&&(s.current.focus(),"function"==typeof s.current.showPicker?s.current.showPicker():s.current.click())},children:(0,x.jsx)(Xc.A,{})})]})}function ed(e,t,i){return e.map(((e,n)=>n===t?Object.assign({},e,i):e))}var td=i(40961);function id(e,t,i,n,r){const o=e.name.substring(e.name.lastIndexOf(".")).toLocaleLowerCase();return i>n?Promise.reject("file_max_limit"):r&&-1===r.indexOf(o)?Promise.reject("file_type_not_allowed"):(0,Xt.oT)(vt.Ay,t,e)}const nd="ADD_FILES";const rd="UPLOAD_COMPLETE";const od="UPLOAD_FAILED";const sd="REMOVE_FILE";const ad="RETRY_UPLOAD";const ld={limit:10,uploads:[]};function cd(e,t){const i="clientId"in t?e.uploads.findIndex((e=>e.clientId===t.clientId)):-1;switch(t.type){case nd:{const i=[...e.uploads,...t.files];return Object.assign({},e,{uploads:i})}case sd:return Object.assign({},e,{uploads:e.uploads.filter((e=>e.clientId!==t.clientId))});case ad:return-1===i?e:Object.assign({},e,{uploads:ed(e.uploads,i,{state:"loading",promise:t.promise})});case rd:return-1===i?e:Object.assign({},e,{uploads:ed(e.uploads,i,{state:"complete",data:t.data,error:null})});case od:return-1===i?e:Object.assign({},e,{uploads:ed(e.uploads,i,{state:"failed",error:t.error})})}}const dd=async(e,t,i,n,r,o,s)=>{try{e(function(e,t){return{type:rd,clientId:e,data:t}}(i,await id(n,t,r,o,s)))}catch(t){e(function(e,t){return{type:od,clientId:e,error:t}}(i,t))}},pd={limit:10};function ud(e={}){const t=Object.assign({},pd,e),i=(0,h.GV)((e=>e.session)),[n,r]=(0,v.useReducer)(cd,Object.assign({},ld,{limit:t.limit})),o=n.uploads,s=o.every((e=>"complete"===e.state)),a=o.some((e=>"failed"===e.state));return{uploadFiles:async e=>{if(!i)return;const n=Array.from(e).map((e=>function(e){return{clientId:(0,Zr.l)(),name:e.name,data:null,state:"loading",file:e,error:null}}(e)));(0,td.flushSync)((()=>{r({type:nd,files:n})}));let s=o.length;for(const e of n)await dd(r,i,e.clientId,e.file,s,t.limit,t.accept),s++},removeFile:e=>r(function(e){return{type:sd,clientId:e}}(e)),retry:async e=>{const n=o.find((t=>t.clientId===e));if(!n||!i)return;const s=o.filter((e=>"failed"!==e.state)).length;r(function(e,t,i,n,r,o){const s=id(t,i,n,r,o);return{type:ad,clientId:e,promise:s}}(e,n.file,i,s,t.limit,t.accept)),await dd(r,i,n.clientId,n.file,s,t.limit,t.accept)},uploads:o,allComplete:s,anyFailed:a,canAddFiles:o.length<n.limit}}var hd=i(30998),md=i(58820);const gd=(0,w.Ay)("ul",{target:"e1vo4x9o5"})({name:"16nvfx2",styles:"margin-top:8px;display:block;max-width:100%"}),xd=(0,w.Ay)("button",{target:"e1vo4x9o4"})("height:36px;margin-bottom:8px;width:fit-content;max-width:100%;box-sizing:border-box;padding:8px;border:1px solid ",(0,w.w4)("alphaBlack10"),";border-radius:8px;display:flex;justify-content:center;align-items:center;color:",(({theme:e})=>e.textDefault),";",hd.I.className,"{svg{path{fill:",(({theme:e})=>e.iconDefault),";}circle{stroke:",(({theme:e})=>e.iconDefault),";}}}"),fd=(0,w.Ay)(xd,{target:"e1vo4x9o3"})("cursor:pointer;&:hover{background:",(({theme:e})=>e.listItemHover),";color:",(({theme:e})=>e.isPrimaryColorAsTheme?e.textDefault:e.primaryColor),";border:",(({theme:e})=>e.isPrimaryColorAsTheme?`1px solid ${e.alphaBlack20};`:`1px solid ${e.alphaBlack10}`),";svg{path{fill:",(({theme:e})=>e.isPrimaryColorAsTheme?e.iconDefault:e.primaryColor),";}circle{stroke:",(({theme:e})=>e.isPrimaryColorAsTheme?e.iconDefault:e.primaryColor),";}}}");var vd={name:"1ffgyqb",styles:"max-width:calc(100% - 42px)"};const yd=(0,w.Ay)("div",{target:"e1vo4x9o2"})("display:flex;",(({canRetry:e})=>e&&vd),";"),bd=(0,w.Ay)(xd,{target:"e1vo4x9o1"})("&:hover{cursor:default;}",(({state:e,theme:t})=>"failed"===e&&(0,w.AH)("border:1px solid ",t.textError,";color:",t.textError,";",hd.I.className,",&{svg path{fill:",t.textError,";}svg circle{stroke:",t.textError,";}}",md.A.className,"{svg path{stroke:",t.textError,";}}")),";"),wd=(0,w.Ay)("div",{target:"e1vo4x9o0"})("margin-left:6px;font-size:14px;line-height:20px;font-weight:400;font-family:",(0,w.w4)("fontSansSerif"),";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:inherit;");function jd({files:e}){return(0,x.jsx)(gd,{children:e.map((e=>(0,x.jsxs)(fd,{onClick:()=>(e=>{window.open(e)})(e.url),children:[(0,x.jsx)(kd,{mediaType:e.mediaType}),(0,x.jsx)(wd,{title:e.name,children:e.name})]},e.id)))})}function kd({mediaType:e}){let t="Attachment";switch(e){case"image":t="Photo";break;case"video":t="Video"}return(0,x.jsx)(ae.Ay,{type:t,size:16})}const Ad=["onClick"];function Cd(e){let{onClick:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,Ad);return(0,x.jsx)(vr.A,Object.assign({variant:"secondary",borderRadius:8,iconType:"Retry",preventDefault:!0,onClick:t,"aria-label":"Retry"},i))}const Sd=(0,w.Ay)(Cd,{target:"e12ifqpl0"})("margin-left:10px;height:36px;width:36px;",hd.I.className,"{svg{path{fill:none;stroke:",(({theme:e})=>e.iconDefault),";}}}");const Td=(0,w.Ay)("div",{target:"ey2f0c11"})({name:"1bo1xyw",styles:"padding:0 3px 0 2px"}),_d=(0,w.Ay)("div",{target:"ey2f0c10"})("margin-left:8px;",md.A.className,"{display:",(e=>e.showSpinner?"none":"flex"),";}",Td.className,"{display:",(e=>e.showSpinner?"block":"none"),";}&:hover{",md.A.className,"{display:flex;}",Td.className,"{display:none;}}");function Ed({file:e,onClickRemove:t}){const i="loading"===e.state;return(0,x.jsxs)(_d,{showSpinner:i,children:[(0,x.jsx)(Td,{children:(0,x.jsx)(y.A,{inline:!0,color:"primary",size:"small"})}),(0,x.jsx)(vr.A,{padding:4,variant:"subtle",preventDefault:!0,onClick:()=>{t(e.clientId)},iconType:"CloseM5",borderRadius:8})]})}function Nd({file:e,showRetry:t,onClickRemove:i,onClickRetry:n}){const r=t&&"failed"===e.state;return(0,x.jsxs)(yd,{canRetry:r,children:[(0,x.jsxs)(bd,{as:"span",state:e.state,children:["failed"===e.state?(0,x.jsx)(ae.Ay,{type:"Alert"}):(0,x.jsx)(kd,{mediaType:Bd(e.name)}),(0,x.jsx)(wd,{title:e.name,children:e.name}),(0,x.jsx)(Ed,{file:e,onClickRemove:i})]}),r&&(0,x.jsx)(Sd,{onClick:()=>n(e.clientId)})]})}function Bd(e){const t=e.substring(e.lastIndexOf("."));return/(gif|jpg|jpeg|tiff|png)$/i.test(t)?"image":/(mp4|mov|avi|wmv|mkv)$/i.test(t)?"video":"attachment"}const Id=(0,v.memo)(Nd);function Rd({files:e,limit:t=10,onClickRemove:i,onClickRetry:n}){const r=e.filter((e=>"failed"!==e.state)).length<t;return(0,x.jsx)(gd,{children:e.map((e=>(0,x.jsx)(Id,{file:e,showRetry:r,onClickRemove:i,onClickRetry:n},e.clientId)))})}const Pd=(0,w.Ay)("label",{target:"en2e5go0"})({name:"3ekvfs",styles:"display:block;width:fit-content"}),zd=(e,t=10)=>{switch(e){case"file_size":return`${(0,Ne.Tl)("upload_failed")}. ${(0,Ne.Tl)("upload_max_files_size",{limit:`${va.pS}`})}`;case"file_max_limit":return`${(0,Ne.Tl)("upload_failed")}. ${(0,Ne.Tl)("upload_max_files_allowed",{limit:`${t}`})}`;default:return(0,Ne.Tl)("upload_failed")}};function Md({inputId:e,descriptor:t,onChange:i,setTicketCreationEnabled:n,error:r}){var o,s;const[a,l]=(0,v.useState)(),{uploadFiles:c,removeFile:d,uploads:p,allComplete:u,anyFailed:h,retry:m,canAddFiles:g}=ud({limit:t.limit,accept:null==(o=t.options)?void 0:o.accept});(0,v.useEffect)((()=>{l(u?p.map((e=>{var t;return(null==(t=e.data)?void 0:t.id)||-1})):[]),n(0===p.length||u)}),[u,p,n]),(0,v.useEffect)((()=>{i(t,a||[])}),[a]);const f="multiple"===t.identifier,y=p.find((e=>e.error));return(0,x.jsxs)("div",{children:[f&&!h&&(0,x.jsx)(zc,{children:(0,Ne.Tl)("file_max_limit",{limit:`${t.limit}`})}),h&&(0,x.jsx)(Fc,{children:zd(null==y?void 0:y.error,t.limit)}),(0,x.jsx)(Rd,{files:p,limit:t.limit,onClickRemove:d,onClickRetry:m}),(0,x.jsxs)(Pd,{htmlFor:e,children:[(0,x.jsx)(Oc,{id:e,as:"input",type:"file",accept:(null==(s=t.options)?void 0:s.accept)||"*",multiple:f,error:r,autoComplete:"off",name:t.id,"aria-label":t.name,"aria-required":t.required,"aria-invalid":!!r,onChange:e=>{const t=e.target,i=t.files;null!=i&&c(i),t.value=""},style:{display:"none"}}),g&&(0,x.jsx)(vr.A,{as:"div",iconType:"New",gap:8,variant:"secondary",borderRadius:"8px",padding:"6px 12px",children:f?(0,Ne.Tl)("tickets_add_files"):(0,Ne.Tl)("tickets_add_file")})]})]})}var Od=i(7236);function Hd(e,t){var i,n;const r=Object.assign({inputId:e},t),{descriptor:o}=t;switch(o.type){case"list":return(0,x.jsx)(Kc,Object.assign({value:t.value},r));case"boolean":return(0,x.jsx)(Yc,Object.assign({},r));case"datetime":return(0,x.jsx)(Qc,Object.assign({},r));case"string":return(0,x.jsx)(Gc,Object.assign({},r,{multiline:!(null==(i=o.options)||!i.multiline)}));case"integer":case"decimal":case"float":return(0,x.jsx)(Gc,Object.assign({},r,{multiline:!(null==(n=o.options)||!n.multiline),placeholder:(0,Ne.Tl)("placeholder_numerical_inputs")}));case"files":return(0,x.jsx)(Md,Object.assign({},r));default:return null}}function Dd(e){const{descriptor:t,error:i}=e,n=`attribute-${t.type}-${t.id}`;return(0,x.jsxs)("div",{children:[(0,x.jsxs)(Pc,{htmlFor:n,children:[t.name,t.required&&(0,x.jsx)(qc,{children:"*"})]}),i&&(0,x.jsxs)(Fc,{children:[(0,x.jsx)(Od.A,{}),(0,x.jsx)("span",{children:i})]}),Hd(n,e)]})}var Ld=i(44605);const Vd=(0,w.Ay)("div",{target:"e1i4t6d65"})("padding:",(({theme:e})=>e.globalHorizontalPadding),"px;overflow:auto;overscroll-behavior:contain;-webkit-overflow-scrolling:touch;scrollbar-color:",(({theme:e})=>e.alphaBlack20)," transparent;scrollbar-width:thin;&::-webkit-scrollbar{appearance:none;width:5px;}&::-webkit-scrollbar-thumb{background-color:",(({theme:e})=>e.alphaBlack20),";border-radius:5px;}&::-webkit-scrollbar-track{background-color:transparent;}&,&>form{flex:1;display:flex;flex-direction:column;justify-content:space-between;}"),Fd=(0,w.Ay)("div",{target:"e1i4t6d64"})({name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"}),qd=(0,w.Ay)("div",{target:"e1i4t6d63"})("font-size:14px;line-height:1.5;color:",(0,w.w4)("textError"),";"),Gd=(0,w.Ay)(Ld.A,{target:"e1i4t6d62"})("font-size:14px;margin-bottom:0;font-weight:600;cursor:pointer;",(({disabled:e,theme:t})=>e&&(0,w.AH)("cursor:not-allowed;background-color:",t.appColorSemiTransparent30,";*{cursor:not-allowed;}"))," ",(({theme:e,styleVariant:t})=>"primary"===t&&(0,w.AH)("color:",e.isPrimaryColorAsTheme?e.iconDefault:e.iconOnInverse,";svg{margin-left:8px;path{fill:",e.isPrimaryColorAsTheme?e.iconDefault:e.iconOnInverse,";}}"))," ",(({theme:e,styleVariant:t})=>"muted"===t&&(0,w.AH)("color:",e.textMuted,";")),";"),Ud=(0,w.Ay)("div",{target:"e1i4t6d61"})({name:"1qj1ra3",styles:"display:flex;flex-direction:column;align-self:center;margin:20px 0 20px 0"}),$d=(0,w.Ay)("div",{target:"e1i4t6d60"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),Wd=(0,w.Ay)("div",{target:"e1wc2x0w1"})("position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1;display:flex;align-items:center;background:",(0,w.w4)("alphaWhite80"),";transition:opacity 0.2s,visibility 0.2s;opacity:",(({isVisible:e})=>e?1:0),";visibility:",(({isVisible:e})=>e?"visible":"hidden"),";animation:",(({isVisible:e})=>e?Yd:Xd)," 0.2s ease-in-out;pointer-events:",(({isVisible:e})=>e?"auto":"none"),";"),Kd=(0,w.Ay)("div",{target:"e1wc2x0w0"})("opacity:",(({isVisible:e})=>e?1:0),";pointer-events:",(({isVisible:e})=>e?"auto":"none"),";transition:opacity 0.2s ease-in-out;"),Yd=w.i7`
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
`,Xd=w.i7`
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
`;var Jd=i(68561),Zd=i(36667),Qd=i(6314);const ep="__internal-notifications-prompt";function tp({initialEmail:e,email:t,onChange:i,error:n}){const r=!!e,o=(0,v.useRef)(null),[s,a]=(0,v.useState)("");(0,v.useEffect)((()=>{const e=o.current,t=e=>{e.preventDefault(),a((0,Ne.Tl)("that_email_address_doesnt_look_quite_right"))};return e&&e.addEventListener("invalid",t),()=>{e&&e.removeEventListener("invalid",t)}}),[]);const l=n||s;return(0,x.jsxs)("div",{children:[(0,x.jsxs)(Pc,{htmlFor:ep,children:[(0,Ne.Tl)("get_notified_by_email"),(0,x.jsx)(qc,{children:"*"})]}),l&&(0,x.jsx)(Fc,{children:l}),(0,x.jsx)(Oc,{ref:o,id:ep,type:"email",name:ep,autoComplete:"off",placeholder:Qd.o,value:e||t,error:l,disabled:r,onChange:e=>{const t=e.target.value;s&&a(""),i(t)},"aria-label":(0,Ne.Tl)("get_notified_by_email"),"aria-required":!0,"aria-invalid":!!l}),(0,x.jsx)(zc,{children:(0,Ne.Tl)("tickets_email_copy")})]})}function ip(e,t,i,n,r=!1){const o=function(e){return e.map((e=>{switch(e.type){case"string":return function(e){const t=5e3,i={id:e.id,rule:Jd.Yj().max(t,(0,Ne.Tl)("surveys_response_too_long",{character_count:`${t}`})).trim()};e.required&&(i.rule=i.rule.required((0,Ne.Tl)("surveys_required_response")));return i}(e);case"integer":return function(e){const t={id:e.id,rule:Jd.ai().typeError((0,Ne.Tl)("number_is_incorrect")).integer((0,Ne.Tl)("number_is_incorrect"))};e.required&&(t.rule=t.rule.required((0,Ne.Tl)("surveys_required_response")));return t}(e);case"decimal":case"float":return function(e){const t={id:e.id,rule:Jd.ai().typeError((0,Ne.Tl)("number_is_incorrect"))};e.required&&(t.rule=t.rule.required((0,Ne.Tl)("surveys_required_response")));return t}(e);case"boolean":return function(e){const t={id:e.id,rule:Jd.zM()};e.required&&(t.rule=t.rule.required((0,Ne.Tl)("surveys_required_response")));return t}(e);case"list":return function(e){const t={id:e.id,rule:Jd.Yj()};e.required&&(t.rule=t.rule.required((0,Ne.Tl)("surveys_required_response")));return t}(e);case"datetime":return function(e){const t={id:e.id,rule:Jd.p6().typeError((0,Ne.Tl)("string_is_incorrect"))};e.required&&(t.rule=t.rule.required((0,Ne.Tl)("surveys_required_response")));return t}(e);case"files":return function(e){const t={id:e.id,rule:Jd.YO().of(Jd.ai())};e.required&&(t.rule=t.rule.required((0,Ne.Tl)("surveys_required_response")));return t}(e);default:return function(e){const t={id:e.id,rule:Jd.Yj()};e.required&&(t.rule=t.rule.required((0,Ne.Tl)("surveys_required_response")));return t}(e)}})).reduce(((e,t)=>Object.assign({},e,{[t.id]:t.rule})),{})}(e),s=Jd.Yj().test("email",(0,Ne.Tl)("that_email_address_doesnt_look_quite_right"),Zd.B);return n&&!r?Jd.Ik(Object.assign({},o,{[ep]:s})).validateSync(Object.assign({},t,{[ep]:i}),{abortEarly:!1}):Jd.Ik(Object.assign({},o)).validateSync(Object.assign({},t),{abortEarly:!1})}function np(e){var t;return(null==e||null==(t=e.inner)?void 0:t.reduce(((e,t)=>t.path?Object.assign({},e,{[t.path]:t.message}):e),{}))||{}}const rp=["children"];const op=e=>{let{children:t}=e,i=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,rp);return(0,x.jsx)("form",{role:"form",onKeyDown:e=>{const t="TEXTAREA"===e.target.nodeName;if("Enter"===e.key&&!t){if((0,ys.U0)()&&e.metaKey||e.ctrlKey)return;e.preventDefault()}},onSubmit:i.onSubmit,children:t})};function sp({email:e,descriptors:t=[],isLoading:i,hasFailed:n,onSubmit:r,onCancel:o,isUpdatingForm:s,updateForm:a}){const[l,c]=(0,v.useState)(e),[d,p]=(0,v.useState)({}),[u,m]=(0,v.useState)({}),[g,f]=(0,v.useState)(!0),b=(0,h.GV)(Fa),w=!!(0,h.GV)(qa),j=(0,aa.A)("disableTicketEmailNotification"),k="user"===b&&!e&&w,[A,C]=(0,v.useState)(t||[]);function S(e){return Object.entries(e).map((([e,i])=>{const n=t.find((t=>t.id===e));if(!n)throw"missing descriptor";return{descriptor_id:parseInt(e),value:T(n,i)}}))}function T(e,t){switch(e.type){case"datetime":return new Date(t).toISOString();case"integer":return parseInt(t);case"decimal":case"float":return parseFloat(t)}return t}const _=async(e,t)=>{const i=Object.assign({},d,{[e.id]:t});if(p(i),u[e.id])try{m({}),ip(A,i,l,!k,j)}catch(e){m(np(e))}if(a&&e.isControllingAttribute){const t=await a(i,S(i),e);if(null!==t){const{values:e,formFields:i}=t;C(i),p(e)}}};return(0,x.jsx)(Vd,{children:(0,x.jsxs)(op,{onSubmit:e=>{if(e.preventDefault(),!i)try{ip(A,d,l,!k,j),m({}),r(S(d),l)}catch(e){m(np(e))}},children:[(0,x.jsx)(Wd,{isVisible:s,children:(0,x.jsx)(y.A,{})}),(0,x.jsx)(Kd,{isVisible:!s,children:(0,x.jsxs)(Fd,{children:[n?(0,x.jsx)(qd,{role:"alert",children:(0,Ne.Tl)("something_is_wrong")}):null,!k&&!j&&(0,x.jsx)(tp,{initialEmail:e,email:l,error:u[ep],onChange:c}),A.map((e=>(0,x.jsx)(Dd,{error:u[e.id],descriptor:e,value:d[e.id],onChange:_,setTicketCreationEnabled:f},e.id)))]})}),(0,x.jsxs)(Ud,{children:[(0,x.jsx)(Gd,{styleVariant:"primary",disabled:i||!g||s,"aria-label":(0,Ne.Tl)("tickets_create_ticket"),children:i?(0,x.jsx)(y.A,{size:"small",color:"greyColor"}):(0,x.jsxs)($d,{children:[(0,Ne.Tl)("tickets_create_ticket"),(0,x.jsx)(wo.A,{})]})}),(0,x.jsx)(Gd,{styleVariant:"muted",onClick:o,children:(0,Ne.Tl)("cancel")})]})]})})}var ap=i(19326),lp=i(12135),cp=i(62193),dp=i.n(cp);const pp=({children:e,selector:t,fallback:i,action:n})=>{const r=(0,o.useNavigate)(),s=(0,h.jL)(),a=(0,h.GV)(t),l=dp()(a),c=(0,v.useCallback)((()=>s(n(vt.Ay))),[s,n]),d=(0,v.useCallback)((async()=>{await c()||r(-1)}),[c,r]);return(0,v.useEffect)((()=>{l&&d()}),[a,d,l]),(0,x.jsx)(x.Fragment,{children:l?i:e})};function up(){const[e,t]=(0,v.useState)(!1),[i,n]=(0,v.useState)(!1),[r,s]=(0,v.useState)(!1),a=(0,o.useNavigate)(),l=(0,h.jL)(),c=(0,o.useLocation)(),d=(0,o.useParams)(),p=parseInt(d.ticketTypeId||"0"),[u]=(0,o.useSearchParams)(),m=(0,h.GV)(La),g=(0,h.GV)(Bc(p));(0,v.useEffect)((()=>()=>{l((0,ap.is)(p))}),[l,p]);return(0,x.jsx)(pp,{selector:Bc(p),action:e=>(0,ap.Zw)(e,p),fallback:(0,x.jsx)(y.A,{}),children:(0,x.jsx)(sp,{email:m,descriptors:null==g?void 0:g.formFields,isLoading:e,hasFailed:i,onSubmit:async(e,i)=>{try{t(!0),n(!1);const o=vt.Ay;i&&i!==m&&await l((0,lp.$8)(o,i));const s=u.get("conversationId"),d=await l((0,ap.Z2)(o,p,e,s));if(null==d||!d.id)throw new Error("Couldn't create ticket");var r;(0,je.A5)("submitted","create_ticket_form","messenger",null==(r=c.state)?void 0:r.context,{ticket_type_id:p}),l((0,ap.Vf)([d])),a((0,ns.sq)(d.id,!0),{replace:!0}),t(!1)}catch(e){(0,qr.l2)(e),n(!0)}},onCancel:e=>{e.preventDefault(),a(-1)},updateForm:async(e,t,i)=>{try{s(!0);const n=await l((0,ap.Zw)(vt.Ay,p,t,i.id));if(n){const t=new Set(n.formFields.map((e=>e.id))),i=n.formFields.reduce(((e,t)=>(e[t.id]=t.value,e)),{}),r=Object.entries(e).reduce(((e,[n,r])=>(t.has(n)&&i[n]&&(e[n]=r),e)),{});return s(!1),{values:r,formFields:n.formFields}}return s(!1),null}catch(e){return(0,qr.l2)(e),s(!1),null}},isUpdatingForm:r})})}const hp=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Ic,{}),children:(0,x.jsx)(up,{})});var mp=i(90644);const gp=(0,w.Ay)("div",{target:"ed94l235"})({name:"epubhy",styles:"min-width:100%;min-height:calc(100% - 71px - 32px);margin:0;background-color:none"}),xp=(0,w.Ay)("div",{target:"ed94l234"})("border-top:none;padding:0 ",(({theme:e})=>`${e.globalHorizontalPadding}px`)," 10px;background-color:none;"),fp=(0,w.Ay)("div",{target:"ed94l233"})("display:flex;justify-content:center;background-color:",(({theme:e})=>e.containerBaseNeutral),";",(({horizontal:e,theme:t})=>e&&(0,w.AH)("padding:0px ",t.globalHorizontalPadding,"px;")),";"),vp=(0,w.Ay)("div",{target:"ed94l232"})("min-height:152px;background:",(({theme:e})=>e.containerBaseNeutral),";padding-top:16px;"),yp=(0,w.Ay)("div",{target:"ed94l231"})("background-color:",(0,w.w4)("iconDisabled"),";min-height:32px;display:flex;align-items:center;justify-content:center;svg{margin-right:10px;}"),bp=(0,w.Ay)("div",{target:"ed94l230"})("display:flex;flex-direction:column;position:relative;align-items:center;justify-content:center;gap:8px;margin-top:auto;margin-bottom:32px;color:",(0,w.w4)("textMuted"),";font-size:14px;line-height:21px;");var wp=i(61641);function jp(){return(0,x.jsxs)(yp,{children:[(0,x.jsx)(wp.A,{}),(0,x.jsx)("span",{children:(0,Ne.Tl)("tickets_submitted_confirmation_header")})]})}const kp=(0,w.Ay)(se.A,{target:"enos32b0"})({name:"5s17cv",styles:"padding:12px 0px"});function Ap({attributes:e}){return(0,x.jsx)(x.Fragment,{children:Object.keys(e).map((t=>{const i=e[t].id,n=e[t].name,r=(0,ns.ZQ)(e[t].value),o=e[t].type;if(null===r||0===r.length)return null;if("files"===o&&"object"==typeof r)return(0,x.jsxs)(kp,{size:"medium",children:[(0,x.jsx)("strong",{children:n}),(0,x.jsx)(jd,{files:r},i)]},i);if("blocks"===o){const e="string"==typeof r?JSON.parse(r):r;return(0,x.jsxs)(kp,{size:"small",children:[(0,x.jsx)("strong",{children:n}),(0,x.jsx)(Di.A,{blocks:e})]},i)}return"string"==typeof r?(0,x.jsx)(kp,{note:(0,ns.a2)(r,o),size:"small",children:(0,x.jsx)("strong",{children:n})},i):null}))})}function Cp({value:e}){const t=(0,Oi.A)();return(0,x.jsx)(se.A,{bgColor:t.containerNeutral,rounded:!0,rightIcon:"NotificationsIcon",rightIconColor:"iconDefault",note:e,style:{marginBottom:"10px"},children:(0,x.jsx)("strong",{children:(0,Ne.Tl)("youll_be_notified_here_and_by_email")})})}var Sp;function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tp.apply(null,arguments)}const _p=e=>v.createElement("svg",Tp({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,fill:"none",viewBox:"0 0 40 40"},e),Sp||(Sp=v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 40c11.046 0 20-8.954 20-20S31.046 0 20 0 0 8.954 0 20s8.954 20 20 20m9.601-25.4a.85.85 0 1 0-1.202-1.201l-11.92 11.92-4.878-4.877a.85.85 0 0 0-1.202 1.202l5.478 5.479a.85.85 0 0 0 1.202 0z",clipRule:"evenodd"}))),Ep=(0,w.Ay)("div",{target:"eja8muk2"})("background-color:",(0,w.w4)("containerBaseNeutral"),";display:flex;flex-direction:column;align-items:center;padding:8px 20px 24px;text-align:center;svg{path{fill:",(0,w.w4)("iconSuccess"),";}}"),Np=(0,w.Ay)("p",{target:"eja8muk1"})("font-weight:600;line-height:19px;margin-top:25px;margin-bottom:18px;color:",(0,w.w4)("textDefault"),";"),Bp=(0,w.Ay)("p",{target:"eja8muk0"})("font-size:14px;line-height:17px;color:",(0,w.w4)("textDefault"),";");function Ip(){return(0,x.jsxs)(Ep,{children:[(0,x.jsx)(_p,{}),(0,x.jsx)(Np,{children:(0,Ne.Tl)("tickets_created_confirmation_header")}),(0,x.jsx)(Bp,{children:(0,Ne.Tl)("tickets_submitted_confirmation_paragraph")})]})}const Rp=(0,w.Ay)("div",{target:"e849yud2"})({name:"1erklzy",styles:"position:relative;box-sizing:border-box;overflow-y:hidden"}),Pp=(0,w.Ay)(z.B1,{target:"e849yud1"})("position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;color:",(0,w.w4)("textDefault"),";transition:opacity ",(e=>e.duration),"ms;&,&.fade-enter,&.fade-appear{opacity:0;z-index:1;}&.fade-enter-active,&.fade-appear-active{opacity:1;z-index:1;}&.fade-exit{z-index:2;opacity:1;pointer-events:none;}&.fade-exit-active,&.fade-exit-done{z-index:2;opacity:0;pointer-events:none;}&.fade-enter-done,&.fade-appear-done{opacity:1;}"),zp=(0,w.Ay)("div",{target:"e849yud0"})({name:"1advd6w",styles:"min-width:100%;min-height:100%"});function Mp({children:e,duration:t=Er.qZ,transitionKey:i,className:n,innerClassName:r,onEnter:o}){const s=(0,v.useRef)({});return s.current[i]||=(0,v.createRef)(),(0,x.jsx)(Rp,{className:n,children:(0,x.jsx)(z.F,{children:(0,x.jsx)(Pp,{classNames:"fade",className:r,timeout:t,duration:t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,nodeRef:s.current[i],onEnter:()=>{var e;const t=null==(e=s.current[i])?void 0:e.current;t&&o&&o(t)},children:(0,x.jsx)(zp,{ref:s.current[i],children:e})},i)})})}const Op=["onHeightChange","children"];function Hp(e){let{onHeightChange:t,children:i}=e,n=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,Op);const[r,o]=(0,ot.A)(),s=(0,xa.Z)(r.height);return(0,v.useEffect)((()=>{r.height>-1&&r.height!==s&&t&&t(r.height)}),[t,r.height,s]),(0,x.jsx)(w.Z2,{children:({css:e,cx:t})=>(0,x.jsx)(Mp,Object.assign({},n,{className:t(n.className,e`
              min-height: ${r.height}px;
              min-width: 100%;
            `),onEnter:e=>{e.firstChild&&(o.current=e.firstChild)},children:(0,x.jsx)("div",{children:i})}))})}const Dp={send:"NewConversation",conversation:"ViewConversation"};function Lp({text:e,icon:t,conversationId:i}){const n=(0,h.jL)();return(0,x.jsx)($s.A,{iconType:Dp[t],onClick:()=>{n((0,Xt.QL)(vt.Ay,i,{requestOrigin:"Ticket Details Click"})),n((0,Jt.p)(i))},borderRadius:10,variant:"secondary","data-testid":"ticket-details-conversation-button",children:e})}function Vp({ticket:e}){const{conversationButton:t}=e;return(0,x.jsxs)(bp,{children:[(0,Ne.Tl)("tickets_cta_text"),t?(0,x.jsx)(Lp,{text:t.text,icon:t.icon,conversationId:e.conversationId}):e.isFetching&&(0,x.jsx)(y.A,{inline:!0})]})}function Fp({ticket:e,notificationsEmail:t,notificationsEnabled:i,showTicketCreatedMessage:n,showSubmittedScreen:r=!1}){const s=(0,o.useLocation)(),{state:a}=s,l=a&&a.navigatingFrom,c=l===ke.wU||l===ke.vU,d=l||"conversation",p=c&&e.conversationId;return(0,v.useEffect)((()=>{(0,je.A5)("viewed","ticket_details","messenger",d,{ticketTypeId:e.ticketTypeId,status:e.status,conversationId:e.conversationId})}),[e.ticketTypeId,e.status,e.conversationId,d]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(gp,{children:[(0,x.jsx)(vp,{children:(0,x.jsx)(Hp,{transitionKey:r.toString(),children:r?(0,x.jsx)(Ip,{}):(0,x.jsx)(fp,{horizontal:!0,children:e.history.length?(0,x.jsx)(Zo,{history:e.history,currentStatus:e.status,assignee:e.assignee}):null})})}),(0,x.jsxs)(xp,{children:[i&&t&&(0,x.jsx)(Cp,{value:t}),e.attributes&&(0,x.jsx)(Ap,{attributes:e.attributes})]})]}),n&&(0,x.jsx)(jp,{}),p&&(0,x.jsx)(Vp,{ticket:e})]})}var qp=i(85937);const Gp=(0,mp.A)("div",{target:"e1heqk1y0"})({name:"1jasg0b",styles:"flex-grow:1;overflow-y:auto"});function Up(){const{ticketId:e=""}=(0,o.useParams)(),t=(0,h.GV)((0,gn.aw)(e)),i=(0,h.GV)(W.bA),n=(0,h.GV)(La),[r]=(0,o.useSearchParams)(),s=r.get("submitted"),a=(0,h.jL)(),l=!1===(null==t?void 0:t.read);return(0,v.useEffect)((()=>{l&&a((0,qp.C)(e))}),[e,l,a]),t&&t.id?(0,x.jsx)(Gp,{children:(0,x.jsx)(Fp,{showSubmittedScreen:!!s,ticket:t,notificationsEnabled:i,notificationsEmail:n,showTicketCreatedMessage:!1})}):null}const $p=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Rc,{}),children:(0,x.jsx)(Up,{})});var Wp=i(7494);var Kp={name:"wjx6sl",styles:"padding-bottom:400px"},Yp={name:"2o6p8u",styles:"justify-content:space-between"};const Xp=(0,w.Ay)("div",{target:"e1e4bhdc6"})("display:flex;flex-direction:column;min-height:100%;box-sizing:border-box;",(({spaced:e})=>e&&Yp)," ",(e=>e.extraIOSPadding&&Kp),";"),Jp=(0,w.Ay)("section",{target:"e1e4bhdc5"})("flex:1;position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;display:flex;flex-direction:column;",at.m.className,"{flex:1;display:flex;flex-direction:column;}",(e=>e.searchView&&`\n    ${Wp.L4.className} {\n      height: 36px;\n      background: linear-gradient(180deg, ${(0,w.w4)("baseAlpha")} 0%, ${(0,w.w4)("alphaWhite100")} 100%);\n    }`),";"),Zp=(0,w.Ay)("div",{target:"e1e4bhdc4"})({name:"xdvdnl",styles:"margin-top:auto"});var Qp={name:"1n11t60",styles:"padding:24px 0 12px;box-sizing:border-box;border-top-width:1px;border-top-style:solid;margin-left:-24px;margin-right:-24px;width:auto"};const eu=(0,w.Ay)("div",{target:"e1e4bhdc3"})("display:flex;flex-direction:column;align-items:center;width:100%;border-color:",(0,w.w4)("borderEmphasisNeutral"),";",(({withBorderTop:e})=>e&&Qp),";"),tu=(0,w.Ay)("div",{target:"e1e4bhdc2"})("display:flex;align-items:center;a{white-space:nowrap;}color:",(0,w.w4)("textDefault"),";text-align:center;font-size:14px;line-height:22px;margin-top:8px;"),iu=(0,w.Ay)("div",{target:"e1e4bhdc1"})("display:flex;flex-direction:column;align-items:center;",ce.className,"{margin-right:10px;}"),nu=(0,w.Ay)("div",{target:"e1e4bhdc0"})({name:"iqoq9n",styles:"margin-top:20px"});function ru({inArticle:e=!1}){var t;const i=(0,h.GV)(Ee.FQ),n=(0,h.GV)(er._9),r=(0,h.GV)(K.He);return(0,x.jsxs)(iu,{children:[(0,x.jsx)(Ks,{metricsContext:e?ke.BU:ke.m4,metadata:e?{article_id:null==n?void 0:n.id}:{phrase:i}}),(0,x.jsx)(tu,{children:(null==r||null==(t=r.action)?void 0:t.subtitle)??(0,Ne.Tl)("the_team_can_help_if_needed")})]})}function ou({inArticle:e=!1,withBorderTop:t=!1,onlyShowAfterArticleView:i=!1}){const n=(0,h.GV)(W._D),r=(0,h.GV)(Ee.Rz);return i&&!r?null:(0,x.jsx)(Zp,{children:(0,x.jsx)(eu,{withBorderTop:t,children:n?(0,x.jsx)(ru,{inArticle:e}):(0,x.jsx)(nu,{children:(0,x.jsx)(Ks,{})})})})}var su=i(60077);function au(e){const{children:t,hideBorder:i}=e,[n,r]=(0,v.useState)(!1),[o,s]=(0,v.useState)(!0);return(0,x.jsxs)(Wp.kV,{hideBorder:i||n,children:[(0,x.jsx)(su.A,{isInsideModal:!1,flex:!0,dynamicChildrenHeight:!0,onScroll:e=>((e,t,i)=>{const n=e.target;t(n.scrollTop>0),i(n.scrollHeight-n.scrollTop!==n.clientHeight)})(e,r,s),children:t}),(0,x.jsx)(Wp.L4,{hideBottomShadow:!o})]})}function lu(){const{hasSearchResults:e,showSearchResults:t,phrase:i,searchResults:n,hideResultsWithDelay:r}=(0,h.GV)((e=>e.browseMode)),[o,s]=(0,v.useState)(!1),[a,l]=(0,v.useState)(!1),c=(null==n?void 0:n.length)||0,d=i&&i.trim().length<=5&&0===c,p=(0,v.useRef)(null);return(0,v.useEffect)((()=>(e&&!t?(l(!1),d?p.current=setTimeout((()=>s(!0)),1e3):s(!0)):o!==t&&(t||e||!r?a||s(t):(l(!0),p.current=setTimeout((()=>{s(!1),l(!1)}),500))),()=>{p.current&&clearTimeout(p.current)})),[e,t,d,o,r,a]),o}const cu=(0,w.Ay)("div",{target:"ekb0q030"})({name:"18malc6",styles:"display:flex;justify-content:center;align-items:center;height:70vh"});const du=(0,w.Ay)(Bo._,{target:"eb7y7dq1"})({name:"c7q9dg",styles:"margin-bottom:4px;font-weight:600"}),pu=(0,w.Ay)(Bo._,{target:"eb7y7dq0"})("margin-bottom:4px;word-break:break-word;color:",(0,w.w4)("textDefault"),";"),uu=(0,w.Ay)("span",{target:"e1mxjt2c0"})("color:",(0,w.w4)("textMuted"),";"),hu=({title:e,description:t,articlesCount:i,onClick:n})=>{const r=(0,Ne.Tl)(1===i?"single_article":"multiple_articles",{total_articles:i.toString()});return(0,x.jsxs)(se.A,{note:(0,x.jsx)(uu,{children:r}),rightIcon:"RightChevronColorable",rightIconColor:"linkColor",hoverBackground:!0,onClick:n,useGlobalHorizontalPadding:!0,"data-testid":"collection-card",children:[!!e&&(0,x.jsx)(du,{children:e}),!!t&&(0,x.jsx)(pu,{children:t})]})};const mu=(0,w.Ay)("div",{target:"e1beiou2"})({name:"a7jy8",styles:"padding:20px 20px 40px;display:flex;flex-grow:1;justify-content:center;flex-direction:column;align-items:center"}),gu=(0,w.Ay)("div",{target:"e1beiou1"})("svg>path{fill:",(0,w.w4)("iconDefault"),";}svg>path[class$='stroke']{stroke:",(0,w.w4)("iconDefault"),";fill:none;}svg{*[class$='__circle']{fill:",(0,w.w4)("iconDefault"),";stroke:",(0,w.w4)("iconDefault"),";}*[class$='__negative']{stroke:",(0,w.w4)("iconOnInverse"),";}circle[class*='__negative']{fill:",(0,w.w4)("iconOnInverse"),";stroke:none;}}"),xu=(0,w.Ay)("p",{target:"e1beiou0"})("display:block;margin-top:10px;margin-bottom:20px;font-weight:600;font-size:18px;line-height:24px;color:",(0,w.w4)("textDefault"),";"),fu=()=>(0,x.jsxs)(mu,{children:[(0,x.jsx)(gu,{children:(0,x.jsx)(ae.Ay,{type:"HelpActive",size:30})}),(0,x.jsx)(xu,{children:(0,Ne.Tl)("no_articles_to_display")})]}),vu=({collections:e,onCollectionClick:t})=>{const i=(null==e?void 0:e.length)||0;if(0===i)return(0,x.jsx)(cu,{children:(0,x.jsx)(fu,{})});const n=1===i?(0,Ne.Tl)("single_collection"):(0,Ne.Tl)("multiple_collections",{total_collection:i.toString()});return(0,x.jsx)(oe.A,{title:n,children:null==e?void 0:e.map(((e,i)=>(0,x.jsx)(hu,{title:e.title,description:e.description,articlesCount:e.articlesCount,onClick:()=>t(e.id)},i)))})},yu=e=>e.sections.reduce(((e,t)=>{var i;return e+((null==(i=t.articles)?void 0:i.length)||0)}),0),bu=()=>{const e=(0,h.jL)(),t=(0,h.GV)((e=>e.articleCollections)),i=(0,h.GV)((e=>e.browseMode.isFetching)),n=t.map((e=>{const t=e.children.length>0||e.articles.length>0;return{id:e.id,title:e.name,description:e.description,articlesCount:t?e.articleCount:yu(e),articles:e.articles,children:e.children}}));if(i)return(0,x.jsx)(y.A,{});return(0,x.jsx)(vu,{collections:n,onCollectionClick:t=>{i||e((0,_e.LF)(t))}})};function wu({html:e,color:t="textDefault"}){return e.split(/<\/?highlight>/).map(((e,i)=>function(e,t,i){if(t%2)return(0,x.jsx)(ku,{color:i,children:e},t);return(0,x.jsx)(ju,{color:i,children:e},t)}(e,i,t)))}const ju=(0,w.Ay)("span",{target:"e1ufeahq1"})("color:",(({color:e})=>(0,w.w4)(e)),";"),ku=(0,w.Ay)("span",{target:"e1ufeahq0"})("color:",(({color:e})=>(0,w.w4)(e)),";font-weight:600;"),Au=(0,w.Ay)(se.A,{target:"e1yf8hpl2"})((({isSearch:e,theme:t})=>e&&(0,w.AH)("&:hover{",Cu.className,"{color:",t.textMuted,";}}")),";"),Cu=(0,w.Ay)(Bo._,{target:"e1yf8hpl1"})("color:",(0,w.w4)("textMuted"),";",ku.className,"{font-weight:400;color:",(({theme:e})=>e.isPrimaryColorAsTheme?e.textDefault:e.primaryColor),";}"),Su=(0,w.Ay)(Bo._,{target:"e1yf8hpl0"})("font-weight:400;flex:1;",ku.className,"{font-weight:400;color:",(0,w.w4)("linkColor"),";}"),Tu=({title:e,onClick:t,children:i,search:n})=>(0,x.jsxs)(Au,{isSearch:n,size:"medium",rightIcon:"RightChevronColorable",rightIconColor:"linkColor",hoverBackground:!0,onClick:t,useGlobalHorizontalPadding:!0,children:[(0,x.jsx)(Su,{children:e}),i&&(0,x.jsx)(Cu,{children:i})]});var _u=i(27606),Eu=i(35304);const Nu=(0,w.Ay)(Eu.Sv,{target:"ew5plsk0"})({name:"1sdjnkx",styles:"word-break:break-word"}),Bu=({title:e,articleCount:t,description:i,authors:n})=>{const r=n.reduce(((e,t)=>{const i=(0,_u.sU)(t);return i&&e.push(i),e}),[]),o=(0,ye.v)(r,3,!0),s=n.length>0;let a="";return 1===n.length?a=(0,Ne.Tl)("article_single_author",{author_first_name:o[0].firstName}):2===n.length?a=(0,Ne.Tl)("article_double_author",{author_first_name1:o[0].firstName,author_first_name2:o[1].firstName}):n.length>2&&(a=(0,Ne.Tl)("article_multiple_authors",{author_first_name1:o[0].firstName,number_of_other_authors:(o.length-1).toString()})),(0,x.jsxs)(v.Fragment,{children:[(0,x.jsx)(Eu.ed,{children:e}),i&&(0,x.jsx)(Nu,{children:i}),(0,x.jsxs)(Eu.dE,{children:[(0,x.jsxs)(Eu.Mx,{children:[(0,Ne.Tl)(1===t?"single_article":"multiple_articles",{total_articles:t.toString()}).toLowerCase(),(0,x.jsx)("br",{}),s&&(0,x.jsx)("span",{"data-testid":"authors-container",children:a})]}),s&&(0,x.jsx)(we,{admins:r,avatarSize:28,avatarPixelsToShow:25,maxAdmins:3,useCutout:!0})]})]})},Iu=(e,t)=>null==e?void 0:e.map((e=>(0,x.jsx)(Tu,{title:e.title,onClick:()=>t(e.id)},e.id))),Ru=({name:e,description:t,articleCount:i,sections:n,articles:r,children:o,authors:s,onArticleClick:a,onCollectionClick:l})=>{if(r.length>0||o.length>0){const n={headerContent:(0,x.jsx)(Bu,{title:e,articleCount:i,description:t,authors:s})};return(0,x.jsxs)(oe.A,Object.assign({},n,{children:[r.length>0&&(0,x.jsx)(oe.A,{noDivider:!0,children:Iu(r,a)}),o.map((e=>(0,x.jsx)(hu,{title:e.name,description:e.description,articlesCount:e.articleCount,onClick:()=>l(e.id)},e.id)))]}))}{const r={title:e,description:t,note:(0,Ne.Tl)(1===i?"single_article":"multiple_articles",{total_articles:i.toString()})};if(1===n.length){const e=n[0].articles;return(0,x.jsx)(oe.A,Object.assign({noDivider:!0},r,{children:Iu(e,a)}))}return(0,x.jsx)(oe.A,Object.assign({},r,{children:null==n?void 0:n.map((e=>(0,x.jsx)(oe.A,{noDivider:!0,sectionTitle:e.name||void 0,children:Iu(e.articles,a)},e.id)))}))}},Pu=()=>{const{"*":e}=(0,o.useParams)(),t=(0,h.GV)(er.ZV),i=null==e?void 0:e.split("/").slice(-1)[0];return i||1!==t.length?i:`${t[0].id}`},zu=()=>{const e=(0,h.jL)(),t=(e=>{const t=(0,h.GV)(er.ZV);if(!e)return null;const i=t=>t.id===parseInt(e)?t:t.children?t.children.map((e=>i(e))).reduce(((e,t)=>e||t),null):null;return t.map((e=>i(e))).reduce(((e,t)=>e||t),null)})(Pu()),i=(null==t?void 0:t.sections)||[];return t?(0,x.jsx)(Ru,{id:t.id,name:t.name,description:t.description,articleCount:t.articleCount,sections:i,articles:t.articles,authors:t.authors,onArticleClick:t=>{e((0,Te.Y0)(t,null,!0,!0))},onCollectionClick:t=>{e((0,_e.LF)(t))},children:t.children}):null};function Mu(e){if(!e)return"";const t=e.indexOf("<highlight>"),{innerWidth:i}=(0,Pi.mC)();let n;return n=i>400?30:i/40,t<n?e:function(e,t){const i=e.substring(t);return"..."+i.substring(i.indexOf(" "))}(e,t-n)}function Ou(e){const[t,i]=(0,v.useState)(Mu(e.text));return(0,v.useEffect)((()=>{const t=()=>{i(Mu(e.text))};return(0,Pi.eA)(t),()=>(0,Pi.Jz)(t)}),[e.text]),(0,x.jsx)(wu,{html:t})}const Hu=(0,w.Ay)(oe.A,{target:"e1ft3ngy0"})({name:"74n2tq",styles:"padding-top:12px"}),Du=()=>{const e=(0,h.jL)(),t=(0,h.GV)(Ee.mE),i=(0,h.GV)(Ee.sO);return(0,x.jsx)(Hu,{noDivider:!0,children:t.map(((t,n)=>(0,x.jsx)(Tu,{onClick:()=>((t,i,n)=>{(0,je.A5)("clicked","help_center","search_results","",{article_id:t,result_rank:i,search_query:n},"search_browse_event"),e((0,Te.Y0)(t,{result_rank:i,phrase:n},!0,!0))})(t.id,n+1,i),title:(0,x.jsx)(wu,{html:t.title}),search:!0,children:t.summary&&(0,x.jsx)(Ou,{text:t.summary})},t.id)))})};const Lu=(0,w.Ay)("div",{target:"eil0dwm2"})({name:"a7jy8",styles:"padding:20px 20px 40px;display:flex;flex-grow:1;justify-content:center;flex-direction:column;align-items:center"}),Vu=(0,w.Ay)("div",{target:"eil0dwm1"})("text-align:center;p{line-height:21px;font-size:14px;color:",(0,w.w4)("textMuted"),";&:first-of-type{color:",(0,w.w4)("textDefault"),";span{font-weight:600;}}}"),Fu=(0,w.Ay)("p",{target:"eil0dwm0"})("display:block;margin:24px 0 12px 0;font-weight:600;font-size:18px;line-height:24px;color:",(0,w.w4)("textDefault"),";"),qu=()=>{const e=(0,h.GV)(Ee.sO);return(0,x.jsxs)(Lu,{children:[(0,x.jsx)(Fu,{children:(0,Ne.Tl)("try_again")}),(0,x.jsx)(Vu,{children:(0,x.jsxs)("p",{children:[(0,Ne.Tl)("no_results_for_searchterm",{searchTerm:""}),(0,x.jsxs)("span",{children:["'",e,"'"]})]})})]})},Gu=(0,w.Ay)("div",{target:"e101p0br0"})("margin-top:auto;margin-bottom:20px;display:flex;flex-direction:column;align-items:center;position:relative;",md.A.className,"{margin-top:16px;box-shadow:",(0,w.w4)("shadowSmall"),";border:1px solid ",(0,w.w4)("alphaWhite10"),"!important;}"),Uu=()=>(0,x.jsx)(Pe.A,{animationKey:"help-space-footer",children:(0,x.jsx)(Gu,{children:(0,x.jsx)(Ks,{styleVariant:"secondary"})})}),$u=e=>e.browseMode.hasSearchResults||e.browseMode.showSearchResults,Wu=e=>e.browseMode.isSearchFocused,Ku=(0,v.forwardRef)((function(e,t){const i=(0,h.GV)(W.Ei),n=(0,h.GV)(Wu),[r,o]=(0,v.useState)(!1),[s,a]=(0,v.useState)(!0),[l,c]=(0,v.useState)(!1),d=(0,h.GV)($u),p=lu()||d,u=Pu(),m=!u,g=!!u,f=(0,ys.rr)(),y=(0,h.GV)(Ee.P5),b=(0,h.GV)(Ee.Rz);function w(){const e=p&&i;return e&&y||e&&!y&&b?(0,x.jsx)(Uu,{}):(0,x.jsx)(Pe.A,{animationKey:"search-browse-footer",children:(0,x.jsx)(x.Fragment,{children:e&&(0,x.jsx)(ou,{onlyShowAfterArticleView:!y,withBorderTop:!0})})},`search-browse-footer-${String(p)}`)}const j=(0,v.useRef)(null),k=(0,v.useRef)(null),A=(0,v.useRef)(null);return(0,x.jsx)(Jp,{ref:t,searchView:p,children:(0,x.jsx)(au,{hideBorder:!0,children:(0,x.jsxs)(Xp,{extraIOSPadding:(0,ys.un)()&&n,spaced:p,children:[(0,x.jsx)(z.B1,{in:m&&!r&&!p&&!l,classNames:"intercom-search-browse-fade",appear:!1,timeout:150,mountOnEnter:!0,unmountOnExit:!0,onEnter:()=>a(!1),onExited:()=>a(!0),nodeRef:j,children:(0,x.jsx)("div",{ref:j,children:(0,x.jsx)(bu,{})})}),(0,x.jsx)(z.B1,{in:g&&s&&!p&&!l,classNames:"intercom-search-browse-article-collection-fade",timeout:150,appear:!1,mountOnEnter:!0,unmountOnExit:!0,onEnter:()=>o(!0),onEntered:()=>o(!0),onExited:()=>{o(!1)},nodeRef:k,children:(0,x.jsx)("div",{ref:k,children:(0,x.jsx)(zu,{})})}),(0,x.jsx)(z.B1,{in:p&&s&&!r,classNames:"intercom-search-browse-fade",timeout:150,mountOnEnter:!0,unmountOnExit:!0,onEnter:()=>c(!0),onExited:()=>c(!1),nodeRef:A,children:(0,x.jsxs)("div",{ref:A,children:[(0,x.jsx)(x.Fragment,{children:y?(0,x.jsx)(qu,{}):(0,x.jsx)(Du,{})}),!f&&w()]})}),f&&w()]})})})}));var Yu=i(64426);var Xu={name:"13udsys",styles:"height:100%"},Ju={name:"1h8nup8",styles:"overflow:visible"};const Zu=(0,w.Ay)("div",{target:"eq193l70"})("position:relative;min-width:100%;display:flex;flex-direction:column;overflow:auto;",(({showArticle:e})=>e&&Ju)," ",(({fullHeight:e})=>e&&Xu)," .intercom-search-browse-fade{&-enter{opacity:0;}&-enter-active{opacity:1;transition:opacity 100ms ease-in-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 100ms ease-in-out;}}.intercom-search-browse-article-collection-fade{&-enter{opacity:0;}&-enter-active{opacity:1;transition:opacity 100ms ease-in-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:100ms ease-in-out;}}.intercom-search-browse-slide-left-out{&-exit{transform:translateX(0);opacity:1;}&-exit-active{transform:translateX(-12px);opacity:0;transition:100ms ease-in-out;}}.intercom-search-browse-article-collection-in{&-enter,&-appear{transform:translateX(12px);opacity:0;}&-enter-active,&-appear-active{transform:translateX(0);opacity:1;transition:100ms ease-in-out;}&-exit{transform:translateX(0);opacity:1;}&-exit-active{transform:translateX(12px);opacity:0;transition:100ms ease-in-out;}}.intercom-search-browse-article-collection-fade-in{&-enter,&-appear{opacity:0;}&-enter-active,&-appear-active{opacity:1;transition:25ms ease-in-out;}}",Yu.j.className,"{color:",(0,w.w4)("textDefault"),";background-color:",(0,w.w4)("containerBaseNeutral"),";border:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";transition:color 0.15s ease 0s,background-color 0.15s ease 0s,border 0.15s ease 0s;",(({theme:e})=>{const t=e.isPrimaryColorLight?e.appColorDarker:e.primaryColor;return(0,w.AH)(Js.M.className,"{path{fill:",t,";}}&:hover,&:active{color:",t,";border:1px solid ",t,";background-color:",e.containerBaseNeutral,";",Js.M.className,"{path{fill:",t,";}}}")}),";span{font-weight:400;}}");function Qu(){return(0,x.jsx)(Zu,{showArticle:!1,fullHeight:!0,children:(0,x.jsx)(Ku,{})})}const eh=(0,w.Ay)("div",{target:"e1xvqlab0"})({name:"hkh81z",styles:"margin-top:8px"}),th=e=>e.current&&clearTimeout(e.current),ih=({showSearchResults:e,onPhraseChange:t,onCloseClick:i,focusOnMount:n})=>{var r;const[o,s,a]=(({timeout:e=1500}={})=>{const[t,i]=(0,v.useState)(!1),n=(0,v.useRef)(),r=(0,v.useRef)(null),o=(0,v.useRef)(null),s=(0,v.useCallback)((()=>{var e;return void 0!==n.current&&""!==(null==(e=n.current)?void 0:e.value)}),[n]),a=(0,v.useCallback)((()=>{th(r),r.current=setTimeout((()=>{th(o),o.current=null,i(!1)}),1e3)}),[]);return(0,v.useEffect)((()=>()=>{th(r),th(o)}),[]),(0,v.useEffect)((()=>{if(i(!1),!n.current)return;const t=t=>{s()?("Enter"===t.key||o.current||(o.current=setTimeout((()=>{th(o),i(s())}),e)),a()):(th(r),th(o),o.current=null,i(!1))},l=()=>{th(r),th(o),o.current=null,i(!1)},c=n.current;return c.addEventListener("keyup",t),c.addEventListener("blur",l),()=>{c.removeEventListener("keyup",t),c.removeEventListener("blur",l)}}),[n,s,a,e]),[n,t,i]})({timeout:500}),l=(0,xa.Z)(s),c=(0,xa.Z)(null==(r=o.current)?void 0:r.value),[p,u]=(0,v.useState)(!1),h=(0,yr.IS)(),m=lu()||e;(0,v.useEffect)((()=>{let e;return n&&o.current&&(e=(0,d.nB)(o.current,500)),()=>clearTimeout(e)}),[o,n]);return{inputRef:o,isCurrentlyTyping:s,previouslyWasTyping:l,hideResultsWithDelay:p,isMobile:h,showResults:m,handleKeyDown:e=>{if(e.keyCode===d.Rk.ENTER){const t=e.target.value;t&&t!==c&&a(!0)}u(e.keyCode===d.Rk.DELETE||e.keyCode===d.Rk.BACKSPACE)},handleOnCloseClick:()=>{h?i():(t("",p),o.current&&o.current.focus())}}};var nh={name:"y74jut",styles:"input{font-size:16px;}"};const rh=(0,w.Ay)("div",{target:"ejr06bz4"})("display:flex;align-items:center;justify-content:center;position:relative;transition:250ms;border-radius:12px;",(({hasValue:e,theme:t})=>e&&(0,w.AH)("border:1px solid ",t.borderEmphasisNeutral,";background-color:",t.containerBaseNeutral,";color:",t.textDefault,";"))," background-color:",(0,w.w4)("input"),";input{width:100%;padding:11.5px 5px;padding-left:10px;font-size:14px;color:",(0,w.w4)("textDefault"),";}",(({theme:e})=>e.isMobileBrowser&&nh),";"),oh=(0,w.Ay)("div",{target:"ejr06bz3"})({name:"145x1ps",styles:"cursor:text;display:flex;align-items:center;width:100%;position:relative"});var sh={name:"160lj66",styles:"p{opacity:0%;}"},ah={name:"16ro1vx",styles:"i{opacity:0%;}"};const lh=(0,w.Ay)("div",{target:"ejr06bz2"})("position:absolute;display:flex;align-items:center;left:50%;transform:translateX(-50%);transition:opacity 250ms;color:",(0,w.w4)("textMuted"),";padding:0 10px;width:calc(100% - 19px);flex-direction:row-reverse;justify-content:space-between;pointer-events:none;p,i{opacity:100%;transition:opacity 150ms;}p{font-size:14px;color:",(0,w.w4)("textMuted"),";color:",(({theme:e,whiteBackground:t})=>t||e.isSecondaryColorWhite?e.textDefault:e.textMuted),";}",(({isShowingLoadingSpinner:e,isShowingCloseButton:t})=>(e||t)&&ah)," ",(({isFocused:e})=>e&&sh),";"),ch=(0,w.Ay)("div",{target:"ejr06bz1"})({name:"e0dnmk",styles:"cursor:pointer"}),dh=(0,w.Ay)("div",{target:"ejr06bz0"})({name:"w61jrk",styles:"position:absolute;right:13px;transform:translateY(-50%);&.fade-enter{opacity:0;}&.fade-exit{opacity:1;}&.fade-enter-active{opacity:1;}&.fade-exit-active{opacity:0;}&.fade-enter-active,&.fade-exit-active{transition:opacity 100ms;}"}),ph=({showSearchResults:e,onPhraseChange:t,onCloseClick:i,showBrowseMode:n,phrase:r,onSearchBlur:o,onSearchFocus:s,focusOnMount:a,isFetchingSearchResults:l})=>{var c;const[d,p]=(0,v.useState)(a),{inputRef:u,hideResultsWithDelay:h,handleKeyDown:m,isCurrentlyTyping:g,previouslyWasTyping:f,showResults:b}=ih({showSearchResults:e,onPhraseChange:t,onCloseClick:i,focusOnMount:a}),w=!!u.current&&(null==(c=u.current)?void 0:c.value.length)>0,j=Boolean(g||l&&w&&f),k=!j&&b&&n,A=(0,Ne.Tl)("search_for_help");(0,v.useEffect)((()=>{""===r&&u.current&&""!==u.current.value&&(u.current.value="")}),[u,r]);const C=d||!(!r||""===r),{whiteBackground:S}=B(),T=(0,v.useRef)(null),_=(0,v.useRef)(null);return(0,x.jsx)(rh,{hasValue:C,children:(0,x.jsxs)(oh,{onClick:()=>{var e;return null==(e=u.current)?void 0:e.focus()},children:[(0,x.jsx)("input",{ref:u,defaultValue:r,onChange:e=>t(e.target.value,h),onKeyDown:m,onFocus:()=>{p(!0),s()},onBlur:()=>{p(!1),o()},"aria-label":A}),(0,x.jsxs)(lh,{whiteBackground:S,isFocused:C,className:"search-input-placeholder",isShowingCloseButton:k,isShowingLoadingSpinner:j,tabIndex:-1,children:[(0,x.jsx)(ae.Ay,{color:"linkColor",type:"Search"}),(0,x.jsx)("p",{children:A})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(z.B1,{in:j,classNames:"fade",timeout:100,mountOnEnter:!0,unmountOnExit:!0,nodeRef:T,children:(0,x.jsx)(dh,{ref:T,children:(0,x.jsx)(y.A,{size:"tiny",inline:!0})})}),(0,x.jsx)(z.B1,{in:k,classNames:"fade",timeout:100,mountOnEnter:!0,unmountOnExit:!0,nodeRef:_,children:(0,x.jsx)(dh,{ref:_,children:(0,x.jsx)(ch,{"aria-label":(0,Ne.Tl)("clear"),onClick:()=>{t("",h),u.current&&(u.current.focus(),u.current.value="")},children:(0,x.jsx)(ae.Ay,{size:16,type:"CloseM5"})})})})]})]})})},uh=(0,sr.Mz)((e=>e.browseMode),(e=>({phrase:e.phrase,isFetchingSearchResults:e.isFetchingSearchResults,showSearchResults:e.showSearchResults}))),hh=()=>{const[e]=(0,o.useSearchParams)(),t=!!e.get("fromHome"),i=(0,h.jL)(),{phrase:n,isFetchingSearchResults:r,showSearchResults:s}=(0,h.GV)(uh),a=(0,h.GV)(er.vT),l=!a,c=gc(p.ZL)||(0,Ne.Tl)("help_space_title"),d=(0,h.GV)(m.V$),u=(0,o.useLocation)(),g=a||"/help"!==u.pathname||d||t,f=(0,o.useNavigate)(),y=B(),b=(0,v.useMemo)((()=>Object.assign({},y,{height:64})),[y]),w=g&&(0,x.jsx)(Tr.BackButton,{onBack:()=>{a?i((0,Te.IP)()):(i((0,_e.uz)("",!1)),f(-1))},chevronDirection:"left"});return(0,x.jsx)(N.Provider,{value:a?b:y,children:(0,x.jsxs)(Tr.Content,{whiteBackground:!1,showBorder:!0,children:[(0,x.jsx)(Tr.TitleArea,{title:a?void 0:c,leftButtonArea:w,backDirection:"left",showExpandButton:a}),!a&&(0,x.jsx)(eh,{children:(0,x.jsx)(ph,{focusOnMount:t,showSearchResults:s,onPhraseChange:(e,t)=>{i((0,_e.uz)(e,t))},onCloseClick:()=>{i((0,Rt.Mu)(!0))},isFetchingSearchResults:r,showBrowseMode:l,phrase:n,onSearchBlur:()=>{i((0,_e.vs)(!1))},onSearchFocus:()=>{i((0,_e.vs)(!0))}})})]})})};var mh=i(59057);const gh=(0,v.forwardRef)((function(e,t){const i=(0,h.GV)(W.ed),n=(0,h.GV)(W._D),r=!n&&i;return(0,x.jsxs)(mh.Jc,{ref:t,children:[!r&&(0,x.jsx)(mh.Oe,{}),n?(0,x.jsx)(mh.Bx,{children:(0,x.jsx)(ou,{inArticle:!0})}):(0,x.jsx)(ou,{inArticle:!0})]})})),xh=(0,w.Ay)("div",{target:"eg87d390"})("min-width:51px;height:51px;box-sizing:border-box;padding:8px;display:flex;justify-content:center;flex-direction:column;align-items:center;cursor:pointer;>svg{width:12;height:12;}>svg>path{fill:",(0,w.w4)("iconMuted"),";}",(({theme:e})=>e.isMobileSize&&(0,w.AH)(">svg>path{fill:",e.isPrimaryColorAsTheme?e.textDefault:e.primaryColor,";}"))," border-radius:",(0,w.w4)("messengerBorderRadiusPx"),"px;&:hover{>svg>path{fill:",(0,w.w4)("iconMuted"),";}}");const fh="ease-out",vh=w.i7`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,yh=w.i7`
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
`,bh=(0,w.Ay)("div",{target:"eub3n504"})({name:"augt7s",styles:"display:flex;flex-direction:row;flex-grow:1"});var wh={name:"1yh8glp",styles:"margin-top:-12px"};const jh=(0,w.Ay)("div",{target:"eub3n503"})("display:flex;flex-grow:1;height:51px;",(({theme:e})=>!e.isMobileSize&&wh)," align-items:center;padding:5px 12px;box-sizing:border-box;overflow:hidden;");var kh={name:"3ix1vd",styles:"opacity:1"};const Ah=(0,w.Ay)("div",{target:"eub3n502"})("color:",(0,w.w4)("textDefault"),";font-size:14px;line-height:21px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;transition:opacity 200ms ease-in-out;transition-delay:150ms;overflow:hidden;opacity:0;",(({show:e})=>e&&kh),";");var Ch={name:"3ix1vd",styles:"opacity:1"},Sh={name:"1j6452b",styles:"position:relative;top:-12px"};const Th=(0,w.Ay)("div",{target:"eub3n501"})("display:flex;flex:1;transition:opacity 0.3s;opacity:0;",(({theme:e})=>e.isMobileSize&&Sh)," ",(({show:e})=>e&&Ch),";"),_h=(0,w.Ay)("div",{target:"eub3n500"})("padding:24px 8px 5px;display:flex;flex-direction:row;pointer-events:none;",(({headerHeight:e})=>(0,w.AH)("margin:-",e+6,"px 48px 0;"))," &.intercom-messenger-header-view-enter{",Ah.className,",",xh.className,"{animation-name:",vh,";animation-duration:","250ms",";animation-timing-function:",fh,";animation-delay:","350ms",";animation-fill-mode:both;}}&.intercom-messenger-header-view-exit{",Ah.className,",",xh.className,"{animation-name:",yh,";animation-duration:","150ms",";animation-timing-function:",fh,";animation-delay:","0s",";animation-fill-mode:both;}}");function Eh({articleIsScrolled:e,showTitle:t,transitioningBack:i}){const{title:n}=(0,h.GV)(er._9)||{},r=(0,h.GV)(er.Wm),o=(0,h.GV)(wr.l),s=(0,v.useRef)(null),{height:a}=B(),l=o&&!e,c=(0,v.useRef)(null);return(0,x.jsx)(_h,{ref:s,expanded:l,headerHeight:a,children:(0,x.jsx)(bh,{children:(0,x.jsx)(z.B1,{in:!i,classNames:"intercom-search-browse-fade",timeout:100,mountOnEnter:!0,unmountOnExit:!0,nodeRef:c,children:(0,x.jsx)(Th,{show:r,ref:c,children:(0,x.jsx)(jh,{children:(0,x.jsx)(Ah,{show:t,"aria-hidden":"true",children:n})})})})})})}const Nh=w.i7`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,Bh=(0,w.Ay)("div",{target:"e94v8qu12"})("padding-top:20px;animation-name:",Nh,";animation-duration:","50ms",";animation-timing-function:","ease-in-out",";animation-delay:","0s",";animation-fill-mode:both;"),Ih=(0,w.Ay)(Bh,{target:"e94v8qu11"})(),Rh=({theme:e})=>(0,w.AH)("margin-left:10%;background:",e.containerNeutral,";border-radius:100px;",Ih.className," &{margin-left:0;}"),Ph=(0,w.Ay)("div",{target:"e94v8qu10"})("width:40%;min-height:16px;",Rh,";"),zh=(0,w.Ay)("div",{target:"e94v8qu9"})("width:60%;min-height:16px;margin-top:16px;",Rh,";"),Mh=(0,w.Ay)("div",{target:"e94v8qu8"})(),Oh=(0,w.Ay)("div",{target:"e94v8qu7"})({name:"qoz2rc",styles:"margin-top:68px"}),Hh=(0,w.Ay)("div",{target:"e94v8qu6"})("width:36px;height:36px;border-radius:50%;background:",(0,w.w4)("iconOnInverse"),";margin-left:10%;margin-top:16px;float:left;",Ih.className," &{margin-left:0;}"),Dh=(0,w.Ay)("div",{target:"e94v8qu5"})({name:"g0dsyy",styles:"float:left"}),Lh=(0,w.Ay)("div",{target:"e94v8qu4"})("min-width:120px;min-height:8px;margin-top:19px;",Rh,";"),Vh=(0,w.Ay)("div",{target:"e94v8qu3"})("position:relative;min-width:80px;min-height:8px;margin-top:12px;",Rh,";"),Fh=(0,w.Ay)("div",{target:"e94v8qu2"})("width:80%;min-height:8px;margin-top:16px;",Rh,";"),qh=(0,w.Ay)("div",{target:"e94v8qu1"})("width:75%;min-height:8px;margin-top:16px;",Rh,";"),Gh=(0,w.Ay)("div",{target:"e94v8qu0"})("width:160px;min-height:8px;margin-top:16px;",Rh,";");function Uh(){return(0,x.jsxs)(Bh,{"data-testid":"article-skeleton",children:[(0,x.jsx)(Ph,{}),(0,x.jsx)(zh,{}),(0,x.jsxs)(Mh,{children:[(0,x.jsx)(Hh,{}),(0,x.jsxs)(Dh,{children:[(0,x.jsx)(Lh,{}),(0,x.jsx)(Vh,{})]})]}),(0,x.jsxs)(Oh,{children:[(0,x.jsx)(Fh,{}),(0,x.jsx)(qh,{}),(0,x.jsx)(Gh,{})]})]})}var $h=i(427);let Wh=function(e){return e.ALEXANDRIA_LOADED="alexandria-loaded",e.SHEET_LOADED="sheet-loaded",e.HEIGHT_CHANGE="height-change",e.SCROLL_TO="scroll-to",e.LINK_CLICKED="link-clicked",e}({});function Kh({title:e,url:t,onLoad:i,onSetScrollPosition:n,helpCenterSession:r,appColor:o,navigationSource:s,hash:a}){var l;const c=(0,h.jL)(),d=(0,v.useRef)(null),[p,u]=(0,v.useState)(0),[m,g]=(0,v.useState)(!1),f=(0,Oi.A)();let y={iframe:"true",user:r,color_override:o,current_url:null==(l=(0,Pi.KQ)())?void 0:l.href.toLowerCase(),cross_origin_isolated:window.crossOriginIsolated,theme:f.themeMode};s&&(y=Object.assign({},y,{utm_source:"intercom-messenger",utm_content:s}));const b=a?`${t}?${new URLSearchParams(y).toString()}#${a}`:`${t}?${new URLSearchParams(y).toString()}`;return(0,v.useEffect)((()=>{var e;const t=({data:{intercomSheet:e}})=>{if(!e)return;const{type:t,payload:r}=e;switch(t){case Wh.ALEXANDRIA_LOADED:case Wh.SHEET_LOADED:m&&g(!1),i&&i(t);break;case Wh.HEIGHT_CHANGE:u(r.height+20);break;case Wh.SCROLL_TO:n(r.offsetTop);break;case Wh.LINK_CLICKED:(0,je.A5)("clicked","alexandria-article-link","search-browse","messenger",{url:r.url}),c((0,Te.NQ)(r.url))}},r=null==(e=d.current)||null==(e=e.ownerDocument)?void 0:e.defaultView;return r&&r.addEventListener("message",t,!1),()=>{r&&r.removeEventListener("message",t)}}),[d,i,c,n,m]),(0,v.useEffect)((()=>{g(!0),d.current&&Yh(d.current,b)}),[f.themeMode,b]),(0,x.jsx)("iframe",{"data-testid":"help-center-article",title:e,sandbox:"allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-downloads",src:Dr({overflowHidden:!0}),onLoad:function(e){Yh(e.target,b)},allowFullScreen:!0,allow:"microphone *; camera *; autoplay *",ref:d,style:{width:"100%",minHeight:"100%",height:p,visibility:m?"hidden":"visible"},role:"dialog",credentialless:window.crossOriginIsolated?"true":void 0})}function Yh(e,t){var i;const n=(0,$h.oH)($h.N0,t,$h.N0);null==(i=e.contentWindow)||i.postMessage(n,"*")}function Xh({title:e,show:t,onHeightChange:i}){const n=(0,h.GV)(wr.l);return(0,x.jsx)(at.A,{onHeightChange:i,children:(0,x.jsx)(Qh,{show:t,isExpanded:n,children:e})})}var Jh={name:"6rria8",styles:"padding:20px 40px 4px 40px;font-size:28px;line-height:130%"},Zh={name:"3ix1vd",styles:"opacity:1"};const Qh=(0,w.Ay)("h1",{target:"eltcq8z0"})("opacity:0;padding:20px 24px 4px 22px;font-size:24px;font-weight:700;line-height:130%;transition:all 300ms ease;color:",(0,w.w4)("textDefault"),";",(({show:e})=>e&&Zh)," ",(({isExpanded:e})=>e&&Jh),";");var em=i(86777);const tm=(e="")=>e.replace("#","%23"),im=(e="")=>`"data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z' stroke='${tm(e)}' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M7.99982 15C9.39931 15 10.5338 11.866 10.5338 8C10.5338 4.13401 9.39931 1 7.99982 1C6.60033 1 5.46582 4.13401 5.46582 8C5.46582 11.866 6.60033 15 7.99982 15Z' stroke='${tm(e)}' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M1.44824 5.75977H14.5242' stroke='${tm(e)}' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M1.44824 10.2402H14.5242' stroke='${tm(e)}' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"`,nm=(e="")=>`"data:image/svg+xml;utf8,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='${tm(e)}' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.23431 5.74408C3.9219 6.06951 3.9219 6.59715 4.23431 6.92259L7.43431 10.2559C7.74673 10.5814 8.25327 10.5814 8.56569 10.2559L11.7657 6.92259C12.0781 6.59715 12.0781 6.06951 11.7657 5.74408C11.4533 5.41864 10.9467 5.41864 10.6343 5.74408L8 8.48816L5.36569 5.74408C5.05327 5.41864 4.54673 5.41864 4.23431 5.74408Z' fill='${tm(e)}'/%3E%3C/svg%3E"\n`,rm=(0,w.Ay)("div",{target:"e1trrwbj1"})("background-color:",(0,w.w4)("containerBaseNeutral"),";text-align:center;padding:9px 0 20px 0;margin-top:auto;display:flex;justify-content:center;align-items:flex-end;"),om=(0,w.Ay)("select",{target:"e1trrwbj0"})("font-weight:400;font-size:14px;font-family:",(0,w.w4)("fontSansSerif"),";line-height:20px;height:36px;color:",(0,w.w4)("textMuted"),";padding:0 32px 0 22px;box-sizing:border-box;margin:0 8px;appearance:none;border:none;background-color:",(0,w.w4)("containerBaseNeutral"),";background-image:url(",(e=>im(e.theme.iconMuted)),"),url(",(e=>nm(e.theme.iconMuted)),");background-repeat:no-repeat,no-repeat;background-position:0 10px,right 12px center;background-size:14px,16px;transition:border-color 0.25s,outline 0.25s;cursor:pointer;&:hover{color:",(e=>e.theme.primaryColor),";background-image:url(",(e=>im(e.theme.primaryColor)),"),url(",(e=>nm(e.theme.primaryColor)),");}&:focus{outline:none;}"),sm=({locales:e=[],selectedLocale:t,onChange:i=()=>{}})=>(0,x.jsx)(rm,{children:(0,x.jsx)(om,{value:null==t?void 0:t.locale,onChange:t=>{const n=t.currentTarget.value,r=e.find((e=>e.locale===n));i(r)},children:e.map((({locale:e,name:t})=>(0,x.jsx)("option",{value:e,children:t},e)))})});var am=i(48801);const lm=(0,w.Ay)("span",{target:"e1p39j031"})("position:relative;top:3px;margin-right:5px;opacity:0.9;svg{path.box{stroke:",(0,w.w4)("iconMuted"),";}}"),cm=(0,w.Ay)("div",{target:"e1p39j030"})("padding-top:8px;a{color:",(0,w.w4)("textMuted"),";margin:0 8px;font-size:14px;line-height:20px;&:hover{color:",(e=>e.theme.primaryColor),";svg{path.box{stroke:",(e=>e.theme.primaryColor),";}path.arrow{fill:",(e=>e.theme.primaryColor),";}}}}"),dm=({publicUrl:e})=>(0,x.jsx)(cm,{children:(0,x.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:[(0,x.jsx)(lm,{children:(0,x.jsx)(am.A,{})}),(0,Ne.Tl)("open_article_in_help_center")]})});const pm=e=>{const{article:{reactionsReply:t},onReactionSelect:i}=e;return(0,x.jsx)(mh.dz,{children:(0,x.jsx)(Es.A,Object.assign({},t,{prompt:(0,Ne.Tl)("article_question"),onReactionSelect:i}))})};const{assign:um}=Object,hm=(0,r.Ng)(((e,t)=>{const{hideReactions:i}=t,n=(0,er._9)(e);return{article:n,articleFromHomeScreenSuggestions:(0,er.zO)(e),shouldArticleFadeIn:(0,er.Wm)(e),allowNewConversationAutoReaction:(0,W.Sl)(e),shouldArticleSkeletonFadeIn:(0,er.th)(e),appColor:(0,W.Eu)(e),transitioningBack:e.article.transitioningBack,hash:e.article.hash,selectedArticleLocale:e.article.articleLocale,hideReactions:i,helpCenterSession:Va(e)||(null==n?void 0:n.alexandriaData)}}),(e=>({onReactionSelect:(t,i,n,r)=>{e((0,Te.TO)(vt.Ay,t,r,i,n))},onLoad:()=>{e((0,Te.OQ)())},onArticleLocaleChange:t=>e((0,Te.Md)(t))})),((e,t,i)=>{const n=um({},e,t,i),{article:r,onReactionSelect:o}=n,s=r&&r.id,a=r&&r.contentId,l=r&&r.helpCenterId;return um(n,{onReactionSelect:o.bind(null,s,a,l)})}))((function(e){var t;const{article:i,articleFromHomeScreenSuggestions:n,shouldArticleFadeIn:r,onLoad:s,allowNewConversationAutoReaction:a,shouldArticleSkeletonFadeIn:l,appColor:c,transitioningBack:p,hash:u,onArticleLocaleChange:m,selectedArticleLocale:f,hideReactions:y,helpCenterSession:b}=e,[w,j]=(0,v.useState)(!1),[k,A]=(0,v.useState)(!1),[C,S]=(0,v.useState)(0),[T,_]=(0,v.useState)(!1),[E,N]=(0,v.useState)(!1),[B,I]=(0,v.useState)(null),[R,P]=(0,v.useState)(0),M=function(e){const{pathname:t}=(0,o.useLocation)(),i="/help"===t,n=(0,h.GV)(Ha.JG),r=(0,h.GV)(Ha.tc),s=(0,h.GV)(Ha.qs);return e?"suggested_article":i?"search_browse":n?"home_screen":r?"conversation":s?"checklist":"search_browse"}(n),O=(0,aa.A)("viewInHelpCenterButton"),H="search_browse"===M||O,D=(0,h.jL)(),L=(0,h.GV)((e=>e.article.isLoaded));(0,v.useEffect)((()=>{L||N(!1)}),[L]);const V=(0,v.useCallback)((e=>{_(!0),e===Wh.ALEXANDRIA_LOADED&&N(!0),s()}),[_,s]),F=(0,v.useCallback)((()=>{r||V()}),[r,V]);(0,em.A)(F,4e3);const q=e=>{const t=e>0,i=e>C;k!==t&&A(t),w!==i&&j(i)},G=(0,v.useRef)(null),U=(0,v.useRef)(null),$=(0,v.useRef)(null),W=(0,v.useRef)(null),K=(0,xa.Z)(null==i?void 0:i.id);if((0,v.useEffect)((()=>{K===(null==i?void 0:i.id)&&(null==f?void 0:f.url)===(null==i?void 0:i.url)||(A(!1),j(!1),P(0))}),[i,K,f]),(0,v.useEffect)((()=>{var e;null==B||B.scroll({top:R}),null==(e=$.current)||null==(e=e.scrollable)||null==e.scroll||e.scroll({top:R})}),[B,R,$]),!i)return null;const{url:Y,reactionsReply:X}=i,J=!!X&&!(0,g.z)(),Z=a&&2===(null==X?void 0:X.reactionIndex),Q=l&&!r;return(0,x.jsx)(mh.Kj,{children:(0,x.jsx)(z.F,{children:(0,x.jsx)(z.B1,{classNames:"",timeout:250,nodeRef:G,children:(0,x.jsxs)(mh.q,{ref:G,children:[(0,x.jsx)(Eh,{articleIsScrolled:w,showTitle:w,transitioningBack:p}),Q&&(0,x.jsx)(Uh,{}),(0,x.jsx)(z.B1,{in:!p,classNames:"intercom-search-browse-slide-right",timeout:100,mountOnEnter:!0,unmountOnExit:!0,onExited:()=>{D((0,Te.rm)(vt.Ay))},nodeRef:U,children:(0,x.jsx)(mh.n2,{show:r,ref:U,children:(0,x.jsxs)(su.A,{isInsideModal:!1,onScroll:e=>q(e.target.scrollTop),ref:$,onScrollable:e=>{I(e)},children:[(0,x.jsx)(Xh,{show:!w,title:i.title,onHeightChange:S}),(0,x.jsxs)("div",{style:{flexGrow:1,marginBottom:"15px",position:"relative"},children:[!E&&(0,x.jsx)(Uh,{}),(0,x.jsx)(Kh,{helpCenterSession:b,title:i.title,url:Y,hash:u,onLoad:V,appColor:c,suggestedArticle:n,onSetScrollPosition:e=>{var t;q(e),null==B||B.scroll({top:e}),null==(t=$.current)||t.scrollable.scroll({top:e}),P(e)},navigationSource:M},Y)]}),E&&J&&(0,x.jsxs)(mh._o,{children:[T&&!y?pm(e):null,!y&&(0,x.jsx)(z.B1,{classNames:"search-browse-reaction-followup",in:Z,appear:!0,mountOnEnter:!0,onEntered:()=>{$&&setTimeout((()=>{var e;(0,d.Fp)(null==$||null==(e=$.current)?void 0:e.scrollable)}),150)},timeout:150,nodeRef:W,children:(0,x.jsx)(gh,{ref:W})}),(0,x.jsxs)(mh.cR,{children:[(null==(t=i.available_locales)?void 0:t.length)>1?(0,x.jsx)(sm,{selectedLocale:f||i.available_locales.find((e=>e.url===Y)),locales:i.available_locales,onChange:m}):null,i.publicUrl&&H&&(0,x.jsx)(dm,{publicUrl:i.publicUrl})]})]})]})})})]},Y)},Y)})})}));const mm=(0,w.Ay)("div",{target:"ezwlh9l1"})({name:"vc1hld",styles:"flex:1;display:flex;flex-direction:column;overflow-y:auto"}),gm=(0,w.Ay)("div",{target:"ezwlh9l0"})({name:"r7hikz",styles:"position:absolute;top:0;left:0;right:0"});function xm(){const{height:e}=B();if((0,h.GV)(er.vT))return(0,x.jsx)(fm,{});const t=((0,Vr.x3)()??document).getElementById("intercom-header-placeholder");return(0,x.jsxs)(mm,{children:[t?(0,td.createPortal)((0,x.jsx)(gm,{children:(0,x.jsx)(hh,{})}),t):(0,x.jsx)(gm,{children:(0,x.jsx)(hh,{})}),(0,x.jsx)("div",{style:{minHeight:e}}),(0,x.jsx)(Qu,{})]})}function fm(){return(0,x.jsxs)(mm,{children:[(0,x.jsx)(hh,{}),(0,x.jsx)(Zu,{showArticle:!0,fullHeight:!0,children:(0,x.jsx)(hm,{})})]})}const vm=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(xm,{})});var ym={name:"1lr8nsg",styles:"opacity:1;height:auto"};const bm=(0,w.Ay)("div",{target:"e1feuvn40"})("background:none;position:absolute;display:flex;flex-direction:column;width:100%;top:0;left:0;bottom:0;height:0;opacity:0;z-index:",(0,Bi.fE)(3),";",(e=>e.isSearchBrowseOpen?"transition: opacity 0ms 0ms;":"transition: opacity 300ms 0ms;")," ",(e=>e.isOpen&&ym),";"),wm=()=>{const{isStandalone:e}=(0,h.GV)(er.hb),t=(0,h.GV)(Ee.qZ),i=(0,h.jL)(),[n]=(0,o.useSearchParams)(),r="true"===n.get("hideReactions");return(0,x.jsxs)(bm,{"data-testid":"article-standalone-wrapper",isSearchBrowseOpen:t,isOpen:Boolean(e),children:[(0,x.jsx)(Tr.Content,{children:(0,x.jsx)(Tr.TitleArea,{backDirection:"left",onBack:()=>i((0,Te.IP)()),showExpandButton:!0})}),(0,x.jsx)(hm,{hideReactions:r})]})},jm=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(wm,{})});function km(){const e=gc(p.ND),t=(0,o.useNavigate)();return(0,x.jsx)(_r,{title:e,onBack:()=>t(-1),showExpandButton:!0,isSubView:!0})}var Am=i(74884);const Cm=e=>e.newsItem,Sm=(0,sr.Mz)(Cm,(e=>e.activeNewsItem)),Tm=(0,sr.Mz)(Cm,(e=>e.detailsFetchingStatus));var _m=i(93949),Em=i(68239),Nm=i(37341);function Bm({newsItem:e}){var t;return(0,x.jsx)(_m.d,{children:(0,x.jsxs)(ct.jt,{children:[(0,x.jsx)(ct.Jr,{children:e.author&&(0,x.jsx)(Nm.h,{author:e.author,size:24})}),(0,x.jsxs)(Em.$z,{children:[(0,x.jsxs)(Em.Z,{children:[(0,x.jsx)(Em.v6,{children:`${(0,Ne.Tl)("shared_by")}`}),(0,x.jsx)(Em.Bi,{children:null==(t=e.author)?void 0:t.firstName})]}),(0,x.jsx)("span",{"aria-hidden":!0,children:"•"}),(0,x.jsx)("div",{children:(0,x.jsx)(Em.v6,{children:(0,hi.iw)(null==e?void 0:e.publishedAt)})})]})]})})}function Im(){return(0,x.jsxs)(Ih,{children:[(0,x.jsx)(Ph,{}),(0,x.jsx)(zh,{}),(0,x.jsxs)(Mh,{children:[(0,x.jsx)(Hh,{}),(0,x.jsxs)(Dh,{children:[(0,x.jsx)(Lh,{}),(0,x.jsx)(Vh,{})]})]}),(0,x.jsxs)(Oh,{children:[(0,x.jsx)(Fh,{}),(0,x.jsx)(qh,{}),(0,x.jsx)(Gh,{})]})]})}function Rm(){const e=(0,h.GV)(Tt.V_),t=(0,h.GV)(Tt.aP),i=(0,h.jL)();(0,v.useEffect)((()=>{t&&(e||i((0,Et.c6)()))}),[i,t,e])}function Pm(){var e;const t=(0,h.jL)(),i=(0,o.useLocation)(),{state:n}=i,r=(0,v.useRef)(null),[s,a]=(0,v.useState)(!1),[l,c]=(0,v.useState)(!1),d=(0,o.useParams)(),p=(0,h.GV)(wr.l),u=(0,h.GV)(Sm),m=(0,h.GV)(Tm);if((0,v.useEffect)((()=>{const e=parseInt(d.newsItemId||"0"),i=u&&u.blocks;(e!==(null==u?void 0:u.id)||0!==e&&!i)&&t(bt(e))}),[t,d.newsItemId,u]),Ce({object:ke.uV,place:ke.mM,context:null==n?void 0:n.navigatingFrom,metadata:{news_item_id:null==u?void 0:u.id},sendMetricCondition:!!u}),Rm(),!u||m===Pt.n5.failure)return null;const g=m===Pt.n5.success&&(null==(e=u.reactionsReply)?void 0:e.reactionSet)&&u.reactionsReply.reactionSet.length>0;return(0,x.jsx)(Am.X_,{children:(0,x.jsxs)(su.A,{isInsideModal:!1,onScroll:e=>{const t=null!=u&&u.coverImageUrl?350:120,i=e.target,n=i.scrollTop>0,r=i.scrollTop>t;l!==n&&c(n),s!==r&&a(r)},ref:r,children:[(0,x.jsxs)(Am.AK,{children:[u.coverImageUrl&&(0,x.jsx)(Am.mL,{children:(0,x.jsx)("img",{src:u.coverImageUrl,alt:u.title})}),(0,x.jsxs)(Am.i3,{isExpanded:p,children:[(0,x.jsx)(At,{newsItem:u}),(0,x.jsx)(Am.AM,{children:u.title}),(0,x.jsx)(Bm,{newsItem:u}),(0,x.jsx)(Am.GG,{children:u.blocks?(0,x.jsx)(Pe.A,{animationKey:"news-items",duration:300,children:(0,x.jsx)(Di.A,{blocks:u.blocks,onLinkClick:e=>{t((0,Te.NQ)(e,!1))}})}):(0,x.jsx)(Im,{})})]})]}),g&&(0,x.jsx)(Am.yL,{children:(0,x.jsx)(Es.A,Object.assign({},u.reactionsReply,{prompt:`${(0,Ne.Tl)("how_would_you_rate_this")}`,onReactionSelect:e=>{t(wt(u.id,e))}}))})]})},"please don't change")}const zm=()=>(0,x.jsx)(V,{header:(0,x.jsx)(km,{}),children:(0,x.jsx)(Pm,{})});var Mm=i(98767);const Om=(0,w.Ay)("div",{target:"e2tswn72"})({name:"1jqm16y",styles:"text-align:center;align-items:center;margin:32px 16px 16px;align-self:center;display:flex;flex-direction:column;gap:8px"}),Hm=(0,w.Ay)("div",{target:"e2tswn71"})("width:40px;height:40px;border-radius:50%;background:",(0,w.w4)("containerNeutral"),";text-align:center;",Mm.N.className,"{margin-top:10px;}svg{width:21;height:21;path{fill:",(0,w.w4)("installGrey1"),";}}"),Dm=(0,w.Ay)("div",{target:"e2tswn70"})("display:flex;color:",(0,w.w4)("textMuted"),";font-weight:400;font-size:16px;line-height:20px;");function Lm(){return(0,x.jsxs)(Om,{children:[(0,x.jsx)(Hm,{children:(0,x.jsx)(wp.A,{})}),(0,x.jsx)(Dm,{children:`${(0,Ne.Tl)("you_are_all_up_to_date")}`})]})}const Vm=(0,w.Ay)("div",{target:"ehen3gr4"})("display:flex;flex-direction:column;max-height:100%;width:100%;height:100%;z-index:",(0,Bi.fE)(3),";overflow:hidden;"),Fm=(0,w.Ay)("div",{target:"ehen3gr3"})({name:"1ei7lwx",styles:"position:relative;flex:1;display:flex;overflow:hidden"}),qm=(0,w.Ay)("div",{target:"ehen3gr2"})({name:"1mupyrl",styles:"margin-bottom:62px"}),Gm=(0,w.Ay)("div",{target:"ehen3gr1"})("display:flex;flex-direction:column;overflow:hidden;padding:20px ",(0,w.w4)("globalHorizontalPadding"),"px;",pt.className,"{margin-top:10px;}"),Um=(0,w.Ay)("div",{target:"ehen3gr0"})({name:"1s9ici2",styles:"display:flex;justify-content:center;align-items:center;padding-top:20px"}),$m=(0,w.Ay)("div",{target:"e174rxpv1"})("margin:16px ",(({theme:e})=>e.globalHorizontalPadding+4),"px 0px;display:flex;"),Wm=(0,w.Ay)("div",{target:"e174rxpv0"})("display:flex;flex-direction:column;flex:1;color:",(0,w.w4)("textDefault"),";h2{font-weight:600;font-size:16px;line-height:24px;}sub{font-weight:400;font-size:14px;line-height:21px;}");function Km(){const e=(0,h.GV)((e=>e.app.name));return(0,x.jsxs)($m,{children:[(0,x.jsxs)(Wm,{children:[(0,x.jsx)("h2",{children:(0,Ne.Tl)("news_latest_title")}),(0,x.jsx)("sub",{children:(0,Ne.Tl)("news_latest_subtitle",{team_name:e||""})})]}),(0,x.jsx)(we,{avatarSize:36,avatarPixelsToShow:30,maxAdmins:3})]})}var Ym,Xm,Jm;function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zm.apply(null,arguments)}const Qm=e=>v.createElement("svg",Zm({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32"},e),Ym||(Ym=v.createElement("mask",{id:"77fea",fill:"#fff"},v.createElement("path",{fillRule:"evenodd",d:"M13.403 18.667a.736.736 0 0 0-.736.736v7.573a3.024 3.024 0 0 1-5.941.796l-2.237-8.2c-.243-.893-.911-1.59-1.667-2.125A6.667 6.667 0 0 1 6.666 5.333h7.618a1 1 0 0 0 .55-.165L20.6 1.365a1.333 1.333 0 0 1 2.068 1.112v19.68A1.333 1.333 0 0 1 20.6 23.27l-6.791-4.482a.74.74 0 0 0-.405-.121m12.889-.567a.85.85 0 0 0 1.268 1.133A10.83 10.83 0 0 0 30.318 12c0-2.777-1.043-5.313-2.758-7.233A.85.85 0 0 0 26.292 5.9a9.12 9.12 0 0 1 2.326 6.1c0 2.344-.879 4.48-2.326 6.1",clipRule:"evenodd"}))),Xm||(Xm=v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.403 18.667a.736.736 0 0 0-.736.736v7.573a3.024 3.024 0 0 1-5.941.796l-2.237-8.2c-.243-.893-.911-1.59-1.667-2.125A6.667 6.667 0 0 1 6.666 5.333h7.618a1 1 0 0 0 .55-.165L20.6 1.365a1.333 1.333 0 0 1 2.068 1.112v19.68A1.333 1.333 0 0 1 20.6 23.27l-6.791-4.482a.74.74 0 0 0-.405-.121m12.889-.567a.85.85 0 0 0 1.268 1.133A10.83 10.83 0 0 0 30.318 12c0-2.777-1.043-5.313-2.758-7.233A.85.85 0 0 0 26.292 5.9a9.12 9.12 0 0 1 2.326 6.1c0 2.344-.879 4.48-2.326 6.1",clipRule:"evenodd"})),Jm||(Jm=v.createElement("path",{fill:"currentColor",d:"m6.726 27.772 1.64-.448zm-2.237-8.2 1.64-.448zm-1.667-2.125.982-1.388zM14.834 5.168l-.936-1.419zM20.6 1.365l-.936-1.42zm0 21.905.936-1.42zm-6.791-4.482-.936 1.42zm12.552.513 1.132-1.268zm-.068-1.2-1.268-1.133zm1.268 1.132L26.292 18.1zm0-14.466 1.268-1.132zm-1.2-.068 1.132 1.268zm-.068 1.2-1.268 1.133zM14.367 19.404a.964.964 0 0 1-.964.964v-3.4a2.436 2.436 0 0 0-2.436 2.436zm0 7.573v-7.573h-3.4v7.573zM9.643 31.7a4.724 4.724 0 0 0 4.724-4.724h-3.4c0 .731-.593 1.324-1.324 1.324zm-4.557-3.481a4.724 4.724 0 0 0 4.557 3.48v-3.4c-.597 0-1.12-.399-1.277-.975zm-2.237-8.2 2.237 8.2 3.28-.895-2.237-8.2zm-1.008-1.183c.61.43.914.836 1.008 1.183l3.28-.895c-.392-1.44-1.424-2.427-2.325-3.065zM-1.7 12a8.36 8.36 0 0 0 3.54 6.836l1.964-2.777A4.96 4.96 0 0 1 1.7 12zm8.367-8.366A8.367 8.367 0 0 0-1.7 12h3.4a4.967 4.967 0 0 1 4.967-4.966zm7.617 0H6.667v3.4h7.617zm-.386.115a.7.7 0 0 1 .386-.115v3.4a2.7 2.7 0 0 0 1.487-.447zm5.765-3.803-5.765 3.803 1.873 2.838 5.764-3.804zm4.704 2.531c0-2.416-2.687-3.862-4.704-2.531l1.872 2.837a.367.367 0 0 1-.568-.306zm0 19.68V2.477h-3.4v19.68zm-4.704 2.532c2.017 1.33 4.704-.116 4.704-2.532h-3.4c0-.293.325-.467.568-.306zm-6.791-4.482 6.79 4.482 1.873-2.838-6.79-4.481zm.53.16a.97.97 0 0 1-.53-.16l1.872-2.837a2.44 2.44 0 0 0-1.341-.403zm14.09-2.334c.35.313.38.85.068 1.2l-2.536-2.265a2.55 2.55 0 0 0 .203 3.6zm-1.2.067a.85.85 0 0 1 1.2-.067l-2.265 2.536a2.55 2.55 0 0 0 3.6-.204zm2.326-6.1c0 2.344-.879 4.48-2.326 6.1l2.536 2.265A12.52 12.52 0 0 0 32.018 12zm-2.326-6.1a9.12 9.12 0 0 1 2.326 6.1h3.4c0-3.21-1.208-6.146-3.19-8.365zm1.2.067a.85.85 0 0 1-1.2-.067l2.536-2.265a2.55 2.55 0 0 0-3.6-.203zm.068-1.2a.85.85 0 0 1-.068 1.2l-2.265-2.535a2.55 2.55 0 0 0-.203 3.6zM30.318 12c0-2.777-1.043-5.313-2.758-7.233l-2.536 2.265A7.42 7.42 0 0 1 26.918 12zm-2.758 7.233A10.82 10.82 0 0 0 30.318 12h-3.4c0 1.91-.714 3.647-1.894 4.968z",mask:"url(#77fea)"})));const eg=(0,w.Ay)("div",{target:"ehyu2s53"})({name:"46whl4",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:330px;height:100%;margin:0 auto"}),tg=(0,w.Ay)(Qm,{target:"ehyu2s52"})("width:32px;height:32px;color:",(0,w.w4)("iconDefault"),";"),ig=(0,w.Ay)("h2",{target:"ehyu2s51"})("margin:20px 0;font-size:18px;line-height:1.33;font-weight:600;color:",(0,w.w4)("textDefault"),";"),ng=(0,w.Ay)("h3",{target:"ehyu2s50"})("font-size:14px;line-height:1.43;text-align:center;color:",(0,w.w4)("textDefault"),";"),rg=()=>(0,x.jsxs)(eg,{children:[(0,x.jsx)(tg,{}),(0,x.jsx)(ig,{children:(0,Ne.Tl)("news_empty_title")}),(0,x.jsx)(ng,{children:(0,x.jsx)("p",{children:(0,Ne.Tl)("check_later_for_updates")})})]});function og(){const[e,t]=(0,v.useState)(1),i=(0,h.jL)(),n=(0,h.GV)(Tt.AL),r=(0,h.GV)(Tt.V_),o=(0,h.GV)(Tt.u9),{loading:s,newsItems:a}=Nt(),l=(null==a?void 0:a.length)||0;Rm(),Ce({object:ke.aq,place:ke.mM,sendMetricCondition:l>0});const c=(0,h.GV)(Tt.VC),d=(0,v.useCallback)((n=>{const r=n.target;r.scrollHeight-r.scrollTop<r.clientHeight+70&&!s&&c&&e!==c&&(t(c),i((0,Et.Nr)(c)))}),[i,s,c,e]);if(!(s||a&&0!==a.length))return(0,x.jsx)(rg,{});const p=s&&0===l,u=s&&l>0;return(0,x.jsx)(Vm,{children:(0,x.jsx)(Fm,{children:(0,x.jsx)(su.A,{isInsideModal:!1,flex:!0,dynamicChildrenHeight:!0,onScroll:d,children:(0,x.jsx)(au,{hideBorder:!0,children:(0,x.jsxs)(qm,{children:[(0,x.jsx)(Km,{}),(0,x.jsxs)(Gm,{children:[p?(0,x.jsx)(y.A,{}):null==a?void 0:a.map((e=>{const t=o&&!r&&!_t(e,n);return(0,x.jsx)(St,{newsItem:e,isUnread:!!t,renderingContext:ke.V},`news-item-${e.id}`)})),u&&(0,x.jsx)(Um,{children:(0,x.jsx)(y.A,{inline:!0})}),!s&&(0,x.jsx)(Lm,{})]})]})})})})})}function sg(){return(0,x.jsx)(og,{})}const ag=()=>(0,x.jsx)(V,{header:(0,x.jsx)(xc,{space:p.ND}),children:(0,x.jsx)(sg,{})});const lg=(0,w.Ay)("div",{target:"e6hpzjp1"})({name:"vt6su8",styles:"display:flex;justify-content:center;align-items:center;padding:20px 0"}),cg=(0,w.Ay)("div",{target:"e6hpzjp0"})({name:"13ubd8d",styles:"margin:10px"}),dg=({ticketsPortalUrl:e,tickets:t,loading:i,onTicketClick:n,onTicketsScroll:r})=>{const{whiteBackground:o}=B(),s=e?{href:e,label:(0,Ne.Tl)("ticket_portal_card_title"),subLabel:(0,Ne.Tl)("ticket_portal_card_link_title")}:null;return(0,x.jsx)(ho.A,{errorText:"Something went wrong loading your tickets",align:"center",style:{marginTop:"20px",flex:1},children:(0,x.jsxs)(su.A,{isInsideModal:!1,flex:!0,dynamicChildrenHeight:!0,onScroll:r,showScrollingBorder:o,children:[s&&(0,x.jsx)(cg,{onClick:()=>(0,je.A5)("clicked","tickets_portal_link","messenger",ke.wU,{tickets_portal_url:e}),children:(0,x.jsx)(Ni,{boldLabel:!0,linkSize:"medium",listPadding:0,links:[s]})}),(0,x.jsxs)(oe.A,{children:[t.map((e=>(0,x.jsx)(un,{title:e.name,publicTicketId:e.publicTicketId,typeName:e.ticketTypeName,status:e.status,statusLabel:e.statusLabel,unread:!1===e.read,onClick:()=>n(e.id),useGlobalHorizontalPadding:!0},e.id))),i&&(0,x.jsx)(lg,{children:(0,x.jsx)(y.A,{inline:!0})})]})]})})},pg=()=>{const e=(0,o.useNavigate)(),t=(0,h.GV)(gn.e_),i=(0,h.GV)(gn.Qt),n=(0,h.GV)(gn.tK),[r,s]=(0,v.useState)(1),a=(0,h.GV)(gn.$L),l=(0,h.jL)(),c=(0,v.useCallback)((e=>{const t=e.target;t.scrollHeight-t.scrollTop<t.clientHeight+70&&!n&&a&&r!==a&&(s(a),l((0,qp.Ip)(a)))}),[l,n,a,r]);return(0,x.jsx)(dg,{ticketsPortalUrl:t,tickets:i,loading:n,onTicketClick:t=>{e(`/tickets/details/${t}`,{state:{navigatingFrom:ke.wU}})},onTicketsScroll:c})},ug=e=>async()=>{const t=e.getState();if(t.tickets.isFetching||t.tickets.isFetched)return null;return(0,e.dispatch)((0,qp.Ip)()),null},hg=()=>(0,x.jsx)(V,{header:(0,x.jsx)(xc,{space:p.rK}),children:(0,x.jsx)(pg,{})}),mg=e=>async({params:t})=>{var i;const n=t.ticketId,r=e.getState();return n?(null!=(i=r.tickets.dataById[n])&&i.isFetching||e.dispatch((0,qp.rs)(n)),null):null},gg=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Rc,{}),children:(0,x.jsx)(Up,{})});var xg;function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fg.apply(null,arguments)}const vg=e=>v.createElement("svg",fg({xmlns:"http://www.w3.org/2000/svg",width:33,height:32,fill:"none",viewBox:"0 0 33 32"},e),xg||(xg=v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M26.3 21.737V6.262A4.06 4.06 0 0 0 22.237 2.2H6.764A4.063 4.063 0 0 0 2.7 6.262v15.475A4.06 4.06 0 0 0 6.763 25.8h15.475a4.06 4.06 0 0 0 4.062-4.063m-6.705-11.04c.45.45.45 1.178 0 1.627l-5.417 5.417a1.15 1.15 0 0 1-1.627 0l-2.709-2.708a1.151 1.151 0 1 1 1.628-1.628l1.894 1.894 4.603-4.602a1.15 1.15 0 0 1 1.628 0m8.869 2.168a1.151 1.151 0 1 1 2.302 0v9.276a7.92 7.92 0 0 1-7.922 7.922h-9.48a1.151 1.151 0 1 1 0-2.302h9.48a5.62 5.62 0 0 0 5.62-5.62z",clipRule:"evenodd"})));const yg=(0,w.Ay)("div",{target:"e1q1owy93"})({name:"46whl4",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:330px;height:100%;margin:0 auto"}),bg=(0,w.Ay)(vg,{target:"e1q1owy92"})("width:33px;height:33px;color:",(0,w.w4)("iconDefault"),";"),wg=(0,w.Ay)("h2",{target:"e1q1owy91"})("margin:20px 0;font-size:18px;line-height:1.33;font-weight:600;color:",(0,w.w4)("textDefault"),";"),jg=(0,w.Ay)("h3",{target:"e1q1owy90"})("font-size:14px;line-height:1.43;text-align:center;color:",(0,w.w4)("textMuted"),";"),kg=()=>(0,x.jsxs)(yg,{"data-testid":"checklist-empty-state",children:[(0,x.jsx)(bg,{}),(0,x.jsx)(wg,{children:(0,Ne.Tl)("no_tasks")}),(0,x.jsxs)(jg,{children:[(0,x.jsx)("p",{children:(0,Ne.Tl)("no_tasks_available_currently")}),(0,x.jsx)("p",{children:(0,Ne.Tl)("check_later_for_updates")})]})]});const Ag=(0,w.Ay)("div",{target:"ep9ja670"})({name:"1878o4o",styles:"display:grid;gap:20px"});const Cg=(0,w.Ay)("div",{target:"exti8xz7"})("padding:16px 20px;box-shadow:",(0,w.w4)("shadowMedium"),";cursor:pointer;border-radius:12px;border:1px solid ",(0,w.w4)("borderNeutral"),";&:hover h2{color:",(0,w.w4)("linkColor"),";}background-color:",(({isComplete:e})=>e?(0,w.w4)("containerNeutral"):(0,w.w4)("containerBaseNeutral")),";"),Sg=(0,w.Ay)("div",{target:"exti8xz6"})({name:"198cu3l",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"}),Tg=(0,w.Ay)("h2",{target:"exti8xz5"})("font-size:14px;font-weight:600;line-height:21px;color:",(0,w.w4)("textDefault"),";"),_g=(0,w.Ay)("p",{target:"exti8xz4"})("font-size:14px;font-weight:400;line-height:20px;margin-bottom:12px;color:",(0,w.w4)("textDefault"),";"),Eg=(0,w.Ay)("div",{target:"exti8xz3"})("margin-bottom:",(({isComplete:e})=>e?"0px":"12px"),";"),Ng=(0,w.Ay)("div",{target:"exti8xz2"})("font-size:14px;font-weight:400;line-height:20px;color:",(0,w.w4)("textDefault"),";"),Bg=(0,w.Ay)("span",{target:"exti8xz1"})({name:"16ceglb",styles:"font-weight:600"}),Ig=(0,w.Ay)("div",{target:"exti8xz0"})({name:"1r5gb7q",styles:"display:inline-block"}),Rg=({title:e,subtitle:t,checklistStatus:i,checklistTasks:n,completedTasks:r,estimatedTimeRemaining:o,nextStepTitle:s,onClick:a})=>{const l=r>0?"Next step":"First step",c=i===Xi.vb.Complete&&n===r,d=i===Xi.vb.New;return(0,x.jsxs)(Cg,{isComplete:c,onClick:a,children:[(0,x.jsxs)(Sg,{children:[(0,x.jsx)(Tg,{children:(0,x.jsx)(Di.A,{blocks:e})}),(0,x.jsx)(ae.Ay,{type:d?"UnreadIndicator":"RightChevronColorable",color:d?void 0:"linkColor"})]}),t&&!c&&(0,x.jsx)(_g,{children:(0,x.jsx)(Di.A,{blocks:t})}),(0,x.jsx)(Eg,{isComplete:c,children:(0,x.jsx)(Wi.A,{checklistTasks:n,completedChecklistTasks:r,estimatedTimeRemaining:o,condensed:!0,prefillProgressIfEmpty:!0})}),s&&(0,x.jsxs)(Ng,{children:[(0,x.jsxs)(Bg,{children:[l,": "]}),(0,x.jsx)(Ig,{children:(0,x.jsx)(Di.A,{blocks:s})})]})]})},Pg=({checklist:e,onClick:t})=>{const i=(0,Ji.Sg)(e),n=(0,Ji.zE)(i),r=(0,Ji.fp)(i),o=(0,Ji.M2)(r),s=r.reduce(((e,t)=>e+t.estimatedTime),0);return(0,x.jsx)(Rg,{title:e.titleBlocks,subtitle:e.subtitleBlocks,checklistStatus:e.status,checklistTasks:i.length,completedTasks:n.length,estimatedTimeRemaining:s,nextStepTitle:null==o?void 0:o.titleBlocks,onClick:t})},zg=({checklists:e,onChecklistClick:t})=>(0,x.jsx)("div",{"data-testid":"checklists-home",children:(0,x.jsx)(Ag,{children:e.map((e=>(0,x.jsx)(Pg,{checklist:e,onClick:()=>t(e.checklistProgressId)},e.id)))})});const Mg=(0,w.Ay)("div",{target:"e1g75ecv1"})({name:"1e876fv",styles:"display:flex;flex-direction:column;width:100%;overflow-y:auto"}),Og=(0,w.Ay)("div",{target:"e1g75ecv0"})("box-sizing:border-box;padding:30px ",(({theme:e})=>e.globalHorizontalPadding),"px;height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch;");var Hg=function(e){return e[e.SINGLE_CHECKLIST=0]="SINGLE_CHECKLIST",e[e.MULTIPLE_CHECKLISTS=1]="MULTIPLE_CHECKLISTS",e[e.NO_CHECKLIST=2]="NO_CHECKLIST",e}(Hg||{});const Dg=()=>{const[e,t]=(0,v.useState)(),i=(0,h.GV)(Ki.RK),n=(0,h.jL)(),r=(0,v.useCallback)((e=>{n((0,Yi.tB)(e))}),[n]),o=(0,v.useCallback)((()=>{n((0,Yi._Y)()),n((0,Yi.ow)())}),[n]);return(0,v.useEffect)((()=>{if(e===Hg.SINGLE_CHECKLIST){const{checklistProgressId:e}=i[0];(0,Ji.C2)(`Showing single checklist progress ID: ${e}`),r(e)}}),[i,r,e]),(0,v.useEffect)((()=>{1===i.length&&t(Hg.SINGLE_CHECKLIST),i.length>1&&t(Hg.MULTIPLE_CHECKLISTS),0===i.length&&t(Hg.NO_CHECKLIST)}),[i.length]),(0,v.useEffect)((()=>{o()}),[o]),(0,x.jsx)(Mg,{children:(0,x.jsxs)(Og,{children:[e===Hg.MULTIPLE_CHECKLISTS&&(0,x.jsx)(zg,{checklists:i,onChecklistClick:r}),e===Hg.NO_CHECKLIST&&(0,x.jsx)(kg,{})]})})},Lg=()=>(0,x.jsx)(V,{header:(0,x.jsx)(xc,{space:p.Ul}),children:(0,x.jsx)(Dg,{})}),Vg=()=>{const e=(0,o.useNavigate)(),t=(0,o.useLocation)(),i=(0,h.jL)(),n=(0,h.GV)(Ki.J3),r=(0,h.GV)(m.V$),s=(0,m.ke)(t.pathname),a=gc(p.Ul),l=n||r||s,c=l?"":a;return(0,x.jsx)(Tr.Content,{whiteBackground:!1,showBorder:!0,children:(0,x.jsx)(Tr.TitleArea,{title:c,onBack:l?()=>{i((0,Yi.$1)()),e(r&&!n?p.Zh.path:-1)}:void 0})})};var Fg=i(97330);const qg=(0,w.Ay)("div",{target:"eoxpqij3"})("padding:24px ",(({theme:e})=>e.globalHorizontalPadding+8),"px 14px;background:",(0,w.w4)("containerBaseNeutral"),";z-index:10;"),Gg=(0,w.Ay)("h2",{target:"eoxpqij2"})("font-size:24px;font-weight:700;line-height:1.5;color:",(0,w.w4)("textDefault"),";text-align:center;"),Ug=(0,w.Ay)("div",{target:"eoxpqij1"})("font-size:16px;font-weight:400;line-height:1.5;color:",(0,w.w4)("textDefault"),";text-align:center;"),$g=(0,w.Ay)("div",{target:"eoxpqij0"})({name:"g2fy0f",styles:"display:flex;justify-content:center;margin-top:12px"});const Wg=(0,w.Ay)("div",{target:"e1womzdd2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Kg=(0,w.Ay)("div",{target:"e1womzdd1"})({name:"1d7rrwu",styles:"display:inline-block;margin-right:8px;vertical-align:middle"}),Yg=(0,w.Ay)("div",{target:"e1womzdd0"})("font-size:14px;display:inline-block;vertical-align:middle;color:",(0,w.w4)("textMuted"),";line-height:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;&.lastUpdated{flex:none;}"),Xg=(e,t)=>t?e.name:e.firstName,Jg=(e,t)=>"team"!==e.type?(0,Ne.Tl)("from_app",{app_name:t}):null,Zg=({sender:e,avatarMargin:t,linkingText:i,showFullName:n,lastUpdatedAt:r,appName:o})=>(0,x.jsxs)(Wg,{children:[(0,x.jsx)(Kg,{style:{marginRight:t||8},children:(0,x.jsx)(Nm.h,{author:e})}),(0,x.jsxs)(Yg,{children:[i&&`${i}`," ",Xg(e,n),o&&` ${Jg(e,o)}`]}),Boolean(r)&&(0,x.jsxs)(Yg,{className:"lastUpdated",children:[(0,x.jsxs)("span",{style:{whiteSpace:"pre-wrap"},"aria-hidden":!0,children:[" ","•"," "]}),(0,x.jsx)("span",{children:(0,hi.iw)(r)})]})]}),Qg=(0,sr.Mz)((e=>e.app),(({name:e})=>({name:e}))),ex=({title:e,subtitle:t,sender:i})=>{const{name:n=""}=(0,h.GV)(Qg);return(0,x.jsxs)(qg,{children:[(0,x.jsx)(Gg,{children:(0,x.jsx)(Di.A,{blocks:e})}),t&&(0,x.jsx)(Ug,{children:(0,x.jsx)(Di.A,{blocks:t})}),i&&(0,x.jsx)($g,{children:(0,x.jsx)(Zg,{sender:i,appName:n})})]})};var tx;function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ix.apply(null,arguments)}const nx=e=>v.createElement("svg",ix({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),tx||(tx=v.createElement("path",{fill:"currentColor",d:"m14.884 3.95-.951-.86a.35.35 0 0 0-.495.026l-7.236 8.012-3.757-3.393a.35.35 0 0 0-.495.025l-.86.951a.35.35 0 0 0 .026.495l4.96 4.48a.34.34 0 0 0 .17.082.4.4 0 0 0 .097.008.35.35 0 0 0 .243-.115l8.324-9.217a.35.35 0 0 0-.026-.494"})));const rx="200ms",ox={name:"14z3k8d",styles:"position:absolute;top:0;right:0;bottom:0;left:0;margin:auto"},sx=(0,w.Ay)("div",{target:"euryngc5"})("display:flex;align-items:baseline;",(({theme:e,expanded:t})=>t&&(0,w.AH)(lx.className,"{color:",e.textDefault,";font-weight:600;}",cx.className,"{transform:scale(-1);color:",e.checklistMainColor,";}",ax.className,"{background:",e.disabledButtonBackground,";color:",e.checklistMainColor,";}"))," ",(({theme:e,completed:t})=>t&&(0,w.AH)(dx.className,"{opacity:0;visibility:hidden;}",px.className,"{opacity:1;visibility:visible;}",ax.className,"{background:",e.containerEmphasisNeutral,";color:",e.textDefault,";}"))," ",(({theme:e,expanded:t,completed:i})=>t&&i&&(0,w.AH)(cx.className,"{transform:scale(-1);color:",e.iconMutedExtra,";}")),";"),ax=(0,w.Ay)("div",{target:"euryngc4"})("position:relative;display:flex;justify-content:center;align-items:center;flex:0 0 32px;width:32px;height:32px;border-radius:50px;background:",(0,Z.vf)((0,w.w4)("disabledButtonBackground"),.1),";color:",(0,w.w4)("iconMuted"),";"),lx=(0,w.Ay)("h3",{target:"euryngc3"})("flex:1;padding:0 8px;font-weight:400;font-size:14px;line-height:1.42;color:",(0,w.w4)("textDefault"),";"),cx=(0,w.Ay)("span",{target:"euryngc2"})("position:relative;top:4px;width:16px;height:16px;flex:0 0 16px;color:",(0,w.w4)("iconMuted"),";transition:transform ease-in-out ",rx,";"),dx=(0,w.Ay)("span",{target:"euryngc1"})("font-size:14px;font-weight:600;line-height:1;transition:opacity ease-in ",rx,";"),px=(0,w.Ay)(nx,{target:"euryngc0"})(ox," width:16px;height:16px;opacity:0;transition:opacity cubic-bezier(0.53, 1.88, 0.56, 0.65) ",rx,";transition-delay:",rx,";");var ux;function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hx.apply(null,arguments)}const mx=e=>v.createElement("svg",hx({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),ux||(ux=v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.934 5.935a.8.8 0 0 1 1.13 0L8 8.869l2.935-2.934a.8.8 0 0 1 1.13 1.13l-3.5 3.5a.8.8 0 0 1-1.13 0l-3.5-3.5a.8.8 0 0 1 0-1.13",clipRule:"evenodd"}))),gx=({expanded:e,completed:t,title:i,order:n})=>(0,x.jsxs)(sx,{expanded:Boolean(e),completed:t,children:[(0,x.jsxs)(ax,{children:[(0,x.jsx)(dx,{children:n}),(0,x.jsx)(px,{})]}),(0,x.jsx)(lx,{children:i}),(0,x.jsx)(cx,{children:(0,x.jsx)(mx,{})})]});const xx=(0,w.Ay)("div",{target:"e70n5i45"})({name:"1axw7wj",styles:"font-size:14px;font-weight:400;line-height:1.5"}),fx=(0,w.Ay)("div",{target:"e70n5i44"})("display:flex;flex-direction:column;padding-top:8px;padding-bottom:4px;color:",(0,w.w4)("textMuted"),";margin-left:40px;margin-right:15px;img,iframe{max-width:100%;}*+.intercom-block-video{margin-top:8px;}.intercom-block-video+*{margin-top:8px;}*+.intercom-block-image{margin-top:8px;}.intercom-block-image+*{margin-top:8px;}.intercom-block-paragraph{min-height:1.5em;a:not(.intercom-block-button){color:",(0,w.w4)("linkColor"),";text-decoration:underline;&:not(.intercom-block-button):hover{text-decoration:none;color:",(0,w.w4)("linkColorHover"),";}}}"),vx=(0,w.Ay)("div",{target:"e70n5i43"})("padding-top:16px;a:hover,button:hover{",(({theme:e})=>e.isPrimaryColorAsTheme&&(0,w.AH)("border:1px solid ",e.elevation2,";margin:-1px;")),";}"),yx=(0,w.Ay)("div",{target:"e70n5i42"})("border-top:1px solid ",(0,w.w4)("alphaBlack10"),";margin-top:16px;padding-bottom:20px;"),bx=(0,w.Ay)("button",{target:"e70n5i41"})("display:flex;align-items:center;margin-left:40px;margin-bottom:4px;color:",(({isComplete:e})=>e?(0,w.w4)("textMuted"):(0,w.w4)("checklistMainColor")),";"),wx=(0,w.Ay)(nx,{target:"e70n5i40"})({name:"1n33gzm",styles:"width:12px;height:12px;margin-right:8px"}),jx=({id:e,currentChecklist:t,actionType:i,actionContentId:n,actionUrl:r,openActionUrlInNewTab:o,onTaskActionClick:s,customActionButtonText:a,actionContentUrl:l})=>{const c=(0,h.jL)(),d=()=>c((0,Yi.sC)(null==t?void 0:t.id,null==t?void 0:t.checklistProgressId,e)),p=a||(0,Ne.Tl)("checklist_step_action_button");switch(i){case Xi.X2.ReadOnly:return null;case Xi.X2.OpenUrl:return(0,x.jsx)(vx,{onClick:d,children:(0,x.jsx)(vr.z,{"data-testid":"checklist-task-action-button",href:r,rel:"noopener noreferrer",target:o?"_blank":void 0,children:p})});default:return(0,x.jsx)(vx,{children:(0,x.jsx)(vr.A,{"data-testid":"checklist-task-action-button",onClick:()=>{d(),s(i,n,l||void 0)},children:p})})}},kx=({id:e,currentChecklist:t,content:i,actionType:n,actionContentId:r,actionUrl:o,actionContentUrl:s,openActionUrlInNewTab:a,canBeManuallyResolved:l,customActionButtonText:c,isComplete:d,onTaskActionClick:p,onTaskResolve:u})=>(0,x.jsxs)(xx,{children:[(0,x.jsxs)(fx,{children:[i,(0,x.jsx)(jx,{id:e,currentChecklist:t,actionType:n,actionContentId:r,actionUrl:o,openActionUrlInNewTab:a,customActionButtonText:c,onTaskActionClick:p,actionContentUrl:s})]}),l&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(yx,{}),(0,x.jsxs)(bx,{"data-testid":"checklist-manual-resolve-button",isComplete:d,onClick:t=>(t=>{t.stopPropagation(),d||u(e)})(t),children:[(0,x.jsx)(wx,{}),d?(0,Ne.Tl)("checklist_step_completed"):(0,Ne.Tl)("checklist_mark_step_as_complete")]})]})]});var Ax=i(23753);const Cx=160,Sx=(0,w.Ay)("div",{target:"euomxk33"})("min-height:40px;height:",(({height:e})=>e&&`${e}px`),";background:",(0,w.w4)("containerBaseNeutral"),";transition:height ",Cx,"ms;border-radius:12px;box-shadow:",(0,w.w4)("shadowMedium"),";border:1px solid ",(0,w.w4)("borderNeutral"),";&:not(:first-of-type){margin-top:10px;}",(({background:e})=>e&&(0,w.AH)("background:",e,";")),";"),Tx=(0,w.Ay)("div",{target:"euomxk32"})({name:"e0dnmk",styles:"cursor:pointer"}),_x=(0,w.Ay)("div",{target:"euomxk31"})({name:"1x95h09",styles:"padding:16px;box-sizing:border-box"}),Ex=(0,w.Ay)("div",{target:"euomxk30"})("opacity:0;visibility:hidden;height:0;",(({canDisplayContent:e})=>e&&(0,w.AH)("opacity:1;visibility:visible;height:auto;transition:opacity ",320,"ms ease-in-out ",Cx,"ms;")),";"),Nx=(0,v.forwardRef)((({header:e,content:t,expanded:i,className:n,background:r,isComplete:o,onExpand:s},a)=>{const[l,c]=(0,v.useState)(!1),[d,p]=(0,v.useState)(null),u=l&&void 0!==t,h=(0,v.useRef)(null),m=()=>{var e;null==(e=h.current)||e.scrollIntoView({behavior:"smooth",block:"center"})};return(0,v.useImperativeHandle)(a,(()=>({scrollInView:m}))),(0,v.useEffect)((()=>{c(i)}),[i]),(0,x.jsx)(Sx,{height:d,className:n,background:r,isComplete:o,"data-testid":"collapsible-card",role:"region","aria-expanded":l,ref:h,children:(0,x.jsx)(at.A,{onHeightChange:p,children:(0,x.jsxs)(_x,{children:[(0,x.jsx)(Tx,{onClick:()=>{const e=!l;c(e),s&&s(e)},"data-testid":"collapsible-card-header",children:(0,v.cloneElement)(e,{expanded:l?1:0})}),(0,x.jsx)(Ax.A,{appearDelay:Cx,duration:Cx,children:(0,x.jsx)(Ex,{"data-testid":"collapsible-card-content",canDisplayContent:u,children:u?t:null})})]})})})})),Bx=(0,v.forwardRef)((({cards:e,expandedCardId:t,className:i,onExpand:n},r)=>{const o=(0,v.useRef)([]),s=t=>{var i;const n=e.map((e=>e.id)).indexOf(t);null==(i=o.current[n])||i.scrollInView()};return(0,v.useImperativeHandle)(r,(()=>({scrollToCard:s}))),(0,x.jsx)("div",{className:i,children:(null==e?void 0:e.length)>0&&e.map(((e,i)=>{const r=t===e.id;return(0,x.jsx)(Nx,{header:e.header,content:e.content,expanded:r,background:e.background,isComplete:e.isComplete,onExpand:t=>n(e.id,t),ref:e=>o.current[i]=e},e.id)}))})})),Ix=(0,v.forwardRef)((({activeCardId:e,cards:t,className:i,onCardExpand:n},r)=>{const o=(0,v.useRef)(null),[s,a]=(0,v.useState)(null),l=(e,t=!1)=>{var i;(a(e),t)&&(null==(i=o.current)||i.scrollToCard(e))},c=()=>{var e;null==(e=o.current)||e.scrollToCard(t[0].id)};return(0,v.useImperativeHandle)(r,(()=>({expandCard:l,scrollToTop:c}))),(0,v.useEffect)((()=>{n&&n(s)}),[s,n]),(0,v.useEffect)((()=>{(null==t?void 0:t.length)>0&&a(t[0].id)}),[]),(0,v.useEffect)((()=>{e&&a(e)}),[e]),(0,x.jsx)(Bx,{cards:t,expandedCardId:s,onExpand:(e,t)=>{t&&a(e)},className:i,ref:o})}));const Rx=(0,w.Ay)("div",{target:"emyskci5"})({name:"1e876fv",styles:"display:flex;flex-direction:column;width:100%;overflow-y:auto"}),Px=(0,w.Ay)("div",{target:"emyskci4"})({name:"pybav8",styles:"width:100%;height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch"}),zx=(0,w.Ay)("section",{target:"emyskci3"})("padding:24px ",(({theme:e})=>e.globalHorizontalPadding),"px 30px;"),Mx=(0,w.Ay)("h2",{target:"emyskci2"})("font-size:16px;line-height:1.5;margin-bottom:10px;color:",(({theme:e})=>e.textDefault),";"),Ox=(0,w.Ay)("div",{target:"emyskci1"})("&+&{margin-top:",(({hasMultipleTaskGroups:e})=>e?"30px":"0"),";}"),Hx=(0,w.Ay)("div",{target:"emyskci0"})("padding:0px ",(({theme:e})=>e.globalHorizontalPadding),"px;margin-top:8px;");var Dx=i(99928),Lx=i(82525),Vx=i(3356);const Fx=({cardListRef:e,taskList:t,onTaskResolve:i,onTaskActionClick:n,checklistProgressId:r})=>{const o=(0,Oi.A)(),s=(0,h.jL)(),a=(0,h.GV)((0,Ki.f$)(Number(r))),l=t.map(((e,t)=>({id:e.id,background:e.isComplete?o.containerNeutral:o.containerBaseNeutral,isComplete:e.isComplete,header:(0,x.jsx)(gx,{order:t+1,title:(0,x.jsx)(Di.A,{blocks:e.titleBlocks}),completed:e.isComplete,expanded:!1}),content:(0,x.jsx)(kx,{id:e.id,currentChecklist:a,content:(0,x.jsx)(Di.A,{blocks:e.bodyBlocks}),actionType:e.actionType,actionContentId:e.actionContentId,actionUrl:e.actionUrl,actionContentUrl:e.actionContentUrl,openActionUrlInNewTab:e.openActionUrlInNewTab,canBeManuallyResolved:e.canBeManuallyResolved,customActionButtonText:e.customActionButtonText,isComplete:e.isComplete,onTaskResolve:i,onTaskActionClick:n})}))),c=(0,v.useCallback)((e=>s((0,Yi.qs)(null==a?void 0:a.id,null==a?void 0:a.checklistProgressId,e))),[null==a?void 0:a.id,null==a?void 0:a.checklistProgressId,s]);return(0,x.jsx)(Ix,{ref:e,cards:l,onCardExpand:c})},qx=({cardListRef:e,checklist:t,checklistTasksLength:i,completedChecklistTasksLength:n,estimatedTimeRemaining:r,onTaskResolve:o,onTaskActionClick:s,isFetching:a})=>{if(!t)return(0,x.jsx)(Rx,{children:a?(0,x.jsx)(y.A,{}):(0,x.jsx)(kg,{})});const l=t.taskGroups.length>1;return(0,x.jsx)(au,{hideBorder:!0,children:(0,x.jsx)(Rx,{children:(0,x.jsxs)(Px,{"data-testid":"checklist-task-list",children:[(0,x.jsx)(ex,{title:t.titleBlocks,subtitle:t.subtitleBlocks,sender:t.sender}),(0,x.jsx)(Hx,{children:(0,x.jsx)(Wi.A,{checklistTasks:i,completedChecklistTasks:n,estimatedTimeRemaining:r})}),(0,x.jsx)(zx,{children:t.taskGroups.map((i=>(0,x.jsxs)(Ox,{hasMultipleTaskGroups:l,children:[l&&(0,x.jsx)(Mx,{children:(0,x.jsx)(Di.A,{blocks:i.titleBlocks})}),(0,x.jsx)(Fx,{cardListRef:e,taskList:i.tasks,onTaskResolve:o,onTaskActionClick:s,checklistProgressId:t.checklistProgressId})]},i.id)))})]})})})},Gx=()=>{const e=(0,o.useParams)(),t=(0,h.jL)(),i=(0,v.useRef)(null),n=(0,h.GV)((0,Ki.f$)(Number(null==e?void 0:e.checklistProgressId)));(0,Lx.q)(n);const r=(0,Ji.Sg)(n),s=(0,Ji.zE)(r),a=(0,Ji.fp)(r),l=(0,h.GV)((0,Fg.F)()),c=(0,v.useRef)(!1),d=(0,h.GV)((e=>e.tasks.isFetching));(0,v.useEffect)((()=>{let e;e=l?r.find((e=>e.id===l)):(0,Ji.sE)(r);const t=c.current;if(c.current=Boolean(l),e){var o;const n=Boolean(l)||t;null==(o=i.current)||o.expandCard(e.id,n)}else{var s,d;if(null==(s=i.current)||s.expandCard(null),null==(d=i.current)||d.scrollToTop(),t&&n&&0===a.length){const{id:e,checklistProgressId:t,showCompletionScreen:i}=n;if(!e)return;p(t,i)}}}),[s.length,l]);const p=(e,i)=>{i&&setTimeout((()=>{t((0,Yi.Lf)(e))}),1200)};return(0,v.useEffect)((()=>{n&&t((0,Yi.Mw)(n.id,n.checklistProgressId))}),[t,n]),(0,v.useEffect)((()=>{n&&n.status===Xi.vb.New&&!n.dismissed&&t((0,Yi.hI)(n.checklistProgressId))}),[t,n]),(0,x.jsx)(qx,{cardListRef:i,checklist:n,checklistTasksLength:r.length,completedChecklistTasksLength:s.length,onTaskResolve:e=>{if(!n)return;const{id:i,checklistProgressId:r,showCompletionScreen:o}=n;i&&r&&e&&(t((0,Yi.FK)(i,r,e)),1===a.length&&a[0].id===e&&p(r,o))},onTaskActionClick:(e,i,n)=>{switch(e){case Xi.X2.ProductTour:i&&t((0,Dx.os)(i));break;case Xi.X2.Article:n?(0,Vx.CV)(n):i&&t((0,Te.n$)(i,{}))}},estimatedTimeRemaining:a.reduce(((e,t)=>e+t.estimatedTime),0),isFetching:d})},Ux=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Vg,{}),children:(0,x.jsx)(Gx,{})});const $x=(0,w.Ay)("div",{target:"e8wnlmk2"})({name:"12d09kj",styles:"display:flex;flex-direction:column;width:100%;height:100%;position:absolute;justify-content:center"}),Wx=(0,w.Ay)("div",{target:"e8wnlmk1"})("display:flex;flex-direction:column;align-items:center;gap:28px;padding:0 16px 0 16px;line-height:24px;.intercom-block-paragraph{color:",(0,w.w4)("textMuted"),";}button:hover{",(({theme:e})=>e.isPrimaryColorAsTheme&&(0,w.AH)("border:1px solid ",e.elevation2,";margin:-1px;")),";}"),Kx=(0,w.Ay)("canvas",{target:"e8wnlmk0"})({name:"rodcfp",styles:"position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none"});var Yx=i(60441),Xx=i.n(Yx);const Jx=({showConfetti:e,completionScreenButtonText:t,completionScreenBlocks:i})=>{const n=(0,o.useNavigate)(),r=(0,v.useRef)(null);(0,v.useEffect)((()=>{if(!r.current||!e)return;const t=Xx().create(r.current,{resize:!0});(0,u.F9)(t)}),[e]);const s=t||"Continue";return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)($x,{children:[(0,x.jsx)(Kx,{ref:r}),(0,x.jsxs)(Wx,{children:[(0,x.jsx)(Di.A,{blocks:i}),(0,x.jsx)(vr.A,{"data-testid":"checklist-completion-screen-action-button",onClick:()=>{n(p.Ul.path)},children:s})]})]})})},Zx=()=>{const e=(0,o.useParams)(),t=(0,h.GV)((0,Ki.f$)(Number(null==e?void 0:e.checklistProgressId))),i=(0,o.useNavigate)();if(!t)return(0,x.jsx)($x,{children:(0,x.jsx)(Wx,{children:(0,x.jsx)(vr.A,{"data-testid":"checklist-completion-screen-home-button",onClick:()=>{i(p.Ul.path)},children:"Home"})})});const{showConfetti:n,completionScreenBlocks:r,completionScreenButtonText:s}=t;return(0,x.jsx)(Jx,{showConfetti:n,completionScreenBlocks:r,completionScreenButtonText:s})},Qx=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Vg,{}),children:(0,x.jsx)(Zx,{})});var ef=i(5556),tf=i.n(ef),nf=i(18875);function rf(e){const{isLauncherEnabled:t,launcherOffsetBottomPaddingPx:i,verticalPaddingPx:n}=e;return n+20+(t?i:0)}var of={name:"179q9ic",styles:"transform:none"},sf={name:"1sgi167",styles:"transform:scale(0);opacity:0;pointer-events:none;visibility:hidden;&>iframe{pointer-events:none;visibility:hidden;}"},af={name:"184q3m8",styles:"transform-origin:bottom"},lf={name:"abcix4",styles:"top:0"},cf={name:"13udsys",styles:"height:100%"},df={name:"1lkn119",styles:"transition-delay:0ms"},pf={name:"1lmwkpd",styles:"transform-origin:bottom left"};const uf=(0,w.Ay)("div",{target:"ed8ycz90"})("z-index:",(0,Bi.L9)(),";position:fixed;bottom:",(0,Bi.zT)(),"px;right:",(0,w.w4)("horizontalPaddingPx"),"px;transform-origin:bottom right;visibility:visible;",(({theme:e})=>e.isLeftAlign&&pf),(({theme:e})=>(0,w.AH)("height:calc(100% - ",rf(e),"px);")),";",(({theme:e,dynamicHeight:t})=>(0,w.AH)("height:",t?`${t}px`:`min(${e.messengerMaxHeightPx}px, calc(100% - ${rf(e)}px))`,";"))," min-height:80px;width:",(({isCompactHomeShowing:e})=>e?(0,w.w4)("messengerCompactWidthPx"):(0,w.w4)("messengerWidthPx")),"px;max-height:",(0,w.w4)("messengerMaxHeightPx"),"px;border-radius:",(({isCompactHomeShowing:e})=>e?(0,w.w4)("messengerCompactBorderRadiusPx"):(0,w.w4)("messengerBorderRadiusPx")),"px;overflow:hidden;",(({lightweightAppActive:e,theme:t})=>!e&&(0,w.AH)("box-shadow:",t.shadowXLarge,";"))," ",(({isExpanded:e,theme:t})=>e&&(0,w.AH)("max-height:calc(100% - ",rf(t),"px);height:calc(100% - ",rf(t),"px);width:",t.messengerExpandedWidthPx,"px;transition-delay:",300,"ms;"))," ",(({isExpanded:e,isArticleLoaded:t})=>e&&t&&df),"opacity:1;>iframe{mask-image:radial-gradient(\n      circle 1px at -10px -10px,\n      transparent 0px,\n      ",(0,w.w4)("containerBaseNeutral")," 1px\n    );width:100%;height:100%;position:absolute;visibility:visible;}",(({theme:e})=>e.isLeftAlign&&(0,w.AH)("left:",e.horizontalPaddingPx,"px;right:auto;"))," ",(({theme:e})=>e.isMobileSize&&(0,w.AH)("z-index:",(0,Bi.fE)(1,e),";width:100%;max-height:none;left:0;right:0;bottom:0;border-radius:0;position:fixed;"))," ",(({theme:e,isCompactHomeShowing:t})=>e.isMobileSize&&!t&&cf)," ",(({theme:e,isCompact:t})=>e.isMobileSize&&!t&&lf)," ",(({theme:e,isCompact:t})=>e.isMobileSize&&t&&af)," transition:width ",200,"ms,height ",200,"ms,max-height ",200,"ms,transform 300ms cubic-bezier(0, 1.2, 1, 1),opacity 83ms ease-out;pointer-events:all;",(({isMessengerOpen:e})=>!e&&sf),(({disableOpenAnimation:e})=>e&&of),";");const hf=(0,w.Ay)("main",{target:"e1o4xdyj2"})({name:"1ch1fqb",styles:"overflow:hidden;position:relative;display:flex;flex-direction:column;flex-grow:1;justify-content:flex-start;max-height:100%"}),mf=(0,w.Ay)("div",{target:"e1o4xdyj1"})("pointer-events:none;transition:margin 0.3s ease-out,opacity 0.3s ease-out;z-index:",(0,Bi.fE)(2),";>*{pointer-events:all;}&.enter{transform:translateY(100%);height:0;opacity:0;}&.enter-done{transform:translateY(0);height:auto;opacity:1;}"),gf=(0,w.Ay)("div",{target:"e1o4xdyj0"})({name:"1v771ry",styles:"z-index:3"});const xf=({currentSpace:e,children:t})=>{const i=`spaces-${e}`;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(hf,{id:i,"data-testid":i,children:t})})};const ff=(0,w.Ay)("div",{target:"e11jdbjj1"})("position:absolute;bottom:",(e=>e.tabBarIsVisible?e.intercomLinkIsVisible?137:101:32),"px;left:50%;transform:translateX(-50%);&>*{box-shadow:",(0,w.w4)("shadowLarge"),",",(0,w.w4)("shadowLarge"),";}"),vf=(0,w.Ay)(Mp,{target:"e11jdbjj0"})({name:"ml2hs3",styles:"overflow-y:visible;z-index:2"});const yf=({tabBarIsVisible:e,intercomLinkIsVisible:t})=>{const{visible:i,styleVariant:n}=function(){const{pathname:e}=(0,o.useLocation)(),t=(0,m.wR)(e),i=!!(0,h.GV)(Ac),n=!!(0,h.GV)(Us.xk);switch(t.id){case p.Ij.id:return{visible:i&&"/messages"===e,styleVariant:"primary"};case p.ZL.id:return{visible:n,styleVariant:"secondary"};default:return{visible:!1,styleVariant:"primary"}}}();return(0,x.jsx)(vf,{transitionKey:`${i}-${n}`,children:i&&(0,x.jsx)(ff,{tabBarIsVisible:e,intercomLinkIsVisible:t,children:(0,x.jsx)(Ks,{styleVariant:n})})})},bf=(e,t)=>{const i=t.pathname.split("/"),n=e.pathname.split("/"),r=i[1],o=n[1]!==r;if("/messages/conversation/new"===e.pathname&&t.pathname.match(/\/messages\/conversation\/\d+/))return A;if(o)return k;if(t.pathname!==e.pathname){return i.length<=n.length?S:C}return A},wf=()=>{const{currentSpace:e}=Se(),t=(0,h.GV)(W.Er),i=(0,h.GV)(W.km),n=(0,h.GV)(m.$P),r=tr()&&n.length>1,o=tr()&&i,s=I({initialWhiteBackground:!1,initialHeight:0});return(0,v.useEffect)((()=>{t&&(0,je.A5)("viewed",e.id,"messenger","")}),[e.id,t]),(0,x.jsx)(xf,{currentSpace:e.id,showIntercomLink:o,children:(0,x.jsxs)(N.Provider,{value:s,children:[(0,x.jsx)(gf,{id:"intercom-header-placeholder"}),(0,x.jsx)(Br,{}),(0,x.jsx)(L,{getTransition:bf}),(0,x.jsx)(yf,{tabBarIsVisible:r,intercomLinkIsVisible:o})]})})},jf=()=>{const{currentSpace:e}=Se(),t=(0,h.GV)(W.Er),i=(0,h.GV)(W.km),n=tr(),r=n&&i,o=P(),s=I({initialWhiteBackground:!1,initialHeight:0}),a=rl({initialConversationHeroVisible:il.Unknown}),{isCompactHomeShowing:l}=Se();return(0,v.useEffect)((()=>{t&&(0,je.A5)("viewed",e.id,"messenger",""),o(l?Af:void 0)}),[e.id,t,l,o]),(0,x.jsx)(N.Provider,{value:s,children:(0,x.jsxs)(nl.Provider,{value:a,children:[(0,x.jsx)(gf,{id:"intercom-header-placeholder"}),(0,x.jsx)(Br,{}),(0,x.jsx)(L,{getTransition:bf}),(0,x.jsx)(yf,{tabBarIsVisible:n,intercomLinkIsVisible:r}),r&&(0,x.jsx)(Hs,{showOnSpaces:!0,intercomLinkSolution:"live-chat"})]})})};const kf="intercom-mobile-messenger-active",Af=250,Cf=(0,w.Ay)("div",{target:"e1ecbty0"})("display:flex;flex-direction:column;height:100vh;width:100vw;background-color:",(0,w.w4)("containerBaseNeutral"),";"),Sf=()=>(0,h.GV)(m.V$)?(0,x.jsx)(jf,{}):(0,x.jsx)(wf,{}),Tf=({isMessengerOpen:e})=>{const t=(0,h.jL)(),i=(0,v.useContext)(Wa),n=(0,h.GV)(wr.l),r=(0,h.GV)((e=>e.article.isLoaded)),o=(0,h.GV)(W.fB),[s,a]=(0,v.useState)(0),[l,c]=(0,v.useState)(!1),p=(0,h.GV)(m.V$),u=(0,xa.Z)(e),{isCompactHomeShowing:f}=Se(),[y,b]=(0,v.useState)(f?Af:void 0),w=(0,v.useCallback)((()=>{(0,d.vy)(null==i?void 0:i.document.documentElement,kf)}),[i]),j=(0,v.useCallback)((()=>{f||(0,d.iQ)(null==i?void 0:i.document.documentElement,kf)}),[i,f]),k=(0,v.useCallback)((()=>{var e;((0,ys.rr)()||(0,yr.IS)())&&null!=(e=window)&&null!=(e=e.parent)&&e.scrollTo&&s&&window.parent.scrollTo(0,s)}),[s]);var A;return A=e,(0,v.useEffect)((()=>{if((0,ys.nr)()&&!(0,ys.rr)()&&A){const e=window.parent.document.body,t=window.parent.scrollY,i=e.style.position,n=e.style.top,r=e.style.overflow;return e.style.position="fixed",e.style.top=`-${t}px`,e.style.overflow="hidden",e.style.width="100%",()=>{e.style.position=i,e.style.top=n,e.style.overflow=r,e.style.width="",window.parent.scrollTo(0,t)}}}),[A]),(0,v.useEffect)((()=>{let t;return a(window.parent.scrollY||0),e&&(0,ys.rr)()&&(0,yr.IS)()&&j(),!e&&u&&(c(!0),w(),k(),t=setTimeout((()=>{c(!1)}),1e3)),()=>clearTimeout(t)}),[e,w,k,j,u]),(0,x.jsx)(uf,{isExpanded:n,isArticleLoaded:!!r,className:"intercom-messenger-frame",onTransitionEnd:e=>{"width"===e.propertyName&&t((0,br.E)())},isMessengerOpen:e,dynamicHeight:y,isCompactHomeShowing:f,isCompact:p,disableOpenAnimation:(0,g.z)(),lightweightAppActive:o,children:(e||l)&&(0,x.jsx)(nf.Ay,{frameName:"intercom-messenger-frame",title:"Intercom live chat",ariaLiveAssertive:!1,removeBodyMargin:!0,children:(0,x.jsx)(R.Provider,{value:b,children:(0,x.jsx)(Cf,{children:(0,x.jsx)(Sf,{})})})})})};var _f=i(64566);function Ef({isMessengerOpen:e}){const t=(0,h.jL)(),i=(0,h.GV)(m.$B);return(0,v.useEffect)((()=>{e&&t((0,_f.KT)())}),[t,i,e]),(0,x.jsx)(Tf,{isMessengerOpen:e})}var Nf=i(24627),Bf=i(38026),If=i(7713),Rf=i(50533);var Pf=i(1187);const zf=(0,w.Ay)("div",{target:"e11rlguj4"})("position:absolute;top:0;left:0;background:",(0,w.w4)("primaryColor"),";width:",(0,w.w4)("launcherSizePx"),"px;height:",(0,w.w4)("launcherSizePx"),"px;border-radius:50%;cursor:pointer;backface-visibility:hidden;overflow:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;",(({badgeCutoutType:e})=>"active"===e&&(0,w.AH)("mask-image:url('data:image/svg+xml;base64,",(0,Pf.A)('<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M42.9991 0C40.5707 1.82446 39 4.7288 39 8C39 13.1853 42.9467 17.4489 48 17.9506V48H0V0H42.9991Z" fill="currentColor"/>\n</svg>\n'),"');border-radius:0;")),";",(({badgeCutoutType:e})=>"passive"===e&&(0,w.AH)("mask-image:url('data:image/svg+xml;base64,",(0,Pf.A)('<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M48 0H0V48H48V12.9333C46.9809 13.8454 45.6352 14.4 44.16 14.4C40.9788 14.4 38.4 11.8212 38.4 8.64C38.4 5.45884 40.9788 2.88 44.16 2.88C45.6352 2.88 46.9809 3.4346 48 4.34667V0Z" fill="currentColor"/>\n</svg>\n'),"');border-radius:0;")),";*{cursor:pointer;}");var Mf={name:"179q9ic",styles:"transform:none"};const Of=({theme:e})=>(0,w.AH)("user-select:none;display:flex;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;width:100%;transition:transform 0.16s linear,opacity 0.08s linear;",e.isMobileSize&&Mf,";");var Hf={name:"1x052ey",styles:"opacity:1;transform:none"},Df={name:"letlco",styles:"transition:transform 0.4s ease 0.2s"},Lf={name:"d2404m",styles:"opacity:0;transform:rotate(30deg) scale(0)"};const Vf=(0,w.Ay)("div",{target:"e11rlguj3"})(Of," opacity:1;transform:rotate(0deg) scale(1);svg{width:",(({theme:e})=>e.launcherIconSizePxM5),"px;height:",(({theme:e})=>e.launcherIconSizePxM5),"px;path{fill:",(0,w.w4)("launcherIconColor"),";}}",(({active:e})=>e&&Lf)," ",(({discoveryMode:e})=>e&&Df)," ",(({theme:e,active:t})=>t&&e.isMobileSize&&Hf),";");var Ff={name:"1x052ey",styles:"opacity:1;transform:none"},qf={name:"letlco",styles:"transition:transform 0.4s ease 0.2s"},Gf={name:"d2404m",styles:"opacity:0;transform:rotate(30deg) scale(0)"};const Uf=(0,w.Ay)("div",{target:"e11rlguj2"})(Of," opacity:1;transform:rotate(0deg) scale(1);svg{height:",(({theme:e})=>e.launcherSizePx-4),"px;path{fill:",(0,w.w4)("launcherIconColor"),";}}",(({active:e})=>e&&Gf)," ",(({discoveryMode:e})=>e&&qf)," ",(({theme:e,active:t})=>t&&e.isMobileSize&&Ff),";");var $f={name:"mws4fn",styles:"opacity:0"},Wf={name:"1jgw0uu",styles:"opacity:1;transform:rotate(0deg)"};const Kf=(0,w.Ay)("div",{target:"e11rlguj1"})(Of," opacity:0;transform:rotate(-60deg);svg{path{fill:",(0,w.w4)("launcherIconColor"),";}}",(({active:e})=>e&&Wf)," ",(({theme:e,active:t})=>t&&e.isMobileSize&&$f),";"),Yf=(0,w.Ay)("img",{target:"e11rlguj0"})("max-width:",(0,w.w4)("launcherIconSizePxM5"),"px;max-height:",(0,w.w4)("launcherIconSizePxM5"),"px;position:relative;");var Xf=i(27124),Jf=i(76974),Zf=i(38081),Qf=i(37363),ev=i(23170);const tv=e=>new Promise(((t,i)=>{const n=new Image;n.onload=()=>t(),n.onerror=()=>i(),n.src=e})),iv=({isMessengerOpen:e,frameWindow:t,isLauncherDiscoveryModeEnabled:i,launcherLogoUrl:n,allowSelfServeIcon:r,badgeCutoutType:o,onClick:s})=>{(0,v.useEffect)((()=>{const i=new Lr.A({document:t.document,disableStartingTrap:()=>!0,disableEndingTrap:()=>!e,firstElement:()=>(0,Vr.CZ)()});return function(){i&&i.restore()}}),[t.document,e]);const a="intercom-launcher "+(e?"intercom-launcher-active":""),l=!n&&r;return(0,x.jsxs)(zf,{className:a,onClick:s,role:"button",badgeCutoutType:o,"data-testid":`launcher-with-badge-cutout-${o}`,"aria-label":e?(0,Ne.Tl)("close_intercom_messenger"):(0,Ne.Tl)("open_intercom_messenger"),children:[l?(0,x.jsx)(Uf,{active:e,discoveryMode:i,"data-testid":"launcher-self-serve-open-icon",children:(0,x.jsx)(Rf.A,{})}):(0,x.jsx)(Vf,{active:e,discoveryMode:i,"data-testid":n?"launcher-custom-open-icon":"launcher-default-open-icon",children:n?(0,x.jsx)(Yf,{src:n,alt:""}):(0,x.jsx)(If.A,{})}),(0,x.jsx)(Kf,{active:e,"data-testid":"launcher-minimize-icon",children:(0,x.jsx)(Bf.A,{})})]})},nv=e=>{const{isMessengerOpen:t}=(0,h.GV)((e=>e.app)),i=(0,h.GV)(Xf.X),{isLauncherDiscoveryModeEnabled:n}=(0,h.GV)((e=>e.launcherDiscoveryMode)),r=(0,h.GV)(W.Np),o=(0,h.jL)(),s=(0,h.GV)(m.qB),a=(0,h.GV)(Jf.UM);(0,v.useEffect)((()=>{(async()=>{try{await Promise.all([tv(Zf),tv(Qf)])}catch(e){(0,ev.logError)(e)}})()}),[]);let l="none";return e.hasBadge&&(l=a>0?"active":"passive"),(0,x.jsx)(iv,Object.assign({isMessengerOpen:t,launcherLogoUrl:i,isLauncherDiscoveryModeEnabled:n,allowSelfServeIcon:r,badgeCutoutType:l,onClick:()=>{(0,je.A5)("clicked","launcher","in_app","",{space_opened:null==s?void 0:s.id,is_messenger_open:t}),o((0,Rt.wJ)())}},e))};var rv={name:"mws4fn",styles:"opacity:0"};const ov=(0,w.Ay)(nf.Ay,{target:"efr23pf0"})("z-index:",(0,Bi.fE)(),";width:",(0,w.w4)("launcherSizePx"),"px;height:",(0,w.w4)("launcherSizePx"),"px;border-radius:50%;color-scheme:none;background:none;",(({theme:e})=>e.isLeftAlign&&(0,w.AH)("left:",e.horizontalPaddingPx,"px;right:auto;"))," ",(({theme:e})=>e.isMobile&&(0,w.AH)("filter:drop-shadow(0 1px 6px ",e.elevation1,") drop-shadow(0 2px 32px ",e.elevation2,");transition:box-shadow 80ms ease-in-out;pointer-events:auto;&:hover{filter:drop-shadow(0 2px 8px ",e.alphaBlack10,") drop-shadow(0 4px 40px ",e.alphaBlack20,");}&:active{filter:drop-shadow(0 1px 6px ",e.elevation1,") drop-shadow(0 2px 32px ",e.elevation2,");}"))," ",(({shouldRenderShadow:e,theme:t})=>e&&(0,w.AH)("filter:drop-shadow(0 1px 6px ",t.elevation1,") drop-shadow(0 2px 32px ",t.elevation2,");"))," ",(({theme:e,isMessengerOpen:t})=>e.isMobileSize&&t&&rv),";");function sv(e){const{shouldRenderShadow:t,hasBadge:i,isMessengerOpen:n}=e;return(0,x.jsx)(ov,{className:"intercom-launcher-frame",frameName:"intercom-launcher-frame",title:"Intercom live chat",ariaLiveAssertive:!1,shouldRenderShadow:t,isMessengerOpen:n,children:e=>(0,x.jsx)(nv,{frameWindow:e,hasBadge:i})})}const av=(0,v.lazy)((()=>i.e(9962).then(i.bind(i,39168))));var lv=i(92078);var cv=i(63614);const dv=(0,r.Ng)((e=>{const{launcherDiscoveryMode:{isLauncherDiscoveryModeOpening:t,isLauncherDiscoveryModeClosing:i},app:{helpCenterSiteUrl:n}}=e,r=!(e=>{if(!e)return!1;const t=(0,lv.Um)();return!!t&&e.replace(/(^\w+:|^)\/\//,"").startsWith(t)})(n)&&(t||i);return{isLauncherDiscoveryModeOpening:t,isLauncherDiscoveryModeClosing:i,showDiscoveryLauncher:r}}),(e=>({onDiscoveryLauncherMouseEnter:()=>{(0,cv.Fh)()},onDiscoveryLauncherMouseOut:()=>{e((0,cv.jV)())},onLauncherDiscoveryClick:()=>{e((0,Rt.wJ)())}})))((function(e){const{showDiscoveryLauncher:t}=e;return t?(0,x.jsxs)(v.Suspense,{fallback:null,children:[(0,x.jsx)(av,Object.assign({},e)),";"]}):null}));var pv={name:"16iyio",styles:"width:8px;height:8px;box-shadow:none;bottom:35px;left:40px"};const uv=(0,w.Ay)("div",{target:"e1nq9v8t0"})("z-index:",(0,Bi.fE)(1),";position:absolute;bottom:32px;/* @noflip */left:41px;min-width:16px;height:16px;border-radius:50%;",(({hasNotifications:e})=>!e&&pv),";"),hv=({notificationCount:e})=>{const t=!!e&&e>0;return(0,x.jsx)(uv,{hasNotifications:t,children:(0,x.jsx)(qn,{children:t?e:void 0})})},mv=()=>{const e=(0,h.GV)(Jf.UM);return(0,x.jsx)(hv,{notificationCount:e})};var gv={name:"gnzpf7",styles:"animation:launcherEnter 300ms cubic-bezier(0.4, 0, 0.2, 1) forwards;@keyframes launcherEnter{0%{transform:scale(0.8);opacity:0;}100%{transform:scale(1);opacity:1;}}"};const xv=(0,w.Ay)("div",{target:"edrs4yi0"})("user-select:none;z-index:",(0,Bi.L9)(),";position:fixed;bottom:",(0,w.w4)("verticalPaddingPx"),"px;right:",(0,w.w4)("horizontalPaddingPx"),"px;width:",(0,w.w4)("launcherSizePx"),"px;height:",(0,w.w4)("launcherSizePx"),"px;",(({theme:e})=>e.isLeftAlign&&(0,w.AH)("left:",e.horizontalPaddingPx,"px;right:auto;"))," transition:transform 167ms cubic-bezier(0.33, 0, 0, 1);transform-origin:center;",(({isEntering:e})=>e&&gv)," &:hover{transition:transform 250ms cubic-bezier(0.33, 0, 0, 1);transform:scale(1.1);}&:active{transform:scale(0.85);transition:transform 134ms cubic-bezier(0.45, 0, 0.2, 1);}@media (prefers-reduced-motion: reduce){transition:none!important;transform:none!important;animation:none!important;opacity:1!important;scale:1!important;}");var fv=i(64442);var vv={name:"eivff4",styles:"display:none"},yv={name:"16reteu",styles:"background:radial-gradient(\n        ellipse at bottom left,\n        rgba(29, 39, 54, 0.16) 0%,\n        rgba(29, 39, 54, 0) 72%\n      );left:0;right:auto"};const bv=(0,w.Ay)("div",{target:"equ3uxk0"})("z-index:",(0,Bi.L9)(-2),";position:fixed;width:500px;height:500px;bottom:0;right:0;content:'';pointer-events:none;background:radial-gradient(\n    ellipse at bottom right,\n    rgba(29, 39, 54, 0.16) 0%,\n    rgba(29, 39, 54, 0) 72%\n  );",(({theme:e})=>e.isLeftAlign&&yv)," ",(({theme:e})=>e.isMobileSize&&vv),";");var wv=i(48179);class PageTitleNotification extends v.Component{getTitle(){return this.props.appWindow.document.title}setTitle(e){if(this.getTitle()!==e)if((0,ys.AM)(this.props.appWindow)){const e=(0,ys.w3)().userAgent;(0,je.sq)("headlessChromeDetected",{user_agent:e})}else this.props.appWindow.document.title=e}maybeToggleTitle(){const e=(e=>{if(e.dismissed||!e.parts)return;const t=(0,wv.A)(e.parts);return t&&t.author.isAdmin?(0,Ne.Tl)("user_says",{firstName:t.author.firstName}):void 0})(this.props.conversation);e&&this.setTitle(this.getTitle()===e?this.originalTitle:e)}componentDidMount(){this.originalTitle=this.getTitle(),this.interval=setInterval((()=>this.maybeToggleTitle()),3e3),this.maybeToggleTitle()}componentWillUnmount(){clearInterval(this.interval),this.interval=void 0,this.setTitle(this.originalTitle)}render(){return null}}PageTitleNotification.propTypes={appWindow:tf().object.isRequired,conversation:tf().object.isRequired};class ChunkLoadErrorBoundary extends v.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){var i;const{componentName:n="unknown"}=this.props,r=this.isChunkLoadingError(e);(0,qr.l2)(e),(0,je.sq)("chunk_loading_error",{message:e.message,componentName:n,isChunkLoadError:r,componentStack:null==(i=t.componentStack)?void 0:i.slice(0,500)}),r&&(0,je.sq)("chunk_load_failed",{componentName:n,userAgent:navigator.userAgent,url:window.location.href,errorType:this.getChunkErrorType(e)})}isChunkLoadingError(e){var t,i;const n=(null==(t=e.message)?void 0:t.toLowerCase())||"",r=(null==(i=e.stack)?void 0:i.toLowerCase())||"";return["loading chunk","loading css chunk","loading js chunk","failed to import","network error","fetch error","script error","chunkloaderror","dynamicimporterror","err_blocked_by_client"].some((e=>-1!==n.indexOf(e)||-1!==r.indexOf(e)))}getChunkErrorType(e){var t;const i=(null==(t=e.message)?void 0:t.toLowerCase())||"";return-1!==i.indexOf("loading chunk")?"chunk_load_failure":-1!==i.indexOf("failed to import")?"import_failure":-1!==i.indexOf("err_blocked_by_client")?"blocked_by_client":-1!==i.indexOf("network error")?"network_error":-1!==i.indexOf("fetch error")?"fetch_error":-1!==i.indexOf("script error")?"script_error":"unknown_chunk_error"}render(){if(this.state.hasError){const{fallback:e,silent:t=!0}=this.props;if(e){const t=e;return(0,x.jsx)(t,{})}return null}return this.props.children}}const jv=(0,v.lazy)((()=>i.e(2493).then(i.bind(i,79790)))),kv=(0,v.lazy)((()=>i.e(7367).then(i.bind(i,3830)))),Av=(0,v.lazy)((()=>i.e(7420).then(i.bind(i,33350)))),Cv=(0,v.lazy)((()=>i.e(7420).then(i.bind(i,98793)))),Sv=(0,v.lazy)((()=>i.e(7420).then(i.bind(i,79653)))),Tv=(0,v.lazy)((()=>i.e(7420).then(i.bind(i,50933)))),_v=(0,v.lazy)((()=>i.e(7420).then(i.bind(i,86274)))),Ev=(0,v.lazy)((()=>i.e(848).then(i.bind(i,22314)))),Nv=(0,v.lazy)((()=>i.e(3653).then(i.bind(i,89346)))),Bv=(0,v.lazy)((()=>i.e(5400).then(i.bind(i,52277))));class Messenger extends v.Component{constructor(...e){super(...e),this.context=null,this.state={isIntersectionBooted:(0,fv.t)(),isPreviewingSurvey:(0,fv.H)(),notificationDelayComplete:!0},this._hasShownLauncherOnce=!1}shouldShowPageTitleNotification(){const{userIsPresent:e,isLauncherEnabled:t,isMessengerOpen:i,lastUnreadConversation:n}=this.props;return!(!t&&!i)&&(n&&n.userParticipated&&!e)}componentDidUpdate(e){!this.props.isMessengerOpen&&e.isMessengerOpen&&(this.setState({notificationDelayComplete:!1}),this.timeout=setTimeout((()=>{this.setState({notificationDelayComplete:!0})}),300))}componentWillUnmount(){clearTimeout(this.timeout)}render(){const e=this.context,{hasUnreadContent:t,isLauncherEnabled:i,isMessengerOpen:n,isMessageOpen:r,isInstallOpen:o,lastUnreadConversation:s,notificationCount:a,customizationAttributes:l,isBooted:c,isLauncherDiscoveryModeOpening:d,hasPointerMessages:p,hasBanner:u,isTourFetched:h,isPreviewingTour:m,isLightweightAppActive:g,hasSurvey:f,hasNudge:y,disableBorderlessNotifications:b,hideNotifications:w,suppressBorderlessMessage:j}=this.props,{isIntersectionBooted:k,isPreviewingSurvey:A,notificationDelayComplete:C}=this.state,S=C&&!r&&!n&&!h&&!k&&a>0&&!b&&!w,T=!n&&t,_=n&&(0,yr.IS)(),E=(N=this.props.removeBorderlessNotifications,B=this.props.isNewMobileNotificationsEnabled,I=(0,yr.IS)(),N||B&&I?"new":"old");var N,B,I;const R=S&&"new"===E,P=S&&"old"===E,M=j&&r&&!y&&!h&&!f&&!n&&!b,O=(R||M)&&(0,yr.IS)(),H=i&&!_&&!O,D=!_&&!this._hasShownLauncherOnce;return H&&!this._hasShownLauncherOnce&&(this._hasShownLauncherOnce=!0),(0,x.jsxs)("div",{className:"intercom-app","aria-live":"polite",children:[(0,x.jsx)(z.F,{component:v.Fragment,children:(0,x.jsx)(Ef,{isMessengerOpen:n})}),!r||h||f||n||b||j?null:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Av,{appWindow:e},"Message")}),!p||n||h||k?null:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Tv,{appWindow:e},"PointerMessage")}),c&&o?(0,x.jsx)(Ev,{},"Install"):null,(R||M)&&(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Sv,{showDesktopNotifications:!(0,yr.IS)()})}),P&&(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Cv,{})}),!(R||M||P||n)&&y&&(0,x.jsx)(ChunkLoadErrorBoundary,{componentName:"nudge",children:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Bv,{appWindow:e})})}),H&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(xv,{isEntering:D,children:[(0,x.jsx)(sv,{shouldRenderShadow:!d,isMessengerOpen:n,hasBadge:T}),T&&(0,x.jsx)(mv,{})]}),ys.Ay.isMobileBrowser()?null:(0,x.jsx)(dv,{isLeftAligned:"left"===l.alignment})]}),!h||k&&!m?null:(0,x.jsx)(ChunkLoadErrorBoundary,{componentName:"tour",children:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(_v,{appWindow:e},"Tour")})}),h?(0,x.jsx)(ChunkLoadErrorBoundary,{componentName:"confetti",children:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(kv,{appWindow:e})})}):null,(0,x.jsx)(Pe.A,{animationKey:"intercom-app",duration:g?0:200,children:n||r||S?(0,x.jsx)(bv,{}):null}),(0,x.jsx)(Nf.A,{appWindow:e}),this.shouldShowPageTitleNotification()?(0,x.jsx)(PageTitleNotification,{appWindow:e,conversation:s}):null,u&&!h?(0,x.jsx)(ChunkLoadErrorBoundary,{componentName:"banner",children:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(jv,{appWindow:e})})}):null,!f||n||k&&!A?null:(0,x.jsx)(ChunkLoadErrorBoundary,{componentName:"survey",children:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Nv,{appWindow:e})})}),h?null:(0,x.jsx)("div",{id:"intercom-modal-container"})]})}}Messenger.contextType=Wa,Messenger.propTypes={hasUnreadContent:tf().bool,lastUnreadConversation:tf().object,notificationCount:tf().number,userIsPresent:tf().bool.isRequired,isBooted:tf().bool.isRequired,isLauncherEnabled:tf().bool.isRequired,isMessengerOpen:tf().bool.isRequired,isMessageOpen:tf().bool.isRequired,hasPointerMessages:tf().bool.isRequired,hasBanner:tf().bool,isTourFetched:tf().bool.isRequired,isPreviewingTour:tf().bool.isRequired,isInstallOpen:tf().bool.isRequired,customizationAttributes:tf().shape({alignment:tf().string,horizontalPadding:tf().number,verticalPadding:tf().number,zIndex:tf().number}),isLauncherDiscoveryModeOpening:tf().bool,isLightweightAppActive:tf().bool,hasSurvey:tf().bool,hasNudge:tf().bool,isNewMobileNotificationsEnabled:tf().bool,disableBorderlessNotifications:tf().bool,hideNotifications:tf().bool,removeBorderlessNotifications:tf().bool,suppressBorderlessMessage:tf().bool},Messenger.defaultProps={isLightweightAppActive:!1};const Iv=({locale:e,isOverrideSamplingEnabled:t=!1,isErrorReportingDisabled:i,appId:n,onTabPressed:r,hasUnreadContent:o,userIsPresent:s,isLauncherEnabled:a,isMessengerOpen:l,isMessageOpen:c,isInstallOpen:p,lastUnreadConversation:u,notificationCount:h,customizationAttributes:m,isBooted:g,isBooting:f,isInstantBootEnabled:y,isLauncherDiscoveryModeOpening:b,hasPointerMessages:w,hasBanner:j,isTourFetched:k,isPreviewingTour:A,isLightweightAppActive:C=!1,hasSurvey:S,hasNudge:T,disableBorderlessNotifications:_,hideNotifications:E,isNewMobileNotificationsEnabled:N,removeBorderlessNotifications:B,suppressBorderlessMessage:I})=>{const R=(0,v.useCallback)((e=>{(0,d.di)(e)&&r()}),[r]);(0,v.useEffect)((()=>{void 0!==e&&(0,Ne.xS)(e)}),[e]),(0,v.useEffect)((()=>{(0,Fr.vH)(t),(0,Fr.Zn)(i),(0,qr.f5)(n)}),[t,i,n]),(0,v.useEffect)((()=>{if("undefined"!=typeof window&&window.parent)return(0,d.q2)(window.parent,"keydown",R),()=>{(0,d.f)(window.parent,"keydown",R)}}),[R]);return!(g||f&&y)?null:(0,x.jsx)(Messenger,{hasUnreadContent:o,lastUnreadConversation:u,notificationCount:h,userIsPresent:s,isBooted:g,isLauncherEnabled:a,isMessengerOpen:l,isMessageOpen:c,hasPointerMessages:w,hasBanner:j,isTourFetched:k,isPreviewingTour:A,isInstallOpen:p,customizationAttributes:m,isLauncherDiscoveryModeOpening:b,isLightweightAppActive:C,hasSurvey:S,hasNudge:T,disableBorderlessNotifications:_,hideNotifications:E,removeBorderlessNotifications:B,isNewMobileNotificationsEnabled:N,suppressBorderlessMessage:I})};var Rv=i(28453);const Pv=(0,sr.Mz)((e=>(0,Rv.A)(e.conversations.byId)),(e=>{const t=e.filter((e=>!e.read)).sort(((e,t)=>e.lastPartCreatedAt-t.lastPartCreatedAt));return(0,wv.A)(t)}));var zv=i(24817),Mv=i(6434),Ov=i(58822),Hv=i(64015),Dv=i(99886),Lv=i(71179),Vv=i(95214),Fv=i(80929),qv=i(67033),Gv=i(32264);const Uv=(0,r.Ng)((e=>{var t;const{nudge:i}=e,{locale:n,isPresent:r}=e.user,{isBooting:o,isBooted:s,isMessengerOpen:a,isErrorReportingDisabled:l,isOverrideSamplingEnabled:c,features:d}=e.app,p=null==(t=e.launcherSettings)?void 0:t.instantBootEnabled,{isLauncherDiscoveryModeEnabled:u,isLauncherDiscoveryModeOpening:h}=e.launcherDiscoveryMode,{isInstallModeOpen:m}=e.install,{alignment:g,horizontalPadding:x,verticalPadding:f,zIndex:v}=(0,Lv.b)(e),{isActive:y}=e.lightweightApp,b=(0,zv.A)(e),w=(0,Jf.cV)(e),j=(0,Mv.y)(e).length,k=(0,Ov.A)(e),A=k.length,C=(0,Dv.A)(e).length,S=Pv(e),T=A>0,_=C>0,E=(0,Fv.L)(e).length>0,N=(0,Vv.dW)(e),B=(0,Vv.O7)(e),I=e.session&&e.session.appId,R=!!(0,qv.IS)(e),P=!!i,z=e.borderless.disableBorderless,M=e.app.hideNotifications,O=d.newMobileNotificationsEnabled||!1,H=d.removeBorderlessNotifications||!1,D=((e,t)=>{if(!e||!t||0===t.length)return!1;const i=t[0];if(!i)return!1;const n=i.readAt?(0,gs.u)(i):(0,gs.ht)(i);if(!n)return!1;const r=n.messageType||"adminReply";return-1!==Gv.M.indexOf(r)})(H,k);return{userIsPresent:r,locale:n,hasUnreadContent:w,notificationCount:j,lastUnreadConversation:S,isBooting:o,isBooted:s,isMessageOpen:T,isMessengerOpen:a,isLauncherEnabled:b,isLauncherDiscoveryModeEnabled:u,isLauncherDiscoveryModeOpening:h,isNewMobileNotificationsEnabled:O,isErrorReportingDisabled:l,isOverrideSamplingEnabled:c,isInstallOpen:m,customizationAttributes:{alignment:g,horizontalPadding:x,verticalPadding:f,zIndex:v},isInstantBootEnabled:p,hasPointerMessages:_,hasBanner:E,isTourFetched:N,isPreviewingTour:B,appId:I,isLightweightAppActive:y,hasSurvey:R,hasNudge:P,disableBorderlessNotifications:z,hideNotifications:M,removeBorderlessNotifications:H,suppressBorderlessMessage:D}}),(e=>({onTabPressed:()=>e(((t,i)=>{const{tabNavigation:n}=i().accessibility;n||e((0,Hv.y)(!0))}))})))(Iv);const $v=(0,w.Ay)("div",{target:"e1ta6if44"})("display:flex;flex-direction:row;justify-content:space-between;font-size:14px;line-height:21px;border-top:1px solid ",(0,w.w4)("borderNeutral"),";box-shadow:",(0,w.w4)("shadowLarge"),";background-color:",(0,w.w4)("containerBaseNeutral"),";height:",80,"px;padding:0;&.enter{opacity:0;}&.enter-active{transition:opacity ",k.time,"ms ease-out;opacity:1;}&.enter-done{opacity:1;}&.exit{opacity:1;}&.exit-active{transition:opacity ",k.time,"ms ease-out;opacity:0;}&.exit-done{opacity:0;}"),Wv=(0,w.Ay)("button",{target:"e1ta6if43"})("flex:1;display:flex;flex-direction:column;align-items:center;padding:18px 3px;cursor:pointer;transition:all 150ms;line-height:14px;overflow:hidden;text-overflow:clip;text-align:center;",(({showLabels:e,theme:t})=>!e&&(0,w.AH)("&:after{content:attr(data-title);position:relative;font-size:12px;padding:4px;top:-56px;color:",t.textMuted,";background:",t.containerEmphasisNeutral,";box-shadow:",t.shadowSmall,";border-radius:6px;opacity:0;visibility:hidden;}&:hover{&:after{opacity:1;transition:all 0.1s ease 0.5s;visibility:visible;}}"))," ",(({isActive:e,theme:t})=>!e&&(0,w.AH)("svg{*{transition:all 150ms;}*[class$='fill']{fill:",t.iconMuted,";stroke:none;}}color:",t.textMuted,";&:hover{color:",t.linkColor,";svg{*[class*='fill']{fill:",t.linkColor,";stroke:none;}*[class*='stroke']{stroke:",t.linkColor,";}}}"))," ",(({isActive:e,theme:t})=>e&&(0,w.AH)("color:",t.linkColor,";font-weight:600;")),";"),Kv=(0,w.Ay)("div",{target:"e1ta6if42"})("position:relative;display:flex;align-items:center;justify-content:center;margin:",(({showLabels:e})=>e?0:"10px")," auto 8px;pointer-events:none;",(({hasCutout:e,theme:t})=>e&&(0,w.AH)("svg{mask-image:radial-gradient(\n          circle 20px at calc(100% + 1px) calc(100% - 23px),\n          transparent 10px,\n          ",t.iconMuted," 0\n        );}"))," ",(({isActive:e,theme:t})=>e&&(0,w.AH)(">svg>path{fill:",t.linkColor,";}>svg>path[class$='stroke']{stroke:",t.linkColor,";fill:none;}>svg{*[class$='__circle']{fill:",t.linkColor,";stroke:",t.linkColor,";}*[class$='__negative']{stroke:",t.iconOnInverse,";}circle[class*='__negative']{fill:",t.iconOnInverse,";stroke:none;}}")),";");var Yv={name:"1eifec2",styles:"top:-5px;/* @noflip */right:calc(100% - 22px)"};const Xv=(0,w.Ay)("div",{target:"e1ta6if41"})("position:absolute;/* @noflip */right:calc(100% - 17px);top:-7px;line-height:13px;/* @noflip */transform:translateX(100%);",(({small:e})=>e&&Yv),";"),Jv=(0,w.Ay)("span",{target:"e1ta6if40"})({name:"s60ug3",styles:"display:block;text-align:center;margin:0 auto"});var Zv=i(38424);const Qv=["onClick"],ey=["itemCount","activeIndex","showLabels","children","onClickItem"];function ty(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}const iy=(0,v.createContext)(null);iy.displayName="TabBarContext";const ny=({title:e,itemId:t,index:i,defaultIcon:n,activeIcon:r,activeNotificationCount:o=0,hasPassiveNotifications:s=!1,ariaControlElementId:a})=>{const{activeIndex:l,showLabels:c,onClickItem:d,getRovingProps:p}=(()=>{const e=(0,v.useContext)(iy);if(!e)throw new Error("TabBarItem must be used within a TabBar");return e})(),u=i===l,h=u?r:n,m=o>0,g=p(i),{onClick:f}=g,y=ty(g,Qv);return(0,x.jsxs)(Wv,Object.assign({role:"tab",isActive:u,showLabels:c,"aria-current":u,"aria-controls":a||t,"aria-label":e,"aria-expanded":u,onClick:()=>{u||d(i),f()},"data-testid":t,"data-title":c?void 0:e},y,{children:[(0,x.jsx)("div",{id:a,hidden:u}),(0,x.jsxs)(Kv,{hasCutout:m,isActive:u,showLabels:c,children:[(0,x.jsx)(Xv,{small:!m,children:(m||s)&&(0,x.jsx)(qn,{children:m?o:void 0})}),(0,x.jsx)(h,{})]}),c&&(0,x.jsx)(Jv,{children:e})]}))},ry=e=>{let{itemCount:t,activeIndex:i,showLabels:n=!0,children:r,onClickItem:o}=e,s=ty(e,ey);const a={activeIndex:i,showLabels:n,onClickItem:o,getRovingProps:(0,Zv.z)(t,[i],i,1)};return(0,x.jsx)($v,Object.assign({role:"tablist"},s,{children:(0,x.jsx)(iy.Provider,{value:a,children:r})}))},oy=({items:e,activeItemIndex:t})=>{const{showSpace:i}=Se();return(0,x.jsx)(ry,{itemCount:e.length,activeIndex:t,showLabels:e.length<6,onClickItem:t=>{const n=e[t].id;(0,je.A5)("clicked",n,"messenger",n),i(n)},"data-testid":"spaces-tab-bar",children:e.map(((e,t)=>(0,x.jsx)(ny,{itemId:e.id,index:t,title:e.title||"",defaultIcon:e.iconComponent.default,activeIcon:e.iconComponent.active,activeNotificationCount:e.activeNotificationCount,hasPassiveNotifications:e.hasPassiveNotifications,ariaControlElementId:e.ariaControlElementId},e.id)))})};var sy=i(60729);function ay({children:e}){const t=(0,h.GV)(m.$P),i=tr()&&t.length>1,n=(0,sy.mK)(),{currentSpace:r}=Se(),o=t.findIndex((e=>e.id===r.id));return(0,x.jsxs)(x.Fragment,{children:[e,n&&(0,x.jsx)(z.B1,{in:n&&i,timeout:k.time,unmountOnExit:!0,children:(0,x.jsx)(mf,{children:(0,x.jsx)(z.B1,{in:i,timeout:k.time,unmountOnExit:!0,children:(0,x.jsx)(oy,{items:t,activeItemIndex:o})})})})]})}function ly(){return(0,x.jsx)(ay,{children:(0,x.jsx)(o.Outlet,{})})}var cy=i(50084),dy=i(15452);var py=i(67410),uy=i(15403);const hy="intercom-container",my="intercom-css-container";s.RV.assign({requestAnimationFrame:window.parent.requestAnimationFrame,cancelAnimationFrame:window.parent.cancelAnimationFrame});const gy=({children:e})=>{const t=(0,h.jL)();return(0,v.useEffect)((()=>{const e=setTimeout((()=>{t((0,py.KI)())}),0);return()=>clearTimeout(e)}),[t]),e},xy=(e,t)=>{(0,uy.setupTracing)();const i=(0,d.RM)(e,hy,"intercom-namespace"),s=(0,d.Vz)(e,my),h=(0,n.H)(i),g=(0,m.BU)(t.getState()),v=(0,o.createMemoryRouter)((e=>(0,o.createRoutesFromElements)((0,x.jsxs)(o.Route,{element:(0,x.jsx)(Uv,{}),children:[(0,x.jsx)(o.Route,{index:!0,path:p.kG.path,element:(0,x.jsx)(b,{})}),(0,x.jsxs)(o.Route,{element:(0,x.jsx)(ly,{}),children:[(0,x.jsxs)(o.Route,{path:p.Zh.path,children:[(0,x.jsx)(o.Route,{index:!0,element:(0,x.jsx)(rr,{})}),(0,x.jsx)(o.Route,{path:"sheet",element:(0,x.jsx)(Kr,{})})]}),(0,x.jsxs)(o.Route,{path:p.Ij.path,children:[(0,x.jsx)(o.Route,{index:!0,element:(0,x.jsx)(_c,{}),loader:Tc(e)}),(0,x.jsx)(o.Route,{path:"tickets/create/:ticketTypeId",element:(0,x.jsx)(hp,{})}),(0,x.jsx)(o.Route,{path:"tickets/:ticketId",element:(0,x.jsx)($p,{})}),(0,x.jsx)(o.Route,{path:"conversation/new",element:(0,x.jsx)(ac,{})}),(0,x.jsx)(o.Route,{path:"conversation/:conversationId",element:(0,x.jsx)(lc,{})}),(0,x.jsx)(o.Route,{path:"conversation/trigger-screen",element:(0,x.jsx)(mc,{})})]}),(0,x.jsxs)(o.Route,{path:p.ZL.path,children:[(0,x.jsx)(o.Route,{index:!0,element:(0,x.jsx)(vm,{})}),(0,x.jsx)(o.Route,{path:"collection/*",element:(0,x.jsx)(vm,{})}),(0,x.jsx)(o.Route,{path:"article/:articleId",element:(0,x.jsx)(jm,{})}),(0,x.jsx)(o.Route,{path:"article-standalone",element:(0,x.jsx)(jm,{})})]}),(0,x.jsxs)(o.Route,{path:p.ND.path,children:[(0,x.jsx)(o.Route,{index:!0,element:(0,x.jsx)(ag,{})}),(0,x.jsx)(o.Route,{path:"feed",element:(0,x.jsx)(ag,{})}),(0,x.jsx)(o.Route,{path:"details/:newsItemId",element:(0,x.jsx)(zm,{})})]}),(0,x.jsxs)(o.Route,{path:p.Ul.path,children:[(0,x.jsx)(o.Route,{index:!0,element:(0,x.jsx)(Lg,{})}),(0,x.jsx)(o.Route,{path:u.TA.checklistDetails(":checklistProgressId"),element:(0,x.jsx)(Ux,{})}),(0,x.jsx)(o.Route,{path:u.TA.checklistCompletionScreen(":checklistProgressId"),element:(0,x.jsx)(Qx,{})})]}),(0,x.jsxs)(o.Route,{path:p.rK.path,children:[(0,x.jsx)(o.Route,{index:!0,element:(0,x.jsx)(hg,{}),loader:ug(e)}),(0,x.jsx)(o.Route,{path:"details/:ticketId",element:(0,x.jsx)(gg,{}),loader:mg(e)})]}),(0,x.jsx)(o.Route,{path:"*",element:(0,x.jsx)(f,{})})]})]})))(t),{initialEntries:[g]});return function(e,t){const{historyAction:i,location:n}=e.state;t.dispatch((0,cy.Uc)({action:i,location:n})),e.subscribe((({historyAction:e,location:i})=>{t.dispatch((0,cy.Uc)({action:e,location:i}))})),t.dispatch((0,dy.ch)({actionCreator:cy.zN,effect(t){const{state:i,to:n}=t.payload;"number"==typeof n?e.navigate(n):e.navigate(n,i)}}));const r=t.getState().router.navigationQueue;for(const t of r)"number"==typeof t.to?e.navigate(t.to):e.navigate(t.to,t.state);t.dispatch((0,cy.yr)())}(v,t),h.render((0,x.jsx)(c.A,{window:e,children:(0,x.jsx)(Wa.Provider,{value:e,children:(0,x.jsx)(r.Kq,{store:t,children:(0,x.jsx)(l.A,{children:(0,x.jsx)(a.A,{target:s,isSandbox:!1,children:(0,x.jsx)(gy,{children:(0,x.jsx)(o.RouterProvider,{router:v})})})})})})})),()=>{h.unmount(),(0,d.bf)(i),(0,d.bf)(s)}}},80929:(e,t,i)=>{"use strict";i.d(t,{L:()=>o});var n=i(50014),r=i.n(n);const o=(0,i(97132).Mz)((e=>e.banners),(e=>r()(e,"id")))},71982:(e,t,i)=>{"use strict";i.d(t,{l:()=>c});var n=i(97132),r=i(79148),o=i(64234),s=i(81323);const a=(0,n.Mz)(s.ji,(e=>{var t;return(null==(t=e.app.features)?void 0:t.conversationsAreExpandable)??!1}),((e,t)=>!!e&&(e.startsWith("/news/details")||e.startsWith("/messages/conversation")&&t))),l=(0,n.Mz)(s.ji,(e=>!!e&&e.startsWith("/messages/conversation"))),c=(0,n.Mz)((e=>e.chrome.shouldExpand),r.p8,a,o.IS,l,(e=>e.chrome.wasExplicitlyChanged),((e,t,i,n,r,o)=>!(n||!e)&&(!(r&&!o)&&(t||i))))},18873:(e,t,i)=>{"use strict";i.d(t,{FK:()=>u,VV:()=>h,cE:()=>p,iZ:()=>d,xH:()=>c});var n=i(97132),r=i(98099),o=i(38611),s=i(84443),a=i(49651),l=i(97899);const c=e=>{if(!e||!e.parts)return;const t=e.parts[e.parts.length-1];return t&&t.replyOptions&&0!==t.replyOptions.length?t:void 0},d=e=>{const t=c(e);if(t)return t.replyOptions},p=(0,n.Mz)(r.Gm,(e=>{var t;return!(null==e||null==(t=e.composerState)||!t.selfServeSuggestionsEnabled)})),u=e=>(0,n.Mz)([e=>e.inboundSuggestions.isDismissed,s.$,e=>e.predictiveAnswers.composerSuggestions,e=>e.operator.composerHasContent,p,l.N7],((t,i,n,r,s,l)=>{var c;const p=!e.id&&!!l,u=!e.userParticipated,h=d(e),m=Object.assign({},o.n6,{suggestions:h||[]}),g=!!i&&!t&&p&&u&&!e.botIntroId,x=!!h,f=p&&u&&!g&&!x&&!!n,{composerSuggestions:v}=e,y=(null==v||null==(c=v.suggestions)?void 0:c.length)>0,b=null==v?void 0:v.isViewed,w=s&&r&&y,j=b&&!x&&s&&r&&!y;if(e.preventEndUserReplies)return o.n6;if(b&&j)return Object.assign({},o.n6,{prompt:[{type:"paragraph",text:(0,a.Tl)("empty_suggestion_prompt")}]});if(w)return Object.assign({},v,{prompt:[{type:"paragraph",text:(0,a.Tl)("suggested_content_prompt")}]});if(g)return Object.assign({},i,{isInboundBotSuggestions:!0});if(x)return Object.assign({},m,{isQuickReplies:!0});if(f){const e=[{type:"paragraph",text:(0,a.Tl)("suggested_content_prompt")}];return Object.assign({},n,{prompt:e,isPredictiveAnswers:!0})}return o.n6})),h=e=>(0,n.Mz)([l.Vy,t=>u(e)(t)],((e,t)=>e?null:t.suggestionParts?t.suggestionParts:null))},47452:(e,t,i)=>{"use strict";i.d(t,{Ch:()=>d,DT:()=>x,He:()=>k,Yn:()=>f,af:()=>A,qF:()=>c,wu:()=>u});var n=i(50014),r=i.n(n),o=i(97132),s=i(93346),a=i(81323),l=i(90933);const c=(0,o.Mz)((e=>e.home),(e=>{var t,i,n,r,o;if(null==e||!e.header)return{greeting:void 0,introduction:void 0,logoUrl:void 0,textColorType:void 0,showAvatars:void 0,compact:{showHeader:!1}};const{header:s}=e,a=null==s||null==(t=s.content)?void 0:t.greeting,l=null==s||null==(i=s.content)?void 0:i.showAvatars;return{greeting:a,introduction:null==s||null==(n=s.content)?void 0:n.introduction,logoUrl:null==s||null==(r=s.content)?void 0:r.logoUrl,textColorType:null==s||null==(o=s.content)?void 0:o.textColorType,showAvatars:l,compact:{showHeader:!(!a&&!l)}}})),d=e=>{var t;return null==(t=e.home)||null==(t=t.header)?void 0:t.background},p=e=>e.home,u=e=>e.home.isStale,h=({home:{cards:e}})=>null==e?void 0:e.find((e=>"recent_conversation"===e.type)),m=(0,o.Mz)(h,(e=>(null==e?void 0:e.limit)||1)),g=(0,o.Mz)(s.Ay,(e=>e.newConversation),((e,t)=>{const i=(0,l.dT)(e),n=r()([...i.filter(y)],(e=>e.id));return t&&1===t.parts.length&&"saving"===t.parts[0].saveState&&n.unshift(t),n})),x=(0,o.Mz)(g,m,((e,t)=>e.slice(0,t))),f=(0,o.Mz)(x,s.Ay,((e,t)=>e.length<t.length)),v=(0,o.Mz)(p,(({cards:e=[]})=>{return t="help_center",e.some((e=>e.type===t));var t}));function y(e){return e.eligibleForRecentConversations&&!e.excludeFromConversationsList}const b=(0,o.Mz)([v,a.TB,a.Ei],((e,t,i)=>(!e||!t)&&i)),w=(0,o.Mz)(g,(e=>e&&e.length>0)),j=(0,o.Mz)(h,w,((e,t)=>(null==e?void 0:e.conversations.length)>0||t)),k=({home:{cards:e}})=>null==e?void 0:e.find((e=>"new_conversation"===e.type)),A=(0,o.Mz)(a.Er,p,b,v,j,((e,{cards:t=[],isFetched:i,isFailed:n},r,o,s)=>{const a=i&&e;let l=t;return l=l.filter((e=>{switch(e.type){case"recent_conversation":return s;case"new_conversation":return r;case"help_center":return o;default:return!0}})),{slots:l,isFetched:a,isFailed:n}}))},23170:(e,t,i)=>{"use strict";i.r(t),i.d(t,{addBreadcrumb:()=>w,addExtra:()=>b,addTag:()=>y,createIntercomTransport:()=>f,logError:()=>j,logMessage:()=>k});var n,r=i(96540),o=i(93500),s=i(64251),a=i(41186),l=i(6810),c=i(95334),d=i(51543),p=i(69830);const u=i(76141),h=1,m=()=>new Promise(((e,t)=>{let i=window.parent.document.querySelector("#sentry-errors-frame");if(i)return setTimeout((()=>e(i)),1e3);i=document.createElement("iframe"),i.id="sentry-errors-frame",i.style.display="none",i.src=u.sentry_proxy_path,i.onload=()=>setTimeout((()=>e(i)),1e3),i.onerror=()=>{i.parentNode.removeChild(i),t(null)},window.parent.document.body.appendChild(i)})),g=e=>{if("string"!=typeof e)return!1;return e.split("\n").some((e=>"event"===JSON.parse(e).type))};function x(e,t){(0,p.sq)("captureSentryEventFailed",{message:e&&e.message}),t({status:"error"})}function f(e={}){return(0,c.o)(e,(function(t){return new Promise((i=>{try{if(!(0,d.US)())return i({status:"success"});if(!g(t.body))return i({status:"success"});const n={url:e.url,event:t.body,version:h};m().then((e=>{e.contentWindow.postMessage(n,e.src),i({status:"success"})})).catch((e=>x(e,i)))}catch(e){x(e,i)}}))}))}o.Ts({dsn:u.sentry_dsn,release:"07d63604118be75f17de917c22c0dabbf6780a43",environment:"production",transport:f,sampleRate:.2,allowUrls:[/https?:\/\/js\.intercomcdn\.com/,/https?:\/\/intercom-sheets\.com/],ignoreErrors:[/<unknown>/i,/AbortError/i,/SecurityError/i,/NotAllowedError/i,/NotFoundError/i,/Unable to connect to the target server/i,/Impossible de se connecter au serveur cible/i,/Die Verbindung mit dem Zielserver konnte nicht hergestellt werden/i,/No se puede conectar con el servidor de destino/i,/Loading chunk (\d+) failed/i,/QuotaExceededError/i,/NS_ERROR_DOM_QUOTA_REACHED/i,/Not enough storage/i,/Out of memory/i,/about:blank/i,/http_post_session_empty/i,/error\.list/i,/The object can not be found here/i,/The system cannot locate the resource specified/i,"O is not defined","Not implemented on this platform","Identifier 'originalPrompt' has already been declared","Load failed","null","undefined"],integrations:e=>e.filter((e=>"GlobalHandlers"!==e.name))}),s.SA((e=>{let t=.2;return e.message&&-1!==e.message.indexOf("Conversation missing reply")&&(t=1),Math.random()>t?null:e}));const v=a.o5();v.setTag("react.version",r.version),null!=(n=window)&&null!=(n=n.parent)&&null!=(n=n.location)&&n.href&&v.setTag("location.href",window.parent.location.href);const y=(e,t)=>{v.setTag(e,t)},b=(e,t)=>{v.setExtra(e,t)},w=e=>{l.Z(e)},j=e=>{try{s.Cp(e)}catch(e){(0,p.sq)("captureSentryExceptionFailed",{message:e&&e.message})}},k=e=>{try{s.wd(e)}catch(e){(0,p.sq)("captureSentryMessageFailed",{message:e&&e.message})}}},32764:(e,t,i)=>{"use strict";i.d(t,{Ff:()=>g,IC:()=>h,Ow:()=>m,Xi:()=>y,d_:()=>x,jM:()=>w,me:()=>b,sH:()=>d,yB:()=>j,zS:()=>u});var n=i(86923),r=i(82272),o=i(61376),s=i(99336),a=i(72977);var l={name:"qf1dz",styles:"margin-left:45px;position:relative"},c={name:"1jcxgks",styles:"padding-left:45px;position:relative"};const d=(0,n.Ay)("div",{target:"ezy7gx811"})((({isInline:e,isBorderless:t})=>!e&&!t&&c)," ",(({isBorderless:e})=>e&&l)," ",(({isInline:e,theme:t})=>e&&(0,n.AH)(r.o," ",o.C.className," &,",s.sC.className," &,.intercom-comment &{box-shadow:",t.shadowXSmall,";margin-bottom:10px;}"))," ",(({isMessage:e})=>e&&(0,n.AH)("width:100%;padding-left:0;",k.className,"{padding:21px 30px;}",u.className,"{margin-bottom:8px;font-size:20px;}",w.className,"{font-size:14px;line-height:20px;}",m.className,"{height:26px;font-size:13px;}",x.className,"{margin-right:8px;}",b.className,"{width:calc(100% - 32px);padding-top:3px;}"))," ",(({theme:e,isBorderless:t,isInline:i})=>(!t&&!i||t||i)&&(0,n.AH)(p.className,"{display:block;position:relative;overflow:hidden;background-color:",e.containerBaseNeutral,";transition:all 0.12s ease-out;text-decoration:none!important;&:first-of-type{",(0,a.HF)({theme:e})," border-radius:3px 3px 0 0;}&:last-child{border-radius:3px;}}",k.className,"{padding:20px;}",u.className,"{font-size:14px;line-height:1.2;overflow:wrap;display:flex;align-items:center;justify-content:center;gap:4px;font-weight:600;&,&:visited{color:",e.textDefault,";}&[type='educate.help_center']{text-align:center;}}",w.className,"{color:",e.textDefault,";font-size:13px;line-height:1.38;",a.IY,";}",m.className,"{margin-top:11px;}",x.className,"{display:inline-block;margin-right:8px;}",b.className,"{width:calc(100% - 32px);display:inline-block;vertical-align:middle;color:",e.textMuted,";line-height:16px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;span{white-space:nowrap;}}")),";"),p=(0,n.Ay)("a",{target:"ezy7gx810"})((({theme:e,isGrouped:t})=>t&&(0,n.AH)("border-bottom:1px solid ",e.borderEmphasisNeutral,";&:last-child{border-bottom:none;}&:hover{background-color:",e.containerEmphasisNeutral,";transform:none;}",m.className,"{margin-top:5px;}",k.className,"{padding:15px 20px;}")),";"),u=(0,n.Ay)("div",{target:"ezy7gx89"})(),h=(0,n.Ay)("span",{target:"ezy7gx88"})({name:"6jwybp",styles:"height:16px"}),m=(0,n.Ay)("div",{target:"ezy7gx87"})(),g=(0,n.Ay)("span",{target:"ezy7gx86"})(),x=(0,n.Ay)("div",{target:"ezy7gx85"})();var f={name:"ac0snl",styles:"position:absolute;left:0;bottom:10px"},v={name:"10ltq6i",styles:"bottom:0px"};const y=(0,n.Ay)("div",{target:"ezy7gx84"})((({isBorderless:e})=>e&&v)," ",(({isBorderless:e})=>!e&&f),";"),b=(0,n.Ay)("div",{target:"ezy7gx83"})({name:"vh5nmu",styles:"font-size:13px"}),w=(0,n.Ay)("div",{target:"ezy7gx82"})(),j=(0,n.Ay)("div",{target:"ezy7gx81"})("text-align:center;color:",(0,n.w4)("textMuted"),";font-size:13px;clear:both;padding-top:0;padding-bottom:12px;"),k=(0,n.Ay)("div",{target:"ezy7gx80"})("@media (-ms-high-contrast: active){border:1px solid ",(0,n.w4)("borderNeutral"),";}")},15776:(e,t,i)=>{"use strict";i.d(t,{w:()=>h});var n=i(86923),r=i(99336),o=i(45134),s=i(58468),a=i(65252),l=i(26639),c=i(55239);var d={name:"14br8q4",styles:"float:none;padding-left:0;width:100%;margin-top:8px"},p={name:"191fc13",styles:"width:calc(100% - 100px)"},u={name:"bv6zur",styles:"margin-bottom:8px;width:100%;box-sizing:border-box"};const h=(0,n.Ay)("div",{target:"e1a7e1h30"})("position:relative;text-align:left;",(({isUser:e})=>e&&(0,n.AH)("/* @noflip */float:right;padding-left:48px;width:calc(100% - 48px);",l.W.className,"{/* @noflip */float:right;}"))," ",(({isUser:e,isSingleBlock:t})=>e&&t&&(0,n.AH)(o.F.className,"{/* @noflip */float:right;}",c.n.className,"{/* @noflip */float:right;}"))," ",(({isAdmin:e})=>e&&(0,n.AH)("/* @noflip */float:left;padding-left:45px;width:calc(100% - 45px);",c.n.className,"{/* @noflip */float:left;}"))," ",(({isUser:e,isAdmin:t})=>!e&&!t&&(0,n.AH)("/* @noflip */float:left;padding-left:48px;",l.W.className,"{/* @noflip */float:left;}"))," ",(({theme:e,hasAvatar:t,isBorderless:i})=>e.isLeftAlign&&t&&i&&!e.isMobileSize&&(0,n.AH)("margin-left:55px;",s.C.className,",",r.ob.className,"{/* @noflip */left:-10px;}"))," ",(({isBorderless:e})=>e&&u)," ",(({isAdmin:e,isBorderless:t})=>e&&t&&(0,n.AH)("/* @noflip */float:right;",a.j.className,"{padding:0px;margin-top:6px;}"))," ",(({isUser:e,isBorderless:t,theme:i})=>e&&t&&(0,n.AH)(a.j.className,"{float:none;color:",i.isPrimaryColorAsTheme?i.textMuted:i.textOnInverse,";opacity:0.5;width:auto;}",a.J.className,"{float:none;}"))," ",(({theme:e})=>e.tabNavigation&&(0,n.AH)("padding-bottom:20px;",s.C.className,"{bottom:30px;}"))," ",(({theme:e,isBorderless:t})=>e.isLeftAlign&&t&&p)," ",(({theme:e,isAdmin:t,isBorderless:i})=>t&&i&&e.isMobileBrowser&&d),";")},52271:(e,t,i)=>{"use strict";i.d(t,{$C:()=>g,OO:()=>p,cC:()=>f,cT:()=>v,lT:()=>h});var n=i(86923),r=(i(72977),i(18603));const o="normal",s=n.i7`
  0% {
    opacity: 0;
  }

  70% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
`,a={name:"3irtv8",styles:"position:relative;float:left;display:inline-block;cursor:pointer;opacity:0.8;transition:opacity 200ms ease;height:51px;margin-top:2px;&:hover{opacity:1;}&:before{position:absolute;top:20px;background-position:center;}svg{position:absolute;top:18px;}padding:0 6px"};var l={name:"1fol78c",styles:"textarea{font-size:16px;}"},c={name:"1h3f2ms",styles:"textarea:focus{box-shadow:none;}"},d={name:"bigtx2",styles:"background:none"};(0,n.w4)("fontSansSerif"),(0,n.w4)("inputAlt"),(0,n.w4)("textDefault"),(0,n.w4)("inputAlt"),(0,n.w4)("textMuted"),(0,n.w4)("fontSansSerif"),(0,n.w4)("inputAlt"),(0,n.w4)("alphaBlack10"),(0,n.w4)("borderNeutral");const p=(0,n.Ay)("div",{target:"e50zdj18"})("position:absolute;top:0;right:",21,"px;",(({isBorderless:e})=>e&&(0,n.AH)("right:",20,"px;")),";"),u=({theme:e,showEmojiPicker:t,isPrimaryColorReadable:i})=>(0,n.AH)(a," color:",e.iconMuted,";",t&&(0,n.AH)("svg circle{fill:",i?e.appColor:e.iconMuted,";stroke:",i?e.appColor:e.iconMuted,";}color:",i?e.textWhite:e.textBlack,";"),";"),h=(0,n.Ay)("span",{target:"e50zdj16"})(u,";"),m=({theme:e,showGifPicker:t,isPrimaryColorReadable:i})=>(0,n.AH)(a," ",t&&(0,n.AH)("svg path{fill:",i?e.appColor:e.iconMuted,";}"),";"),g=(0,n.Ay)("span",{target:"e50zdj14"})(m,";"),x=()=>a,f=(0,n.Ay)("span",{target:"e50zdj12"})(x,";"),v=(0,n.Ay)("span",{target:"e50zdj10"})({name:"1r5gb7q",styles:"display:inline-block"})},35867:(e,t,i)=>{"use strict";i.d(t,{q:()=>b,K:()=>p});var n=i(86923),r=i(72977),o=i(99336),s=i(65252);const a=i.p+"images/warning-icon.4bbce092cc2b54bc59a1.png",l=i.p+"images/warning-icon@2x.f9f4cc2992785f21b4a8.png";var c=i(26639),d=i(15776);const p="200ms";var u={name:"12d7z7x",styles:"*{cursor:pointer;}"},h={name:"mpkj0c",styles:"padding-bottom:8px"},m={name:"1u53ekv",styles:"padding-bottom:16px"},g={name:"1u53ekv",styles:"padding-bottom:16px"},x={name:"1ml9tbj",styles:"padding-bottom:2px"},f={name:"1ml9tbj",styles:"padding-bottom:2px"},v={name:"mpkj0c",styles:"padding-bottom:8px"},y={name:"lb05wl",styles:"&.intercom-conversation-part-enter{transform:translateY(0);}"};const b=(0,n.Ay)("div",{target:"eqhze2h0"})(r.t6," padding-bottom:16px;",(({isAdmin:e,flatConversationStyle:t})=>e&&!t&&(0,n.AH)("&.intercom-conversation-part-enter{opacity:0;}&.intercom-conversation-part-enter.intercom-conversation-part-enter-active{opacity:1;transition:opacity ",p,";}",s.j.className,"{/* @noflip */padding-left:45px;}"))," ",(({isSelf:e,conversationHasScrolled:t})=>e&&(0,n.AH)("&.intercom-conversation-part-enter{opacity:0;transform:translateY(40px);}&.intercom-conversation-part-enter.intercom-conversation-part-enter-active{opacity:1;transform:translateY(0);transition:opacity ",p,",transform ",p,";}",t&&y," ",s.j.className,"{/* @noflip */float:right;}",s.J.className,"{/* @noflip */float:right;}"))," ",(({isAdmin:e,isSelf:t})=>!e&&!t&&(0,n.AH)(s.j.className,"{/* @noflip */padding-left:45px;}"))," ",(({grouped:e})=>e&&v)," ",(({groupingPosition:e,flatConversationStyle:t})=>!t&&("middle"===e||"top"===e)&&f)," ",(({groupingPosition:e,isBorderless:t,isSelf:i})=>t&&i&&("middle"===e||"top"===e)&&x)," ",(({isBorderless:e,isAdmin:t})=>e&&t&&g)," ",(({groupingPosition:e})=>("bottom"===e||"standalone"===e)&&m)," ",(({isLastPart:e,isBorderless:t})=>e&&(0,n.AH)("padding-bottom:24px;",t&&h,";"))," ",(({theme:e,isFailedPart:t,isRetryable:i})=>t&&(0,n.AH)(s.j.className,"{",(0,r.op)(a,l,"11px","11px")," padding-left:15px;background-position:left 7px;background-repeat:no-repeat;color:",e.textError,";width:auto;}",i&&u,";"))," ",o.sC.className,"+",d.w.className,"{",c.W.className,"{padding-bottom:8px;}}")},5945:(e,t,i)=>{"use strict";i.d(t,{Bp:()=>l,ES:()=>c,Ju:()=>p,ND:()=>o});var n=i(86923),r=i(35867);const o=(0,n.Ay)("div",{target:"e1lfi5hh3"})({name:"1es4p3n",styles:"display:flex;flex-direction:column;flex-grow:1;flex-shrink:0;justify-content:space-between;overflow-anchor:none;height:auto;position:relative;z-index:2"});var s={name:"1vf2ozo",styles:"opacity:0.2"},a={name:"1wx2bp",styles:"transition:none"};const l=(0,n.Ay)("div",{target:"e1lfi5hh2"})("padding:24px ",(({theme:e,useUpdatedConversationPadding:t})=>t?e.conversationHorizontalPadding:e.globalHorizontalPadding),"px 0;display:flex;flex-flow:row wrap;transition:transform ",r.K,";overflow-anchor:none;>*{flex:1 100%;max-width:100%;}",(({shouldDisableScrollingAnimation:e})=>e&&a)," ",(({isBorderless:e,isFaded:t})=>e&&(0,n.AH)("padding:0;",t&&s,";")),";"),c=(0,n.Ay)("div",{target:"e1lfi5hh1"})("text-align:center;color:",(0,n.w4)("textMuted"),";font-size:13px;clear:both;padding-top:14px;padding-bottom:14px;&:first-of-type{padding-top:0px;}"),d=n.i7`  
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  
  to {
    opacity: 1;
    transform: translateY(0);
  }
  `,p=(0,n.Ay)("div",{target:"e1lfi5hh0"})((({shouldAnimate:e})=>e&&(0,n.AH)("animation:",d," 400ms ease-out;")),";")},66501:(e,t,i)=>{"use strict";i.d(t,{E:()=>o,t:()=>a});var n=i(86923),r=i(79868);const o=(0,n.Ay)("div",{target:"edo8wak1"})("max-width:280px;position:relative;",r.w5.className,"{margin-top:8px;margin-bottom:8px;margin-left:45px;}",(({isBorderless:e})=>e&&(0,n.AH)(r.w5.className,"{margin-left:45px;}"))," ",(({useNewConversationStyle:e})=>e&&(0,n.AH)("margin-bottom:0;",r.w5.className,"{margin-left:0;margin-top:0;margin-bottom:0;}")),";");var s={name:"ac0snl",styles:"position:absolute;left:0;bottom:10px"};const a=(0,n.Ay)("div",{target:"edo8wak0"})((({isBorderless:e})=>!e&&s),";")},79868:(e,t,i)=>{"use strict";i.d(t,{AM:()=>u,Iu:()=>p,Qy:()=>c,WS:()=>l,ZM:()=>a,rs:()=>m,tV:()=>h,u9:()=>d,w5:()=>s});var n=i(86923),r=i(72977),o=i(65318);const s=(0,n.Ay)("div",{target:"e73xzvp8"})("margin:30px 0 30px 0;position:relative;text-align:left;background-color:",(0,n.w4)("containerBaseNeutral"),";border-radius:5px;color:",(0,n.w4)("textDefault"),";transition:height 200ms ease-in-out;height:",(0,n.xk)("height"),"px;",r.HF," ",(({useNewConversationStyle:e,groupingPosition:t,theme:i})=>e&&(0,n.AH)("margin-bottom:4px;box-shadow:none;border-radius:",(0,o.EF)(t),";border:1px solid ",i.borderEmphasisNeutral,";background:",i.alphaWhite90,";")),";"),a=(0,n.Ay)("div",{target:"e73xzvp7"})({name:"vxuddk",styles:"padding:24px"}),l=(0,n.Ay)("div",{target:"e73xzvp6"})("font-size:14px;color:",(0,n.w4)("textDefault"),";line-height:22px;text-align:center;margin-bottom:3px;"),c=(0,n.Ay)("div",{target:"e73xzvp5"})("font-size:13px;line-height:19px;color:",(0,n.w4)("textMuted"),";text-align:center;"),d=(0,n.Ay)("div",{target:"e73xzvp4"})("border-top:1px solid ",(0,n.w4)("borderEmphasisNeutral"),";color:",(0,n.w4)("textMuted"),";font-size:14px;line-height:19px;max-height:140px;overflow-y:auto;padding:16px 24px;"),p=(0,n.Ay)("div",{target:"e73xzvp3"})({name:"1jba3gn",styles:"padding:20px 20px 0"}),u=(0,n.Ay)("div",{target:"e73xzvp2"})({name:"1jtfsfi",styles:"position:relative;margin-bottom:5px"}),h=(0,n.Ay)("div",{target:"e73xzvp1"})("font-size:14px;line-height:24px;color:",(0,n.w4)("textDefault"),";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;position:static;max-height:48px;text-align:center;"),m=(0,n.Ay)("div",{target:"e73xzvp0"})({name:"nore23",styles:"margin:8px 10px 6px;display:flex;justify-content:space-between"})},23043:(e,t,i)=>{"use strict";i.d(t,{wT:()=>S,mc:()=>f,aV:()=>w,Vj:()=>_,Mv:()=>E,O6:()=>N,o8:()=>D,$e:()=>V,R4:()=>L,Or:()=>H,_r:()=>O,HF:()=>M,CJ:()=>b,UC:()=>C,hE:()=>v,rZ:()=>T,_e:()=>y});var n=i(86923),r=i(96540),o=i(52555),s=i(83034),a=i(74848);const l=(0,r.forwardRef)((({value:e="",label:t="",className:i="",focused:n,style:l,onClick:c},d)=>{const p=(0,r.useRef)(null);(0,r.useEffect)((()=>{n&&p.current&&p.current.focus()}),[n]);return(0,a.jsx)(o.CS.button,{onClick:()=>{c&&c(e)},value:"string"==typeof e||"number"==typeof e?e:null==e?"":String(e),style:l,className:i,ref:(0,s.A)(p,d),children:t})}));l.displayName="Button";const c=l;var d=i(78253);const p=n.i7`
  0% {
    opacity: 0;
  }
  70% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`;var u={name:"v5fxai",styles:"border-radius:12px;background:rgba(255, 255, 255, 0.04);backdrop-filter:blur(100px);margin:14px 20px;padding:12px 12px 2px"},h={name:"14q70p4",styles:"/* @noflip */padding:0 0 0 45px;margin:0;background:none"},m={name:"1886e0j",styles:"padding-top:13px;padding-bottom:6px"},g={name:"5c1ew",styles:"transition:background 100ms,box-shadow 100ms"},x={name:"35nbzl",styles:"transition:padding 100ms,background 100ms,box-shadow 100ms"};const f=(0,n.Ay)("div",{target:"eqq3twc10"})("position:relative;background:",(0,n.w4)("baseAlpha"),";padding:0 26px;margin-bottom:-3px;z-index:1;",(({isBorderless:e})=>e?x:g)," ",(({suggestionsVisible:e})=>e&&m)," ",(({suggestionsVisible:e,isTypeaheadSuggestions:t,isBorderless:i,theme:r})=>e&&t&&!i&&(0,n.AH)("z-index:2;margin-top:3px;box-shadow:inset 0px 9px 8px -10px rgba(38, 76, 152, 0.2),inset 0px -9px 8px -10px rgba(38, 76, 152, 0.2);background:",r.containerBaseNeutral,";"))," ",(({isBorderless:e})=>e&&h)," ",(({isBorderless:e,suggestionsVisible:t})=>e&&t&&(0,n.AH)("padding-top:10px;animation:",p," 750ms ease;"))," ",(({useGroupedUI:e})=>e&&u),";"),v=(0,n.Ay)("h3",{target:"eqq3twc9"})("display:block;color:",(0,n.w4)("textMuted"),";font-size:14px;padding:8px 5px;/* @noflip */text-align:right;"),y=(0,n.Ay)("h3",{target:"eqq3twc8"})("display:block;color:",(0,n.w4)("textDefault"),";font-size:14px;margin-bottom:12px;line-height:20px;",(({foregroundColor:e})=>(0,n.AH)("color:",e,";")),";"),b=(0,n.Ay)("div",{target:"eqq3twc7"})({name:"wy41lc",styles:"border-top:none;position:relative"}),w=600;var j={name:"1h8nup8",styles:"overflow:visible"},k={name:"1wx2bp",styles:"transition:none"},A={name:"44j6sp",styles:"margin-top:12px;margin-bottom:-6px"};const C=(0,n.Ay)("div",{target:"eqq3twc6"})("position:relative;transition:height ",w,"ms;overflow:hidden;height:",(0,n.xk)("height"),"px;max-width:",(0,n.w4)("messengerWidthPx"),"px;",(({isInline:e})=>e&&A)," ",(({height:e,isInline:t})=>e>0&&!t&&(0,n.AH)("min-height:",Math.max(e,52),"px;"))," ",(({isInboundBot:e})=>e&&k)," ",(({isExpanded:e,theme:t})=>e&&(0,n.AH)("max-width:",t.messengerExpandedWidthPx,"px;"))," ",(({useNewConversationalUI:e,isInline:t})=>(e||t)&&j),";"),S=10,T=10,_=12,E=10,N=14;var B={name:"86snxc",styles:"/* @noflip */left:0"},I={name:"18lthe7",styles:"/* @noflip */right:0"},R={name:"18lthe7",styles:"/* @noflip */right:0"},P={name:"1r5gb7q",styles:"display:inline-block"},z={name:"4zleql",styles:"display:block"};const M=(0,n.Ay)(c,{target:"eqq3twc5"})("position:absolute;top:0;font-size:14px;line-height:18px;padding:",10,"px ",E,"px;border-radius:6px;background-color:",(0,n.w4)("quickReplyBackgroundColor"),";color:",(0,n.w4)("quickReplyTextColor"),";transition:background-color 250ms ease-in-out;",(({isTypeaheadSuggestion:e})=>e?z:P)," &:hover{background-color:",(0,n.w4)("appColor"),";color:",(0,n.w4)("textWhite"),";}",(({theme:e})=>"light"===e.primaryType&&(0,n.AH)("&:hover{color:",e.textBlack,";}"))," ",(({theme:e,useNewConversationalUI:t,isInline:i})=>t||i?(0,n.AH)("border-radius:40px;background-color:",e.containerAlt,";border:1px solid ",e.borderNeutral,";box-shadow:",e.shadowMedium,";padding:",i?7:10,"px ",N,"px;"):R)," ",(({buttonAlignment:e})=>"right"===e&&I)," ",(({buttonAlignment:e})=>"left"===e&&B),";"),O=(0,n.Ay)("div",{target:"eqq3twc4"})({name:"18l8tfr",styles:"position:absolute;visibility:hidden;pointer-events:none;opacity:0;left:0;right:0;height:0"}),H=(0,n.Ay)("div",{target:"eqq3twc3"})({name:"1r5gb7q",styles:"display:inline-block"}),D=(0,n.Ay)("div",{target:"eqq3twc2"})({name:"1bxbmsj",styles:"padding:3px 0 16px;/* @noflip */text-align:right"}),L=(0,n.Ay)("div",{target:"eqq3twc1"})("display:inline-block;font-size:14px;color:",(0,n.w4)("textMuted"),";cursor:pointer;line-height:20px;"),V=(0,n.Ay)(d.A,{target:"eqq3twc0"})("height:10px;width:10px;margin-left:5px;text-align:right;vertical-align:middle;cursor:pointer;path{fill:",(0,n.w4)("textMuted"),";}")},68266:(e,t,i)=>{"use strict";i.d(t,{$U:()=>a,Dq:()=>s,Gw:()=>g,Km:()=>f,NV:()=>h,T0:()=>c,Yk:()=>d,jS:()=>x,v3:()=>l});var n=i(86923),r=i(61041),o=i(17905);const s=5,a=7,l=10,c=300,d=l+120,p="cubic-bezier(0.165, 0.84, 0.44, 1)",u=n.i7`
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  30% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,h=(0,n.Ay)("div",{target:"ep19hdq3"})("padding:0 ",s,"px;");var m={name:"bqgisr",styles:"box-shadow:0 2px 8px 0 rgba(35, 47, 53, 0.2)"};const g=(0,n.Ay)("div",{target:"ep19hdq2"})("position:relative;height:",(0,n.xk)("height"),"px;width:",340,"px;max-width:100%;padding-bottom:",l,"px;",o.jt.className,"{height:",120,"px;",(({theme:e})=>e.isMobile&&m),";}",r.Eg.className,"{animation:",u," 0.25s ",p,";}"),x=(0,n.Ay)("div",{target:"ep19hdq1"})("box-sizing:border-box;position:absolute;bottom:",l,"px;right:0px;width:100%;backface-visibility:hidden;transform-origin:top center;transition:transform ",c,"ms ",p,";",(({position:e})=>2===e&&(0,n.AH)("transform:translate3d(0, -",a,"px, 0) scale(0.95);"))," ",(({position:e})=>3===e&&(0,n.AH)("transform:translate3d(0, -",2*a,"px, 0) scale(0.9);"))," ",(({position:e,expanded:t})=>2===e&&t&&(0,n.AH)("transition-delay:150ms;transform:translate3d(0, -",d,"px, 0) scale(1);"))," ",(({position:e,expanded:t})=>3===e&&t&&(0,n.AH)("transition-delay:150ms;transform:translate3d(0, -",2*d,"px, 0) scale(1);")),";"),f=(0,n.Ay)("div",{target:"ep19hdq0"})("padding-top:",l,"px;:after{content:'';clear:both;display:table;}",r.cA.className,"{transition:opacity ",c/1.5,"ms ",p,";",(({expandAnimationInProgress:e})=>e&&(0,n.AH)("transition-delay:",c,"ms;")),";}")},58708:(e,t,i)=>{"use strict";i.d(t,{w$:()=>v,vl:()=>f,ao:()=>M,Jd:()=>z,gZ:()=>D,j3:()=>H,rQ:()=>P,No:()=>x,n9:()=>$,Tu:()=>g,Ve:()=>W,Rd:()=>E,Oz:()=>y,Yh:()=>j,TX:()=>A,bR:()=>I,o8:()=>w,Sm:()=>V,ok:()=>F,z1:()=>G,iW:()=>h,WO:()=>S,PT:()=>u,W6:()=>m,$w:()=>_,S_:()=>N});var n=i(86923),r=i(72977);const o=i.p+"images/next-icon.b010feb9a0ce3d2f9208.png",s=i.p+"images/next-icon@2x.ed4b169122394c03a445.png",a=i.p+"images/check-icon.da9c45de7d0f8cad78ca.png",l=i.p+"images/check-icon@2x.61cf8b8d3c4e1f7d9466.png";var c=i(78267);var d={name:"1wyubxg",styles:"margin-top:0;margin-bottom:5px"},p={name:"1e8ddzi",styles:"margin-top:5px;margin-bottom:0"};const u=(0,n.Ay)("div",{target:"e584tag25"})("margin:30px 0 30px 0;padding:16px 20px 20px;color:",(0,n.w4)("textDefault"),";position:relative;border-radius:5px;text-align:left;background-color:",(0,n.w4)("containerBaseNeutral"),";",(({isBorderless:e,lastPart:t})=>e&&t&&p)," ",(({isBorderless:e,nextPartByAdmin:t})=>e&&t&&d)," ",(({isSuccessful:e})=>e&&(0,n.AH)(_.className,"{position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;}",N.className,"{position:static;opacity:1;visibility:visible;max-height:48px;}")),";"),h=(0,n.Ay)("span",{target:"e584tag24"})("font-size:13px;line-height:20px;color:",(0,n.w4)("textMuted"),";margin-right:39px;&:last-child{margin-right:0;}&:hover{color:",(0,n.w4)("textOnInverse"),";border-bottom:1px solid;}",(({theme:e,isSelected:t})=>t&&(0,n.AH)("color:",e.textDefault,";border-bottom:1px solid;")),";"),m=(0,n.Ay)("div",{target:"e584tag23"})({name:"1jtfsfi",styles:"position:relative;margin-bottom:5px"}),g=(0,n.Ay)("div",{target:"e584tag22"})("width:100%;position:relative;float:left;",u.className,"{margin-top:6px;margin-bottom:0;margin-left:45px;padding-left:0;}",h.className,"{margin-right:19px;}",(({isBorderless:e})=>e&&(0,n.AH)(u.className,"{margin-left:45px;}",h.className,"{margin-right:9px;}")),";"),x=(0,n.Ay)("div",{target:"e584tag21"})({name:"6qbw48",styles:"margin-top:8px;margin-bottom:8px;width:100%;position:relative;float:left"}),f=(0,n.Ay)("div",{target:"e584tag20"})("padding:26px 24px 24px;margin-left:0px;border-radius:20px;font-size:14px;line-height:1.4;color:",(0,n.w4)("textDefault"),";overflow:hidden;",r.Hs," ",(({theme:e,isBorderless:t})=>t&&(0,n.AH)("box-shadow:",e.shadowMedium,";border-radius:",e.notificationBorderRadiusPx,";border-color:",e.borderNeutral,";background-color:",e.containerBaseNeutral,";margin-left:45px;")),";"),v=(0,n.Ay)("div",{target:"e584tag19"})({name:"ac0snl",styles:"position:absolute;left:0;bottom:10px"}),y=(0,n.Ay)("div",{target:"e584tag18"})({name:"cy0b9q",styles:"position:relative;display:table;width:100%;div{display:table-cell;vertical-align:top;}"});var b={name:"abmacl",styles:"width:1px;transition:width 300ms 1000ms"};const w=(0,n.Ay)("div",{target:"e584tag17"})("width:40px;",(({hasChannel:e})=>e&&b),";"),j=(0,n.Ay)(c.l,{target:"e584tag16"})({name:"1bpw14p",styles:"position:absolute;top:12px;left:12px;z-index:1;transition:transform 300ms"});var k={name:"1tepm2d",styles:"input{padding-left:33px;}"};const A=(0,n.Ay)("div",{target:"e584tag15"})("position:relative;input{position:absolute;box-sizing:border-box;height:40px;width:100%;padding:0 12px;font-size:14px;font-family:",(0,n.w4)("fontSansSerif"),";color:",(0,n.w4)("textDefault"),";border-radius:4px 0 0 4px;border:1px solid ",(0,n.w4)("borderEmphasisNeutral"),";border-right:0;appearance:none;transition:border 300ms,color 400ms 600ms,padding 300ms 600ms,height 400ms 1000ms;&:disabled{opacity:0.7;}}",(({isPhone:e})=>e&&k)," ",(({hasError:e,theme:t})=>e&&(0,n.AH)("input{border:1px solid ",t.borderError,";background-color:",t.containerError,";}"))," ",(({theme:e,isSuccessful:t})=>t&&(0,n.AH)("input{border:1px solid ",e.borderNeutral,";border-right:0;padding:0;height:20px;font-weight:400;color:",e.textDefault,";text-fill-color:",e.textDefault,";overflow:hidden;text-overflow:ellipsis;&:autofill{box-shadow:0 0 0px 1000px ",e.containerBaseNeutral," inset;text-fill-color:",e.textDefault,"!important;}}",j.className,"{transform:scale(0);}")),";");var C={name:"14j33fn",styles:"padding-left:33px"};const S=(0,n.Ay)("span",{target:"e584tag14"})("position:absolute;box-sizing:border-box;height:40px;width:100%;padding:4px 12px 0;font-size:14px;font-weight:400;font-family:",(0,n.w4)("fontSansSerif"),";line-height:32px;color:",(0,n.w4)("textMuted"),";cursor:text;overflow:hidden;text-overflow:ellipsis;z-index:1;",(({isPhone:e})=>e&&C),";");var T={name:"3ix1vd",styles:"opacity:1"};const _=(0,n.Ay)("div",{target:"e584tag13"})("font-size:14px;line-height:24px;color:",(0,n.w4)("textDefault"),";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;position:static;max-height:48px;",(({isSuccessful:e})=>e&&T),";"),E=(0,n.Ay)("div",{target:"e584tag12"})("font-size:14px;line-height:19px;color:",(0,n.w4)("textMuted"),";text-overflow:ellipsis;overflow:hidden;"),N=(0,n.Ay)("div",{target:"e584tag11"})("font-size:14px;line-height:24px;color:",(0,n.w4)("textDefault"),";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;");var B={name:"10i7m94",styles:"opacity:0.7"};const I=(0,n.Ay)("div",{target:"e584tag10"})("width:35px;height:40px;border-radius:0 4px 4px 0;background-color:",(0,n.w4)("appColor"),";box-shadow:0 1px 2px 0 ",(0,n.w4)("elevation2"),";transition:border-radius 300ms,opacity 300ms 600ms,height 400ms 1000ms;&:hover{opacity:0.7;}",(({isDisabled:e})=>e&&B)," ",(({hasChannel:e,theme:t})=>e&&(0,n.AH)("background-color:",t.fillSuccess,";opacity:0;border-radius:4px;height:20px;&:hover{opacity:0;}",V.className,"{opacity:0;transform:rotate(270deg) translate(-4px, -3px);}",F.className,"{opacity:1;transform:rotate(0deg) scale(1);}")),";");var R={name:"xfpdpv",styles:".intercom-notification-channel-collector-card-controls-prompt{position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;}.intercom-notification-channel-collector-card-controls-message{position:static;opacity:1;visibility:visible;max-height:48px;}.intercom-notification-channel-collector-card-controls-channels{height:0;opacity:0;}"};const P=(0,n.Ay)("div",{target:"e584tag9"})((({isSaved:e})=>e&&R),";"),z=(0,n.Ay)("div",{target:"e584tag8"})("font-size:13px;line-height:20px;height:30px;color:",(0,n.w4)("textMuted"),";transition:opacity 300ms 300ms,height 400ms 1000ms;"),M=(0,n.Ay)("span",{target:"e584tag7"})("margin-right:20px;color:",(0,n.w4)("textMuted"),";&:hover{color:",(0,n.w4)("textDefault"),";border-bottom:1px solid;}",(({theme:e,isSelected:t})=>t&&(0,n.AH)("color:",e.textDefault,";border-bottom:1px solid;")),";"),O=({theme:e})=>(0,n.AH)("margin-bottom:6px;font-size:14px;line-height:24px;max-height:48px;color:",e.textDefault,";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;"),H=(0,n.Ay)("div",{target:"e584tag6"})(O,";"),D=(0,n.Ay)("div",{target:"e584tag5"})(O," position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;"),L={name:"zcwqmz",styles:"position:absolute;top:0;bottom:0;width:35px;height:40px;transition:transform 300ms linear,opacity 150ms linear;background-position:center;background-repeat:no-repeat"},V=(0,n.Ay)("div",{target:"e584tag4"})(L," ",(0,r.op)(o,s,"8px","13px")," opacity:1;"),F=(0,n.Ay)("div",{target:"e584tag3"})(L," ",(0,r.op)(a,l,"18px","14px")," opacity:0;transform:rotate(-90deg) scale(0.5);");var q={name:"46s2pb",styles:"height:0;opacity:0"};const G=(0,n.Ay)("div",{target:"e584tag2"})("height:30px;opacity:1;transition:opacity 300ms 300ms,height 400ms 1000ms;",(({isSuccessful:e})=>e&&q),";");var U={name:"ac0snl",styles:"position:absolute;left:0;bottom:10px"};const $=(0,n.Ay)("div",{target:"e584tag1"})((({isBorderless:e})=>!e&&U),";"),W=(0,n.Ay)("div",{target:"e584tag0"})("color:",(0,n.w4)("textDisabled"),";font-size:14px;text-align:center;border-top:1px solid ",(0,n.w4)("borderEmphasisNeutral"),";padding-top:16px;")},51457:(e,t,i)=>{"use strict";i.d(t,{AJ:()=>u,E9:()=>x,M3:()=>w,Wr:()=>h,gE:()=>m,kG:()=>f,ou:()=>b});var n=i(86923),r=i(18875),o=i(72977);const s=`${(0,n.w4)("alphaBlack10")}`,a=({theme:e})=>(0,n.AH)("box-shadow:-1px 1px 0px ",e.borderEmphasisNeutral,";margin-left:25px;"),l=n.i7`
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    position: initial;
  }
`,c=n.i7`
  0% {
    opacity: 0;
    transform: translateY(-20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,d=n.i7`
  0% {
    opacity: 0;
    transform: translateX(-20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,p=n.i7`
  0% {
    opacity: 0;
    transform: translateX(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,u=(0,n.Ay)(r.Ay,{target:"e1abe4l86"})({name:"fpmrzc",styles:"height:38px;width:38px;pointer-events:none"}),h=(0,n.Ay)("div",{target:"e1abe4l85"})({name:"c8ift8",styles:"position:absolute;pointer-events:none;[x-placement^='top'] &{bottom:-9px;transform:translateY(20px);}[x-placement^='right'] &{transform:translateX(-20px);}[x-placement^='bottom'] &{transform:translateY(-20px);}[x-placement^='left'] &{right:-9px;transform:translateX(20px);}"}),m=(0,n.Ay)("div",{target:"e1abe4l84"})("position:absolute;width:max-content;left:0;top:0;transition:opacity 0.6s ease;z-index:",(0,o.fE)(1),";visibility:visible!important;"),g=800,x=(0,n.Ay)("div",{target:"e1abe4l83"})("animation:",l," ",g,"ms ease;[x-placement^='top'] &{animation:",c," ",g,"ms ease;}[x-placement^='right'] &{animation:",p," ",g,"ms ease;}[x-placement^='bottom'] &{animation:",l," ",g,"ms ease;}[x-placement^='left'] &{animation:",d," ",g,"ms ease;}"),f=(0,n.Ay)("div",{target:"e1abe4l82"})("width:13px;height:25px;position:relative;overflow:hidden;&:after{content:'';position:absolute;width:20px;height:20px;background-color:",(({backgroundColorOverride:e})=>e??(0,n.w4)("containerBaseNeutral")),";transform:rotate(45deg);top:2px;}&[x-placement^='top']{height:13px;width:25px;&:after{top:-12px;left:2px;box-shadow:1px 1px 1px 0 ",s,";}}&[x-placement^='right']{height:25px;width:13px;&:after{right:-12.5px;box-shadow:1px -1px 1px 2px ",s,";}}&[x-placement^='bottom']{height:13px;width:25px;&:after{top:4.5px;left:2px;box-shadow:-1px -1px 1px 0 ",s,";}}&[x-placement^='left']{height:25px;width:13px;&:after{left:-12.5px;box-shadow:-1px 1px 1px 2px ",s,";}}",(({isInsideInbox:e})=>e&&a),";"),v={name:"1nk1x65",styles:"transform:scale(1)"},y=(e,t)=>n.i7`
    0% { ${v} }
    85% { ${((e,t)=>(0,n.AH)("transform:scaleX(calc(1 + (4 / ",e,"))) scaleY(calc(1 + (4 / ",t,")));"))(e,t)} }
    100% { ${v} }
  `,b=(0,n.Ay)("div",{target:"e1abe4l81"})("z-index:",(0,o.fE)(),";content:'';display:none;position:absolute;left:0;top:0;width:0;height:0;pointer-events:none;border-radius:1px;box-sizing:border-box;",(({isAnimating:e,width:t,height:i})=>e&&(0,n.AH)("animation:",y(t,i)," 2s infinite;"))," ",(({isPost:e,theme:t})=>e&&(0,n.AH)("display:block;position:fixed;top:50%;left:50%;box-shadow:0px 0px 0px 4000px ",t.alphaBlack30,";"))," ",(({isStep:e,theme:t,buttonColor:i})=>e&&(0,n.AH)("display:block;margin:3px;box-shadow:0 0 0 3px ",i||t.appColor,",0px 0px 0px 4000px ",t.alphaBlack30,";")),";"),w=(0,n.Ay)("div",{target:"e1abe4l80"})((({scrollable:e,theme:t})=>e&&(0,n.AH)("position:fixed;height:100%;width:100%;top:0;left:0;opacity:0;box-sizing:border-box;z-index:",(0,o.fE)(0,t),";")),";")},46531:(e,t,i)=>{"use strict";i.d(t,{p:()=>r});var n=i(86923);const r=(0,n.Ay)("div",{target:"e1bo99k0"})("position:absolute;border-top:1px solid ",(0,n.w4)("borderNeutral"),";width:100%;height:10px;pointer-events:none;z-index:100;")},14314:(e,t,i)=>{"use strict";i.d(t,{PG:()=>u,_j:()=>m,hE:()=>g,kh:()=>h,mx:()=>d,zP:()=>c});var n=i(86923),r=i(17905),o=i(68239),s=i(72977);const a=n.i7`
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`;var l={name:"o8oj3q",styles:"margin:0 auto;width:100%"};const c=(0,n.Ay)("div",{target:"e141za3z5"})("max-height:",(0,n.w4)("notificationHeightPx"),"px;width:",340,"px;&,*{cursor:pointer;}",r.jt.className,"{border-radius:",(0,n.w4)("notificationBorderRadiusPx"),"px;padding:18px 20px;box-shadow:",(0,n.w4)("shadowSmall"),";}",r.TJ.className,"{padding:0;}",(({theme:e})=>e.isMobileSize&&l),";"),d=(0,n.Ay)("div",{target:"e141za3z4"})("padding-top:8px;font-size:14px;overflow:hidden;line-height:22px;max-height:44px;color:",(0,n.w4)("textDefault"),";animation:",a," 500ms ease;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;");var p={name:"1d3w5wq",styles:"width:100%"};const u=(0,n.Ay)("div",{target:"e141za3z3"})("height:100%;width:",340,"px;position:relative;*{cursor:pointer;}",o.$z.className,"{width:100%;}",(({theme:e})=>e.isMobileSize&&p),";"),h=(0,n.Ay)(d,{target:"e141za3z2"})({name:"xda5ep",styles:"margin-top:12px"}),m=(0,n.Ay)("div",{target:"e141za3z1"})("/* @noflip */margin-left:45px;padding:17px 22px;box-sizing:border-box;background-color:",(0,n.w4)("containerBaseNeutral"),";border-radius:",(0,n.w4)("notificationBorderRadiusPx"),"px;/* @noflip */border-bottom-left-radius:0;box-shadow:",(0,n.w4)("shadowMedium"),";font-size:13px;line-height:1.5;height:100%;position:relative;&:after{",(({theme:e})=>(0,s.gu)({theme:e})),";}"),g=(0,n.Ay)("div",{target:"e141za3z0"})("position:absolute;bottom:0;/* @noflip */left:3px;box-shadow:",(0,n.w4)("shadowMedium"),";border-radius:50%;")},13555:(e,t,i)=>{"use strict";i.d(t,{C:()=>o,D:()=>s});var n=i(86923);const r={name:"1fgiiou",styles:"position:absolute;clip:rect(1px, 1px, 1px, 1px)"},o=(0,n.Ay)("button",{target:"ejitj6g1"})(r,";"),s=(0,n.Ay)("div",{target:"ejitj6g0"})(r,";")},15403:(e,t,i)=>{const{WebTracerProvider:n}=i(46036),{Resource:r}=i(40010),{SimpleSpanProcessor:o,NoopSpanProcessor:s}=i(21391),{OTLPTraceExporter:a}=i(86287),{ATTR_SERVICE_NAME:l,ATTR_SERVICE_VERSION:c}=i(51002),{getConfig:d}=i(69607),{registerInstrumentations:p}=i(62393),{XMLHttpRequestInstrumentation:u}=i(43391),{GlobalAttributesSpanProcessor:h}=i(41567),{GlobalTraceAttributes:m}=i(22541),{MessengerIdGenerator:g}=i(88647);e.exports={setupTracing:function(){const e=d().telemetry_base;if(!e)return;const t="messenger",i=m.get().app_id,x=new r({[l]:t,[c]:"07d63604118be75f17de917c22c0dabbf6780a43",service_name:t,sluginator_run_id:"4557244"}),f=new URLSearchParams(Object.assign({},i&&{app_id:i})),v=new a({url:`${e}/ember/otlp?${f.toString()}`,headers:{"X-OTLP-SOURCE":"messenger"}});let y;y="test"==="production".environment?new s:new o(v);const b=new n({resource:x,spanProcessors:[new h,y],idGenerator:new g}),w=[/^http(s)?:\/\/.*intercom-messenger\.com\/messenger\/web\/messages$/,/^http(s)?:\/\/.*intercom\.(io|com)\/+messenger\/web\/messages$/,/^http(s)?:\/\/.*intercom\.test\/+messenger\/web\/messages$/,/^http(s)?:\/\/.*intercom-messenger\.com\/messenger\/web\/conversations\/[0-9]+\/reply$/,/^http(s)?:\/\/.*intercom\.(io|com)\/+messenger\/web\/conversations\/[0-9]+\/reply$/,/^http(s)?:\/\/.*intercom\.test\/+messenger\/web\/conversations\/[0-9]+\/reply$/,/^http(s)?:\/\/.*intercom-messenger\.com\/messenger\/web\/conversations\/[0-9]+\/quick_reply$/,/^http(s)?:\/\/.*intercom\.(io|com)\/+messenger\/web\/conversations\/[0-9]+\/quick_reply$/,/^http(s)?:\/\/.*intercom\.test\/+messenger\/web\/conversations\/[0-9]+\/quick_reply$/];return p({instrumentations:[new u({allowUrls:w,propagateTraceHeaderCorsUrls:w,ignoreXhrEvents:!0,applyCustomAttributesOnSpan:(e,t)=>{const i={},n=t.getAllResponseHeaders();n.indexOf("x-request-id")>=0&&(i.request_id=t.getResponseHeader("x-request-id")),n.indexOf("x-runtime")>=0&&(i["http.response.headers.x-runtime"]=Math.round(1e3*Number(t.getResponseHeader("x-runtime")))),n.indexOf("x-request-queueing")>=0&&(i["network.backend_queueing_ms"]=Number(t.getResponseHeader("x-request-queueing"))),e.setAttributes(i)}})]}),b.register(),b}}},41567:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalAttributesSpanProcessor:()=>GlobalAttributesSpanProcessor});var n=i(22541);class GlobalAttributesSpanProcessor{onStart(e){try{const t=n.GlobalTraceAttributes.get();t["_internal.clock_drift"]=Date.now()-(performance.timeOrigin+performance.now()),t["_internal.span_sent_system_time"]=Date.now(),t["_internal.span_sent_monotonic_time"]=performance.now()+performance.timeOrigin,e.setAttributes(t)}catch(e){}}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}},88647:(e,t,i)=>{"use strict";i.r(t),i.d(t,{MessengerIdGenerator:()=>MessengerIdGenerator});var n=i(46036);class MessengerIdGenerator{constructor(){this.baseGenerator=new n.RandomIdGenerator,this.generateTraceId=()=>"66696e00"+this.baseGenerator.generateTraceId().substring(8),this.generateSpanId=()=>this.baseGenerator.generateSpanId()}}},37363:(e,t,i)=>{"use strict";e.exports=i.p+"images/typing-indicator-dots-dark.edd1449360c0b95b68f6.webp"},38081:(e,t,i)=>{"use strict";e.exports=i.p+"images/typing-indicator-dots-light.bca780561b938c6d59fa.webp"}}]);