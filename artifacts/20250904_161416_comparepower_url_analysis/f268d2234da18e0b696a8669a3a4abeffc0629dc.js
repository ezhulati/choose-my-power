"use strict";(globalThis.webpackChunkintercom_js=globalThis.webpackChunkintercom_js||[]).push([[9962],{39168:(e,i,s)=>{s.r(i),s.d(i,{default:()=>LauncherDiscoveryFrame});var t=s(96540),n=s(71468),o=s(49651),a=s(69830),r=s(86923);const h=r.i7`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,l=r.i7`
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
`,c=(0,r.Ay)("div",{target:"e10h94694"})("padding:9px;cursor:pointer;background-color:",(0,r.w4)("containerBaseNeutral"),";position:absolute;opacity:0;font-family:",(0,r.w4)("fontSansSerif"),";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;border-radius:35px;outline-offset:-5px;*{cursor:pointer;}",(({isOpen:e})=>e&&(0,r.AH)("animation:",h," 200ms linear both;animation-delay:320ms;"))," ",(({isClosing:e})=>e&&(0,r.AH)("animation:",l," 200ms linear both;"))," ",(({isLeftAligned:e})=>e&&(0,r.AH)(p.className,"{order:1;/* @noflip */padding-left:58px;/* @noflip */padding-right:10px;}")),";"),d=(0,r.Ay)("div",{target:"e10h94693"})("white-space:nowrap;background-color:",(0,r.w4)("containerBaseNeutral"),";display:flex;flex-direction:row;"),p=(0,r.Ay)("div",{target:"e10h94692"})({name:"1awik2p",styles:"display:inline-block;vertical-align:middle;/* @noflip */padding-left:4px;/* @noflip */padding-right:50px;order:2"}),u=(0,r.Ay)("div",{target:"e10h94691"})("font-size:15px;color:",(0,r.w4)("textDefault"),";font-weight:500;padding-top:1px;"),g=(0,r.Ay)("div",{target:"e10h94690"})("padding-top:7px;font-size:14px;font-weight:500;white-space:nowrap;color:",(0,r.w4)("textMuted"),";");var m=s(74848);class LauncherDiscoveryBody extends t.PureComponent{constructor(...e){super(...e),this.node=void 0,this.handleMouseEnter=()=>this.props.onMouseEnter(),this.handleMouseLeave=()=>this.props.onMouseLeave(),this.addLauncherClickMetric=e=>{(0,a.A5)("clicked","launcher","in_app","",{is_messenger_open:e,is_custom_launcher:!1})},this.handleLauncherDiscoveryClick=()=>{const{onClick:e,isMessengerOpen:i}=this.props;this.addLauncherClickMetric(i),e()}}componentDidMount(){this.node&&this.props.setWidth(this.node.clientWidth)}componentDidUpdate(){this.node&&this.props.setWidth(this.node.clientWidth)}render(){const{launcherExpectedResponseDelayTranslationKey:e,isOpen:i,isClosing:s,isLeftAligned:t}=this.props;return(0,m.jsx)(c,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:e=>this.node=e,onClick:this.handleLauncherDiscoveryClick,tabIndex:i?0:-1,"aria-label":(0,o.Tl)("open_intercom_messenger"),"aria-hidden":!i,isOpen:i,isClosing:s,isLeftAligned:t,children:(0,m.jsx)(d,{children:(0,m.jsxs)(p,{children:[(0,m.jsx)(u,{children:(0,o.Tl)("discovery_mode_entry_text")}),(0,m.jsx)(g,{children:(0,o.Tl)(e)})]})})})}}const y=(0,n.Ng)((e=>{const{app:{launcherExpectedResponseDelayTranslationKey:i,isMessengerOpen:s}}=e;return{isMessengerOpen:s,launcherExpectedResponseDelayTranslationKey:i}}))(LauncherDiscoveryBody);var v=s(18875),x=s(72977);var f={name:"1linmwi",styles:"opacity:1;width:70px;transition:width 400ms ease,transform 400ms ease 400ms"},C={name:"jqlbh0",styles:"opacity:1;transform:scale(1)"};const L=(0,r.Ay)(v.Ay,{target:"e1mq83fm0"})("z-index:",(0,x.fE)(-1),";position:fixed;bottom:",(0,r.w4)("discoveryLauncherVerticalPaddingPx"),"px;right:",(0,r.w4)("discoveryLauncherHorizontalPaddingPx"),"px;height:70px;transform:scale(0.8);border-radius:35px;background-color:",(0,r.w4)("containerBaseNeutral"),";opacity:0;box-shadow:",(0,r.w4)("shadowXLarge"),";transition:width 400ms ease,transform 400ms ease;width:",(0,r.xk)("width"),"px;",(({theme:e})=>e.isLeftAlign&&(0,r.AH)("left:",e.discoveryLauncherHorizontalPaddingPx,"px;right:auto;"))," ",(({opening:e})=>e&&C)," ",(({closing:e})=>e&&f),";");class LauncherDiscoveryFrame extends t.PureComponent{constructor(...e){super(...e),this.isClosingTimeout=void 0,this.state={width:null,childWidth:null,isClosing:!1},this.setChildWidth=e=>{this.setState({childWidth:e})},this.addLauncherOpeningMetric=()=>{(0,a.A5)("opening","launcher","in_app","",{is_discovery_launcher:!0})},this.handleOpening=()=>{this.state.childWidth&&(this.addLauncherOpeningMetric(),this.setState({width:this.state.childWidth+20}))},this.handleClosing=()=>{this.state.isClosing||(this.setState({isClosing:!0}),this.setClosingTimeout())},this.handleLauncherDiscoveryClick=()=>{this.handleClosing(),setTimeout((()=>this.props.onLauncherDiscoveryClick()),200)},this.handleMouseEnter=()=>{this.clearClosingTimeout(),this.props.onDiscoveryLauncherMouseEnter()},this.handleMouseLeave=()=>{this.props.onDiscoveryLauncherMouseOut()}}componentDidUpdate(e,i){const{isLauncherDiscoveryModeOpening:s,isLauncherDiscoveryModeClosing:t}=this.props;e.isLauncherDiscoveryModeOpening&&s&&i.childWidth||(!e.isLauncherDiscoveryModeClosing&&t&&this.handleClosing(),s&&this.handleOpening())}setClosingTimeout(){this.isClosingTimeout=setTimeout((()=>{this.setState({isClosing:!1,width:null})}),400)}clearClosingTimeout(){this.isClosingTimeout&&clearTimeout(this.isClosingTimeout)}componentWillUnmount(){this.clearClosingTimeout()}render(){const{isLeftAligned:e,isLauncherDiscoveryModeOpening:i,isLauncherDiscoveryModeClosing:s,showDiscoveryLauncher:t}=this.props;return t?(0,m.jsx)(L,{className:"intercom-launcher-discovery-frame",frameName:"intercom-launcher-discovery-frame",title:`Intercom live chat ${(0,o.Tl)("discovery_launcher")}`,ariaLiveAssertive:!1,width:this.state.width,opening:i,closing:this.state.isClosing,children:()=>(0,m.jsx)(y,{setWidth:this.setChildWidth,isOpen:i,isClosing:s,isLeftAligned:e,onClick:this.handleLauncherDiscoveryClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave})}):null}}}}]);