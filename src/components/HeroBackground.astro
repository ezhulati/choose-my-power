---
export interface Props {
  imageUrl?: string;
  fallbackClass?: string;
  overlayOpacity?: number;
}

const { 
  imageUrl,
  fallbackClass = "bg-gradient-to-br from-red-900 via-red-800 to-red-700",
  overlayOpacity = 0.7
} = Astro.props;

// Debug logging
console.log('üñºÔ∏è  HeroBackground Debug:', {
  imageUrl: imageUrl || 'No image provided',
  hasImage: !!imageUrl,
  fallbackClass
});
---

<div 
  class="relative min-h-full" 
  style={imageUrl ? 
    `background: linear-gradient(135deg, rgba(0, 0, 0, ${overlayOpacity}), rgba(15, 23, 42, ${overlayOpacity + 0.1}), rgba(30, 41, 59, ${overlayOpacity + 0.1})), url('${imageUrl}'); background-size: cover; background-position: center; background-repeat: no-repeat;` : 
    'background: linear-gradient(135deg, #1e3a8a, #1e40af, #3730a3);'
  }
>
  <!-- Content -->
  <div class="relative flex items-center justify-center min-h-full" style="z-index: 2;">
    <slot />
  </div>
</div>

<style>
  /* Ensure proper layering and performance */
  .bg-cover {
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }
  
  /* Hardware acceleration */
  .transform {
    transform: translate3d(0, 0, 0);
  }
  
  /* Smooth transitions */
  @media (prefers-reduced-motion: no-preference) {
    .scale-105 {
      transition: transform 0.3s ease-out;
    }
  }
</style>